"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[1803],{"./ui/pages/swaps/prepare-swap-page/slippage-notification-modal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>slippage_notification_modal_stories});var _DefaultStory$paramet,_DefaultStory$paramet2,react=__webpack_require__("./node_modules/react/index.js"),external_STORYBOOK_MODULE_CLIENT_API_=__webpack_require__("@storybook/client-api"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),swaps=__webpack_require__("./shared/constants/swaps.ts"),i18n=__webpack_require__("./ui/contexts/i18n.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),deprecated=__webpack_require__("./ui/components/component-library/modal-content/deprecated/index.ts"),modal_header_deprecated=__webpack_require__("./ui/components/component-library/modal-header/deprecated/index.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),banner_alert=__webpack_require__("./ui/components/component-library/banner-alert/index.ts"),box=__webpack_require__("./ui/components/ui/box/index.js"),swaps_swaps=__webpack_require__("./ui/ducks/swaps/swaps.js");function SwapsBannerAlert({swapsErrorKey,showTransactionSettingsLink,currentSlippage}){const t=(0,react.useContext)(i18n.OO),dispatch=(0,es.I0)();let title,description,severity=design_system.t3.DANGER;const transactionSettingsLink=react.createElement(component_library.xv,{variant:design_system.rK.bodyMd},react.createElement(component_library.ZP,{onClick:e=>{e.preventDefault(),dispatch((0,swaps_swaps.Lj)(!0))},size:component_library.o3.Inherit},t("swapAdjustSlippage")));switch(swapsErrorKey){case swaps.WS:title=t("swapSlippageOverLimitTitle"),description=react.createElement(box.ZP,null,react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h6"},t("swapSlippageOverLimitDescription")),transactionSettingsLink);break;case swaps.Hc:severity=design_system.t3.WARNING,title=t("swapSlippageHighTitle"),description=react.createElement(box.ZP,null,react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h6"},t("swapSlippageHighDescription",[currentSlippage])),showTransactionSettingsLink&&transactionSettingsLink);break;case swaps.AF:severity=design_system.t3.WARNING,title=t("swapSlippageLowTitle"),description=react.createElement(box.ZP,null,react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h6"},t("swapSlippageLowDescription",[currentSlippage])),showTransactionSettingsLink&&transactionSettingsLink);break;case swaps.nG:title=t("swapSlippageNegativeTitle"),description=react.createElement(box.ZP,null,react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h6"},t("swapSlippageNegativeDescription")),transactionSettingsLink);break;case swaps.yP:title=t("swapQuotesNotAvailableErrorTitle"),description=react.createElement(box.ZP,null,react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h6"},t("swapQuotesNotAvailableDescription")),react.createElement(component_library.ZP,{size:component_library.o3.Inherit,textProps:{variant:design_system.rK.bodyMd,alignItems:design_system.g1.flexStart},as:"a",href:"https://support.metamask.io/hc/en-us/articles/4405093054363-User-Guide-Swaps",target:"_blank",rel:"noopener noreferrer"},t("swapLearnMore")));break;case swaps.Cf:title=t("swapFetchingQuotesErrorTitle"),description=react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h6"},t("swapFetchingQuotesErrorDescription"));break;case swaps.Im:title=t("swapContractDataDisabledErrorTitle"),description=react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h6"},t("swapContractDataDisabledErrorDescription"));break;case swaps.ez:title=t("swapQuotesExpiredErrorTitle"),description=react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h6"},t("swapQuotesExpiredErrorDescription"));break;case swaps.wE:title=t("offlineForMaintenance"),description=react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h6"},t("metamaskSwapsOfflineDescription"));break;case swaps.MC:title=t("swapFailedErrorTitle")}return react.createElement(banner_alert.w,{severity,title,titleProps:{"data-testid":"swaps-banner-title"}},description)}function SlippageNotificationModal({isOpen,slippageErrorKey,setSlippageNotificationModalOpened,onSwapSubmit,currentSlippage}){const t=(0,react.useContext)(i18n.OO),[submitting,setSubmitting]=(0,react.useState)(!1),primaryButtonText=t(submitting?"preparingSwap":"swapAnyway");return react.createElement(component_library.u_,{onClose:()=>setSlippageNotificationModalOpened(!1),isOpen,isClosedOnOutsideClick:!0,isClosedOnEscapeKey:!0,className:"mm-modal__custom-scrollbar"},react.createElement(component_library.ZA,null),react.createElement(deprecated.h,null,react.createElement(modal_header_deprecated.x,{onClose:()=>setSlippageNotificationModalOpened(!1)},slippageErrorKey===swaps.Hc?t("swapHighSlippage"):slippageErrorKey===swaps.AF?t("swapLowSlippage"):""),react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.spaceBetween,alignItems:design_system.g1.stretch,className:"high-slippage__content",marginTop:7},react.createElement(SwapsBannerAlert,{swapsErrorKey:slippageErrorKey,showTransactionSettingsLink:!0,currentSlippage}),react.createElement(component_library.xu,{marginTop:5},react.createElement(component_library.DF,{onClick:()=>{setSubmitting(!0),onSwapSubmit({acknowledgedSlippage:!0})},block:!0,"data-testid":"high-slippage-continue-anyway",disabled:submitting},primaryButtonText)))))}SwapsBannerAlert.propTypes={swapsErrorKey:prop_types_default().string,showTransactionSettingsLink:prop_types_default().bool,currentSlippage:prop_types_default().number},SwapsBannerAlert.__docgenInfo={description:"",methods:[],displayName:"SwapsBannerAlert",props:{swapsErrorKey:{description:"",type:{name:"string"},required:!1},showTransactionSettingsLink:{description:"",type:{name:"bool"},required:!1},currentSlippage:{description:"",type:{name:"number"},required:!1}}};try{slippagenotificationmodal.displayName="slippagenotificationmodal",slippagenotificationmodal.__docgenInfo={description:"",displayName:"slippagenotificationmodal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},slippageErrorKey:{defaultValue:null,description:"",name:"slippageErrorKey",required:!0,type:{name:"string"}},setSlippageNotificationModalOpened:{defaultValue:null,description:"",name:"setSlippageNotificationModalOpened",required:!0,type:{name:"(isOpen: boolean) => void"}},onSwapSubmit:{defaultValue:null,description:"",name:"onSwapSubmit",required:!0,type:{name:"(opts: { acknowledgedSlippage: boolean; }) => void"}},currentSlippage:{defaultValue:null,description:"",name:"currentSlippage",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/pages/swaps/prepare-swap-page/slippage-notification-modal.tsx#slippagenotificationmodal"]={docgenInfo:slippagenotificationmodal.__docgenInfo,name:"slippagenotificationmodal",path:"ui/pages/swaps/prepare-swap-page/slippage-notification-modal.tsx#slippagenotificationmodal"})}catch(__react_docgen_typescript_loader_error){}const slippage_notification_modal_stories={title:"Pages/Swaps/SlippageNotificationModal",component:SlippageNotificationModal,argTypes:{isShowingModal:{control:"boolean"}}},DefaultStory=()=>{const[{isShowingModal},updateArgs]=(0,external_STORYBOOK_MODULE_CLIENT_API_.useArgs)(),toggleModal=()=>updateArgs({isShowingModal:!isShowingModal});return react.createElement(react.Fragment,null,react.createElement(component_library.zx,{variant:component_library.RN.PRIMARY,onClick:toggleModal},"Open modal"),isShowingModal&&react.createElement(SlippageNotificationModal,{isOpen:isShowingModal,slippageErrorKey:swaps.Hc,onSwapSubmit:()=>{console.log("onSwapSubmit")},currentSlippage:10,setSlippageNotificationModalOpened:toggleModal}))};DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"() => {\n  const [{\n    isShowingModal\n  }, updateArgs] = useArgs();\n  const toggleModal = () => updateArgs({\n    isShowingModal: !isShowingModal\n  });\n  return <>\n      <Button variant={BUTTON_VARIANT.PRIMARY} onClick={toggleModal}>\n        Open modal\n      </Button>\n      {isShowingModal && <SlippageNotificationModal isOpen={isShowingModal} slippageErrorKey={SLIPPAGE_HIGH_ERROR} onSwapSubmit={() => {\n      console.log('onSwapSubmit');\n    }} currentSlippage={10} setSlippageNotificationModalOpened={toggleModal} />}\n    </>;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"]}}]);