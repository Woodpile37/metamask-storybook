"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[2257],{"./ui/pages/swaps/slippage-buttons/slippage-buttons.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DefaultStory$paramet,_DefaultStory$paramet2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),_slippage_buttons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/pages/swaps/slippage-buttons/slippage-buttons.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Pages/Swaps/SlippageButtons"},DefaultStory=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:"200px",marginTop:"160px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_slippage_buttons__WEBPACK_IMPORTED_MODULE_2__.Z,{onSelect:(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.aD)("slippage")}));DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"() => <div style={{\n  height: '200px',\n  marginTop: '160px'\n}}>\n    <SlippageButtons onSelect={action('slippage')} />\n  </div>",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/ui/button-group/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ButtonGroup});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class ButtonGroup extends react.PureComponent{constructor(...args){super(...args),_defineProperty(this,"state",{activeButtonIndex:this.props.noButtonActiveByDefault?null:this.props.defaultActiveButtonIndex})}componentDidUpdate(_,prevState){"number"==typeof this.props.newActiveButtonIndex&&prevState.activeButtonIndex!==this.props.newActiveButtonIndex&&this.setState({activeButtonIndex:this.props.newActiveButtonIndex})}handleButtonClick(activeButtonIndex){this.setState({activeButtonIndex})}renderButtons(){const{children,disabled,variant}=this.props;return react.Children.map(children,((child,index)=>child&&react.createElement("button",{role:"radiogroup"===variant?"radio":void 0,"aria-checked":index===this.state.activeButtonIndex,className:classnames_default()("button-group__button",child.props.className,{"radio-button":"radiogroup"===variant,"button-group__button--active":index===this.state.activeButtonIndex,"radio-button--active":"radiogroup"===variant&&index===this.state.activeButtonIndex}),"data-testid":`button-group__button${index}`,onClick:()=>{var _child$props$onClick,_child$props;this.handleButtonClick(index),null===(_child$props$onClick=(_child$props=child.props).onClick)||void 0===_child$props$onClick||_child$props$onClick.call(_child$props)},disabled:disabled||child.props.disabled,key:index},child.props.children)))}render(){const{className,style,variant}=this.props;return react.createElement("div",{className:classnames_default()(className,{"radio-button-group":"radiogroup"===variant}),role:"radiogroup"===variant?"radiogroup":void 0,style},this.renderButtons())}}_defineProperty(ButtonGroup,"propTypes",{defaultActiveButtonIndex:prop_types_default().number,noButtonActiveByDefault:prop_types_default().bool,disabled:prop_types_default().bool,children:prop_types_default().array,className:prop_types_default().string,style:prop_types_default().object,newActiveButtonIndex:prop_types_default().number,variant:prop_types_default().oneOf(["radiogroup","default"])}),_defineProperty(ButtonGroup,"defaultProps",{className:"button-group",defaultActiveButtonIndex:0,variant:"default"}),ButtonGroup.__docgenInfo={description:"",methods:[{name:"handleButtonClick",docblock:null,modifiers:[],params:[{name:"activeButtonIndex",type:null}],returns:null},{name:"renderButtons",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ButtonGroup",props:{className:{defaultValue:{value:"'button-group'",computed:!1},description:"Adds a className to the root div of the of the ButtonGroup component",type:{name:"string"},required:!1},defaultActiveButtonIndex:{defaultValue:{value:"0",computed:!1},description:"change button active order",type:{name:"number"},required:!1},variant:{defaultValue:{value:"'default'",computed:!1},description:"options for rendering type of button, consist of 'default' and 'radiogroup'",type:{name:"enum",value:[{value:"'radiogroup'",computed:!1},{value:"'default'",computed:!1}]},required:!1},noButtonActiveByDefault:{description:"no button are active before clicked by the user",type:{name:"bool"},required:!1},disabled:{description:"disabling every button inside button group",type:{name:"bool"},required:!1},children:{description:"Children must be an array of button components",type:{name:"array"},required:!1},style:{description:"adding style for button group component",type:{name:"object"},required:!1},newActiveButtonIndex:{description:"updating value of active button in button group component",type:{name:"number"},required:!1}}}},"./ui/pages/swaps/slippage-buttons/slippage-buttons.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SlippageButtons});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_contexts_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/contexts/i18n.js"),_components_ui_button_group__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/button-group/index.js"),_components_ui_button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/ui/button/index.js"),_components_ui_info_tooltip__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/info-tooltip/index.js"),_components_ui_toggle_button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/ui/toggle-button/index.js"),_components_ui_box__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/ui/box/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_swaps_util__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/pages/swaps/swaps.util.ts"),_shared_constants_swaps__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./shared/constants/swaps.ts"),_components_component_library__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./ui/components/component-library/index.ts");function SlippageButtons({onSelect,maxAllowedSlippage,currentSlippage,smartTransactionsEnabled,smartTransactionsOptInStatus,setSmartTransactionsOptInStatus,currentSmartTransactionsError,isDirectWrappingEnabled}){const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_2__.OO),[customValue,setCustomValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>"number"!=typeof currentSlippage||Object.values(_shared_constants_swaps__WEBPACK_IMPORTED_MODULE_10__.p6).includes(currentSlippage)?"":currentSlippage.toString())),[enteringCustomValue,setEnteringCustomValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[activeButtonIndex,setActiveButtonIndex]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>currentSlippage===_shared_constants_swaps__WEBPACK_IMPORTED_MODULE_10__.p6.high?1:currentSlippage===_shared_constants_swaps__WEBPACK_IMPORTED_MODULE_10__.p6.default?0:"number"==typeof currentSlippage?2:0)),[open,setOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>currentSlippage!==_shared_constants_swaps__WEBPACK_IMPORTED_MODULE_10__.p6.default)),[inputRef,setInputRef]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);let errorText="";customValue&&(Number(customValue)<0?errorText=t("swapSlippageNegative"):Number(customValue)>0&&Number(customValue)<=1?errorText=t("swapLowSlippageError"):Number(customValue)>=5&&Number(customValue)<=maxAllowedSlippage?errorText=t("swapHighSlippageWarning"):Number(customValue)>maxAllowedSlippage&&(errorText=t("swapsExcessiveSlippageWarning")));const customValueText=customValue||t("swapCustom");return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{inputRef&&enteringCustomValue&&window.document.activeElement!==inputRef&&inputRef.focus()}),[inputRef,enteringCustomValue]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slippage-buttons"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:()=>setOpen(!open),className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("slippage-buttons__header",{"slippage-buttons__header--open":open})},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slippage-buttons__header-text"},t("swapsAdvancedOptions")),open?react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fa fa-angle-up"}):react__WEBPACK_IMPORTED_MODULE_0__.createElement("i",{className:"fa fa-angle-down"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slippage-buttons__content"},open&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,!isDirectWrappingEnabled&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slippage-buttons__dropdown-content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slippage-buttons__buttons-prefix"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slippage-buttons__prefix-text"},t("swapsMaxSlippage")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_info_tooltip__WEBPACK_IMPORTED_MODULE_5__.Z,{position:"top",contentText:t("swapSlippageTooltip")})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_button_group__WEBPACK_IMPORTED_MODULE_3__.Z,{defaultActiveButtonIndex:2!==activeButtonIndex||customValue?activeButtonIndex:1,variant:"radiogroup",newActiveButtonIndex:activeButtonIndex,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("button-group","slippage-buttons__button-group")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Z,{onClick:()=>{setCustomValue(""),setEnteringCustomValue(!1),setActiveButtonIndex(0),onSelect(_shared_constants_swaps__WEBPACK_IMPORTED_MODULE_10__.p6.default)}},t("swapSlippagePercent",[_shared_constants_swaps__WEBPACK_IMPORTED_MODULE_10__.p6.default])),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Z,{onClick:()=>{setCustomValue(""),setEnteringCustomValue(!1),setActiveButtonIndex(1),onSelect(_shared_constants_swaps__WEBPACK_IMPORTED_MODULE_10__.p6.high)}},t("swapSlippagePercent",[_shared_constants_swaps__WEBPACK_IMPORTED_MODULE_10__.p6.high])),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Z,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("slippage-buttons__button-group-custom-button",{"radio-button--danger":errorText}),onClick:()=>{setActiveButtonIndex(2),setEnteringCustomValue(!0)}},enteringCustomValue?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("slippage-buttons__custom-input",{"slippage-buttons__custom-input--danger":errorText})},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{"data-testid":"slippage-buttons__custom-slippage",onChange:event=>{const{value}=event.target;!isNaN(Number(value))&&(setCustomValue(value),onSelect(Number(value)))},type:"text",maxLength:"4",ref:setInputRef,onBlur:()=>{setEnteringCustomValue(!1)},value:customValue||""})):customValueText,(customValue||enteringCustomValue)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slippage-buttons__percentage-suffix"},"%")))),smartTransactionsEnabled&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box__WEBPACK_IMPORTED_MODULE_7__.ZP,{marginTop:2,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.sS.Flex},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box__WEBPACK_IMPORTED_MODULE_7__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.g1.center,paddingRight:3},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_11__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.rK.bodySm,as:"h6",paddingRight:2,fontWeight:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.U9.Bold},t("smartSwaps")),currentSmartTransactionsError?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_info_tooltip__WEBPACK_IMPORTED_MODULE_5__.Z,{position:"top",contentText:(0,_swaps_util__WEBPACK_IMPORTED_MODULE_9__.gq)(currentSmartTransactionsError,t)}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_info_tooltip__WEBPACK_IMPORTED_MODULE_5__.Z,{position:"top",contentText:t("smartSwapsTooltip",[react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_11__.ZP,{key:"smart-swaps-faq-and-risk-disclosures",size:_components_component_library__WEBPACK_IMPORTED_MODULE_11__.o3.Inherit,href:_shared_constants_swaps__WEBPACK_IMPORTED_MODULE_10__.yS,externalLink:!0,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_8__.sS.Inline},t("faqAndRiskDisclosures"))])})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_toggle_button__WEBPACK_IMPORTED_MODULE_6__.Z,{value:smartTransactionsOptInStatus,onToggle:value=>{setSmartTransactionsOptInStatus(!value,value)},offLabel:t("off"),onLabel:t("on"),disabled:Boolean(currentSmartTransactionsError)}))),errorText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"slippage-buttons__error-text"},errorText)))}SlippageButtons.propTypes={onSelect:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func.isRequired,maxAllowedSlippage:prop_types__WEBPACK_IMPORTED_MODULE_12___default().number.isRequired,currentSlippage:prop_types__WEBPACK_IMPORTED_MODULE_12___default().number,smartTransactionsEnabled:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool.isRequired,smartTransactionsOptInStatus:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool,setSmartTransactionsOptInStatus:prop_types__WEBPACK_IMPORTED_MODULE_12___default().func,currentSmartTransactionsError:prop_types__WEBPACK_IMPORTED_MODULE_12___default().string,isDirectWrappingEnabled:prop_types__WEBPACK_IMPORTED_MODULE_12___default().bool},SlippageButtons.__docgenInfo={description:"",methods:[],displayName:"SlippageButtons",props:{onSelect:{description:"",type:{name:"func"},required:!0},maxAllowedSlippage:{description:"",type:{name:"number"},required:!0},currentSlippage:{description:"",type:{name:"number"},required:!1},smartTransactionsEnabled:{description:"",type:{name:"bool"},required:!0},smartTransactionsOptInStatus:{description:"",type:{name:"bool"},required:!1},setSmartTransactionsOptInStatus:{description:"",type:{name:"func"},required:!1},currentSmartTransactionsError:{description:"",type:{name:"string"},required:!1},isDirectWrappingEnabled:{description:"",type:{name:"bool"},required:!1}}}}}]);