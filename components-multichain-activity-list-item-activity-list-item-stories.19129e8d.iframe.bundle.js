"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[3907],{"./ui/components/multichain/activity-list-item/activity-list-item.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>activity_list_item_stories});var _DefaultStory$paramet,_DefaultStory$paramet2,react=__webpack_require__("./node_modules/react/index.js"),transaction_status_label=__webpack_require__("./ui/components/app/transaction-status-label/transaction-status-label.js"),transaction_icon=__webpack_require__("./ui/components/app/transaction-icon/index.js"),cancel_button=__webpack_require__("./ui/components/app/cancel-button/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),activity_list_item=__webpack_require__("./ui/components/multichain/activity-list-item/activity-list-item.js");const activity_list_item_stories={title:"Components/Multichain/ActivityListItem",component:activity_list_item.m},DefaultStory=(args=>react.createElement(activity_list_item.m,args)).bind({});DefaultStory.args={"data-testid":"activity-list-item",onClick:()=>{},className:"custom-class",title:"Activity Title",icon:react.createElement(component_library.MF,{anchorElementShape:component_library.o4.circular,positionObj:{top:-4,right:-4},display:design_system.sS.Block,badge:react.createElement(component_library.OQ,{className:"activity-tx__network-badge","data-testid":"activity-tx-network-badge",size:component_library.NI.Xs,name:"Network Name",src:"./images/eth_logo.png",borderWidth:1,borderColor:design_system.lP.backgroundDefault})},react.createElement(transaction_icon.Z,{category:"interaction",status:"failed"})),subtitle:react.createElement(transaction_status_label.Z,{statusOnly:!0,isPending:!0,isEarliestNonce:!0,error:{},date:(new Date).toDateString(),status:"pending"}),rightContent:react.createElement(react.Fragment,null,react.createElement(component_library.xv,{variant:design_system.rK.bodyLgMedium,fontWeight:design_system.U9.Medium,color:design_system.Il.textDefault,title:"Primary Currency",textAlign:design_system.PH.Right,"data-testid":"transaction-list-item-primary-currency",className:"activity-list-item__primary-currency",ellipsis:!0},"Primary Currency"),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,color:design_system.Il.textAlternative,textAlign:design_system.PH.Right,"data-testid":"transaction-list-item-secondary-currency"},"Secondary Currency")),children:react.createElement(component_library.xu,{paddingTop:4,className:"transaction-list-item__pending-actions"},react.createElement(cancel_button.Z,{transaction:{},cancelTransaction:()=>{console.log("canceled")}}))},DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => <ActivityListItem {...args} />",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"]},"./ui/components/app/cancel-button/cancel-button.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>CancelButton});var _material_ui_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@material-ui/core/esm/Tooltip/Tooltip.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_ui_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/button/index.js"),_shared_modules_gas_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/modules/gas.utils.js"),_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/ducks/metamask/metamask.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/hooks/useI18nContext.js"),_hooks_useIncrementedGasFees__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/hooks/useIncrementedGasFees.js"),_pages_send_send_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/pages/send/send.utils.js"),_selectors__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/selectors/index.js");function CancelButton({cancelTransaction,transaction,detailsModal}){const t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_6__.C)(),customCancelGasSettings=(0,_hooks_useIncrementedGasFees__WEBPACK_IMPORTED_MODULE_7__.N)(transaction),selectedAccount=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_9__.uWD),conversionRate=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_5__.PC),hasEnoughCancelGas=(0,_pages_send_send_utils__WEBPACK_IMPORTED_MODULE_8__.UV)({amount:"0x0",gasTotal:(0,_shared_modules_gas_utils__WEBPACK_IMPORTED_MODULE_4__.a)(customCancelGasSettings),balance:selectedAccount.balance,conversionRate}),btn=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_button__WEBPACK_IMPORTED_MODULE_3__.Z,{onClick:cancelTransaction,type:"secondary",className:classnames__WEBPACK_IMPORTED_MODULE_2___default()({"transaction-list-item__header-button":!detailsModal,"transaction-list-item-details__header-button-rounded-button":detailsModal}),disabled:!hasEnoughCancelGas,"data-testid":"cancel-button"},t("cancel"));return hasEnoughCancelGas?btn:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_10__.ZP,{title:t("notEnoughGas"),"data-testid":"not-enough-gas__tooltip",position:"bottom"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,btn))}CancelButton.propTypes={transaction:prop_types__WEBPACK_IMPORTED_MODULE_11___default().object,cancelTransaction:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,detailsModal:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool},CancelButton.__docgenInfo={description:"",methods:[],displayName:"CancelButton",props:{transaction:{description:"",type:{name:"object"},required:!1},cancelTransaction:{description:"",type:{name:"func"},required:!1},detailsModal:{description:"",type:{name:"bool"},required:!1}}}},"./ui/components/app/cancel-button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_cancel_button__WEBPACK_IMPORTED_MODULE_0__.Z});var _cancel_button__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/app/cancel-button/cancel-button.js")},"./ui/components/app/transaction-icon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>TransactionIcon});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),dist=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/index.js"),transaction=__webpack_require__("./shared/constants/transaction.ts"),actions=__webpack_require__("./ui/store/actions.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");const ICON_MAP={[transaction.Bd.approval]:component_library.uH.Check,[transaction.Bd.interaction]:component_library.uH.ProgrammingArrows,[transaction.Bd.receive]:component_library.uH.Received,[transaction.Bd.send]:component_library.uH.Arrow2UpRight,[transaction.Bd.signatureRequest]:component_library.uH.SecurityTick,[transaction.Bd.swap]:component_library.uH.SwapHorizontal},COLOR_MAP={[transaction.Ss.pending]:design_system.EY.primaryDefault,[transaction.Ss.cancelled]:design_system.EY.errorDefault,[dist.TransactionStatus.approved]:design_system.EY.primaryDefault,[dist.TransactionStatus.dropped]:design_system.EY.errorDefault,[dist.TransactionStatus.failed]:design_system.EY.errorDefault,[dist.TransactionStatus.rejected]:design_system.EY.errorDefault,[dist.TransactionStatus.submitted]:design_system.EY.primaryDefault,[dist.TransactionStatus.unapproved]:design_system.EY.primaryDefault},BACKGROUND_COLOR_MAP={[transaction.Ss.pending]:design_system.lP.primaryMuted,[transaction.Ss.cancelled]:design_system.lP.errorMuted,[dist.TransactionStatus.approved]:design_system.lP.primaryMuted,[dist.TransactionStatus.dropped]:design_system.lP.errorMuted,[dist.TransactionStatus.failed]:design_system.lP.errorMuted,[dist.TransactionStatus.rejected]:design_system.lP.errorMuted,[dist.TransactionStatus.submitted]:design_system.lP.primaryMuted,[dist.TransactionStatus.unapproved]:design_system.lP.primaryMuted};function TransactionIcon({status,category}){const dispatch=(0,es.I0)(),color=COLOR_MAP[status]||design_system.EY.primaryDefault,backgroundColor=BACKGROUND_COLOR_MAP[status]||design_system.lP.primaryMuted,Icon=ICON_MAP[category];return Icon?react.createElement(component_library.fM,{backgroundColor,iconName:Icon,size:component_library.dt.Md,color}):(dispatch((0,actions.Qnr)(`The category prop passed to TransactionIcon is not supported. The prop is: ${category}`)),react.createElement(component_library.fM,{backgroundColor:design_system.lP.backgroundAlternative,size:component_library.dt.Md}))}TransactionIcon.propTypes={status:prop_types_default().oneOf([transaction.Ss.cancelled,transaction.Ss.pending,dist.TransactionStatus.approved,dist.TransactionStatus.confirmed,dist.TransactionStatus.dropped,dist.TransactionStatus.failed,dist.TransactionStatus.rejected,dist.TransactionStatus.submitted,dist.TransactionStatus.unapproved]).isRequired,category:prop_types_default().oneOf([transaction.Bd.approval,transaction.Bd.interaction,transaction.Bd.receive,transaction.Bd.send,transaction.Bd.signatureRequest,transaction.Bd.swap]).isRequired},TransactionIcon.__docgenInfo={description:"",methods:[],displayName:"TransactionIcon",props:{status:{description:"",type:{name:"enum",value:[{value:"TransactionGroupStatus.cancelled",computed:!0},{value:"TransactionGroupStatus.pending",computed:!0},{value:"TransactionStatus.approved",computed:!0},{value:"TransactionStatus.confirmed",computed:!0},{value:"TransactionStatus.dropped",computed:!0},{value:"TransactionStatus.failed",computed:!0},{value:"TransactionStatus.rejected",computed:!0},{value:"TransactionStatus.submitted",computed:!0},{value:"TransactionStatus.unapproved",computed:!0}]},required:!0},category:{description:"",type:{name:"enum",value:[{value:"TransactionGroupCategory.approval",computed:!0},{value:"TransactionGroupCategory.interaction",computed:!0},{value:"TransactionGroupCategory.receive",computed:!0},{value:"TransactionGroupCategory.send",computed:!0},{value:"TransactionGroupCategory.signatureRequest",computed:!0},{value:"TransactionGroupCategory.swap",computed:!0}]},required:!0}}}},"./ui/components/app/transaction-status-label/transaction-status-label.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>TransactionStatusLabel});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/index.js"),_ui_tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/tooltip/index.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/hooks/useI18nContext.js"),_shared_constants_transaction__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./shared/constants/transaction.ts");const QUEUED_PSEUDO_STATUS="queued",pendingStatusHash={[_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__.TransactionStatus.submitted]:_shared_constants_transaction__WEBPACK_IMPORTED_MODULE_5__.Ss.pending,[_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__.TransactionStatus.approved]:_shared_constants_transaction__WEBPACK_IMPORTED_MODULE_5__.Ss.pending,[_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__.TransactionStatus.signed]:_shared_constants_transaction__WEBPACK_IMPORTED_MODULE_5__.Ss.pending},statusToClassNameHash={[_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__.TransactionStatus.unapproved]:"transaction-status-label--unapproved",[_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__.TransactionStatus.rejected]:"transaction-status-label--rejected",[_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__.TransactionStatus.failed]:"transaction-status-label--failed",[_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__.TransactionStatus.dropped]:"transaction-status-label--dropped",[_shared_constants_transaction__WEBPACK_IMPORTED_MODULE_5__.Ss.cancelled]:"transaction-status-label--cancelled",[QUEUED_PSEUDO_STATUS]:"transaction-status-label--queued",[_shared_constants_transaction__WEBPACK_IMPORTED_MODULE_5__.Ss.pending]:"transaction-status-label--pending",inCustody:"transaction-status--custodian"};function TransactionStatusLabel({status,date,error,isEarliestNonce,className,statusOnly,custodyStatus,custodyStatusDisplayText}){var _error$rpc;const t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_4__.C)();let tooltipText=(null==error||null===(_error$rpc=error.rpc)||void 0===_error$rpc?void 0:_error$rpc.message)||(null==error?void 0:error.message),statusKey=status;pendingStatusHash[status]&&(statusKey=isEarliestNonce?_shared_constants_transaction__WEBPACK_IMPORTED_MODULE_5__.Ss.pending:QUEUED_PSEUDO_STATUS);let statusText=statusKey&&t(statusKey);return statusText=custodyStatusDisplayText||t(statusKey),statusKey!==_metamask_transaction_controller__WEBPACK_IMPORTED_MODULE_2__.TransactionStatus.confirmed||statusOnly||(statusText=date),custodyStatus&&(error?(tooltipText=error.message,statusText="aborted"===custodyStatus?custodyStatusDisplayText:t("snapResultError")):(tooltipText=custodyStatusDisplayText||custodyStatus,statusText=custodyStatusDisplayText||custodyStatus)),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_tooltip__WEBPACK_IMPORTED_MODULE_3__.Z,{position:"top",title:tooltipText,wrapperClassName:classnames__WEBPACK_IMPORTED_MODULE_1___default()("transaction-status-label",`transaction-status-label--${statusKey}`,className,statusToClassNameHash[statusKey])},statusText)}TransactionStatusLabel.propTypes={status:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,date:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,error:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,isEarliestNonce:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,statusOnly:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,custodyStatus:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,custodyStatusDisplayText:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string},TransactionStatusLabel.__docgenInfo={description:"",methods:[],displayName:"TransactionStatusLabel",props:{status:{description:"",type:{name:"string"},required:!1},className:{description:"",type:{name:"string"},required:!1},date:{description:"",type:{name:"string"},required:!1},error:{description:"",type:{name:"object"},required:!1},isEarliestNonce:{description:"",type:{name:"bool"},required:!1},statusOnly:{description:"",type:{name:"bool"},required:!1},custodyStatus:{description:"",type:{name:"string"},required:!1},custodyStatusDisplayText:{description:"",type:{name:"string"},required:!1}}}},"./ui/helpers/utils/gas.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DW:()=>isMetamaskSuggestedGasEstimate,Ll:()=>gasEstimateGreaterThanGasUsedPlusTenPercent,VS:()=>editGasModeIsSpeedUpOrCancel,Vc:()=>addTenPercentAndRound,m5:()=>formatGasFeeOrFeeRange});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lodash/lodash.js"),bignumber_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_1__),_shared_constants_gas__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./shared/constants/gas.ts"),_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./shared/modules/conversion.utils.ts"),_shared_modules_Numeric__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/modules/Numeric.ts"),_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/utils/util.js");const TEN_PERCENT_NUMERIC=new _shared_modules_Numeric__WEBPACK_IMPORTED_MODULE_4__.D(1.1,10),gasEstimateGreaterThanGasUsedPlusTenPercent=(gasUsed,gasFeeEstimates,estimate)=>{var _gasFeeEstimates$esti;let{maxFeePerGas:maxFeePerGasInTransaction}=gasUsed;maxFeePerGasInTransaction=new(bignumber_js__WEBPACK_IMPORTED_MODULE_1___default())((0,_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_3__.Yg)(addTenPercentAndRound(maxFeePerGasInTransaction)));const maxFeePerGasFromEstimate=null===(_gasFeeEstimates$esti=gasFeeEstimates[estimate])||void 0===_gasFeeEstimates$esti?void 0:_gasFeeEstimates$esti.suggestedMaxFeePerGas;return(0,_util__WEBPACK_IMPORTED_MODULE_5__.Xn)(maxFeePerGasFromEstimate,maxFeePerGasInTransaction)};function addTenPercentAndRound(hexStringValue){if(void 0!==hexStringValue)return new _shared_modules_Numeric__WEBPACK_IMPORTED_MODULE_4__.D(hexStringValue,16).times(TEN_PERCENT_NUMERIC).round(0).toPrefixedHexString()}function isMetamaskSuggestedGasEstimate(estimate){return[_shared_constants_gas__WEBPACK_IMPORTED_MODULE_2__.RQ.high,_shared_constants_gas__WEBPACK_IMPORTED_MODULE_2__.RQ.medium,_shared_constants_gas__WEBPACK_IMPORTED_MODULE_2__.RQ.low].includes(estimate)}function formatGasFeeOrFeeRange(feeOrFeeRange,{precision:precisionOrPrecisions=2}={}){if((0,_util__WEBPACK_IMPORTED_MODULE_5__.Rw)(feeOrFeeRange)||Array.isArray(feeOrFeeRange)&&0===feeOrFeeRange.length)return null;const range=Array.isArray(feeOrFeeRange)?feeOrFeeRange.slice(0,2):[feeOrFeeRange],precisions=Array.isArray(precisionOrPrecisions)?precisionOrPrecisions.slice(0,2):(0,lodash__WEBPACK_IMPORTED_MODULE_0__.times)(range.length,(0,lodash__WEBPACK_IMPORTED_MODULE_0__.constant)(precisionOrPrecisions));return`${(0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniq)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.zip)(range,precisions).map((([fee,precision])=>void 0===precision?fee:(0,_util__WEBPACK_IMPORTED_MODULE_5__.YQ)(fee,precision)))).join(" - ")} GWEI`}function editGasModeIsSpeedUpOrCancel(editGasMode){return editGasMode===_shared_constants_gas__WEBPACK_IMPORTED_MODULE_2__.G_.cancel||editGasMode===_shared_constants_gas__WEBPACK_IMPORTED_MODULE_2__.G_.speedUp}},"./ui/hooks/useGasFeeEstimates.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>useGasFeeEstimates});var isEqual=__webpack_require__("./node_modules/lodash/isEqual.js"),isEqual_default=__webpack_require__.n(isEqual),es=__webpack_require__("./node_modules/react-redux/es/index.js"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),react=__webpack_require__("./node_modules/react/index.js"),actions=__webpack_require__("./ui/store/actions.ts");function useGasFeeEstimates(){const gasEstimateType=(0,es.v9)(metamask.xP),gasFeeEstimates=(0,es.v9)(metamask.lq,isEqual_default()),isGasEstimatesLoading=(0,es.v9)(metamask.rc),isNetworkBusy=(0,es.v9)(metamask.tg);return function useSafeGasEstimatePolling(){(0,react.useEffect)((()=>{let pollToken,active=!0;const cleanup=()=>{active=!1,pollToken&&((0,actions.T_6)(pollToken),(0,actions.hUm)(pollToken))};return(0,actions.mhS)().then((newPollToken=>{active?(pollToken=newPollToken,(0,actions.lTb)(pollToken)):((0,actions.T_6)(newPollToken),(0,actions.hUm)(pollToken))})),window.addEventListener("beforeunload",cleanup),()=>{cleanup(),window.removeEventListener("beforeunload",cleanup)}}),[])}(),{gasFeeEstimates,gasEstimateType,isGasEstimatesLoading,isNetworkBusy}}},"./ui/hooks/useIncrementedGasFees.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>useIncrementedGasFees});var bignumber_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./shared/modules/conversion.utils.ts"),_shared_modules_transaction_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./shared/modules/transaction.utils.js"),_helpers_utils_gas__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/gas.js"),_useGasFeeEstimates__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/hooks/useGasFeeEstimates.js");function getHighestIncrementedFee(originalFee,currentEstimate){const buffedOriginalHexWei=(0,_helpers_utils_gas__WEBPACK_IMPORTED_MODULE_4__.Vc)(originalFee),currentEstimateHexWei=(0,_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_2__.Kn)(currentEstimate);return new(bignumber_js__WEBPACK_IMPORTED_MODULE_0___default())(buffedOriginalHexWei,16).greaterThan(new(bignumber_js__WEBPACK_IMPORTED_MODULE_0___default())(currentEstimateHexWei,16))?buffedOriginalHexWei:currentEstimateHexWei}function useIncrementedGasFees(transaction){const{gasFeeEstimates={}}=(0,_useGasFeeEstimates__WEBPACK_IMPORTED_MODULE_5__.a)();return(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>{var _transaction$txParams,_transaction$txParams2,_gasFeeEstimates$medi,_gasFeeEstimates$medi2;const temporaryGasSettings={gasLimit:null===(_transaction$txParams=transaction.txParams)||void 0===_transaction$txParams?void 0:_transaction$txParams.gas,gas:null===(_transaction$txParams2=transaction.txParams)||void 0===_transaction$txParams2?void 0:_transaction$txParams2.gas},suggestedMaxFeePerGas=(null==gasFeeEstimates||null===(_gasFeeEstimates$medi=gasFeeEstimates.medium)||void 0===_gasFeeEstimates$medi?void 0:_gasFeeEstimates$medi.suggestedMaxFeePerGas)??"0",suggestedMaxPriorityFeePerGas=(null==gasFeeEstimates||null===(_gasFeeEstimates$medi2=gasFeeEstimates.medium)||void 0===_gasFeeEstimates$medi2?void 0:_gasFeeEstimates$medi2.suggestedMaxPriorityFeePerGas)??"0";if((0,_shared_modules_transaction_utils__WEBPACK_IMPORTED_MODULE_3__.K3)(transaction)){var _transaction$txParams3,_transaction$txParams4;const transactionMaxFeePerGas=null===(_transaction$txParams3=transaction.txParams)||void 0===_transaction$txParams3?void 0:_transaction$txParams3.maxFeePerGas,transactionMaxPriorityFeePerGas=null===(_transaction$txParams4=transaction.txParams)||void 0===_transaction$txParams4?void 0:_transaction$txParams4.maxPriorityFeePerGas;temporaryGasSettings.maxFeePerGas=void 0===transactionMaxFeePerGas||transactionMaxFeePerGas.startsWith("-")?"0x0":getHighestIncrementedFee(transactionMaxFeePerGas,suggestedMaxFeePerGas),temporaryGasSettings.maxPriorityFeePerGas=void 0===transactionMaxPriorityFeePerGas||transactionMaxPriorityFeePerGas.startsWith("-")?"0x0":getHighestIncrementedFee(transactionMaxPriorityFeePerGas,suggestedMaxPriorityFeePerGas)}else{var _transaction$txParams5;const transactionGasPrice=null===(_transaction$txParams5=transaction.txParams)||void 0===_transaction$txParams5?void 0:_transaction$txParams5.gasPrice;temporaryGasSettings.gasPrice=void 0===transactionGasPrice||transactionGasPrice.startsWith("-")?"0x0":getHighestIncrementedFee(transactionGasPrice,suggestedMaxFeePerGas)}return temporaryGasSettings}),[transaction,gasFeeEstimates])}}}]);