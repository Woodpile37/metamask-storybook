"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[8161],{"./ui/pages/permissions-connect/snaps/snaps-connect/snaps-connect.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,MultiStory:()=>MultiStory,ScrollingStory:()=>ScrollingStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>snaps_connect_stories});var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3,_MultiStory$parameter,_MultiStory$parameter2,_MultiStory$parameter3,_ScrollingStory$param,_ScrollingStory$param2,_ScrollingStory$param3,react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),store=__webpack_require__("./ui/store/store.ts"),mock_state=__webpack_require__("./test/data/mock-state.json"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),site_origin=__webpack_require__("./ui/components/ui/site-origin/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),page_container=__webpack_require__("./ui/components/ui/page-container/index.js"),snap_connect_cell=__webpack_require__("./ui/components/app/snaps/snap-connect-cell/snap-connect-cell.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),pulse_loader=__webpack_require__("./ui/components/ui/pulse-loader/pulse-loader.js"),snap_privacy_warning=__webpack_require__("./ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js"),selectors=__webpack_require__("./ui/selectors/index.js"),snap_avatar=__webpack_require__("./ui/components/app/snaps/snap-avatar/snap-avatar.js"),useOriginMetadata=__webpack_require__("./ui/hooks/useOriginMetadata.js");function SnapsConnect({request,approveConnection,rejectConnection,targetSubjectMetadata,snapsInstallPrivacyWarningShown,setSnapsInstallPrivacyWarningShownStatus}){const t=(0,useI18nContext.C)(),{origin,iconUrl,name}=targetSubjectMetadata,[isLoading,setIsLoading]=(0,react.useState)(!1),[isShowingSnapsPrivacyWarning,setIsShowingSnapsPrivacyWarning]=(0,react.useState)(!snapsInstallPrivacyWarningShown),currentPermissions=(0,es.v9)((state=>{var _request$metadata;return(0,selectors.Zu$)(state,null==request||null===(_request$metadata=request.metadata)||void 0===_request$metadata?void 0:_request$metadata.origin)})),onCancel=(0,react.useCallback)((()=>{rejectConnection(request.metadata.id)}),[request,rejectConnection]),onConnect=(0,react.useCallback)((()=>{try{setIsLoading(!0),approveConnection(request)}finally{setIsLoading(!1)}}),[request,approveConnection]),snaps=(0,util.Q8)(request,currentPermissions),singularConnectSnapMetadata=(0,es.v9)((state=>(0,selectors.h5U)(state,null==snaps?void 0:snaps[0]))),SnapsConnectContent=()=>{const{hostname:trimmedOrigin}=(0,useOriginMetadata.j)(origin)||{};if(isLoading)return react.createElement(box.ZP,{className:"snap-connect__loader-container",flexDirection:design_system.Qb.Column,alignItems:design_system.g1.center,justifyContent:design_system.E0.center},react.createElement(pulse_loader.Z,null));if((null==snaps?void 0:snaps.length)>1)return react.createElement(box.ZP,{className:"snaps-connect__content",flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.center,alignItems:design_system.g1.center,paddingLeft:4,paddingRight:4,paddingTop:8,width:design_system.Sw.Full,style:{overflowY:"hidden"}},react.createElement(component_library.xv,{paddingBottom:2,variant:design_system.rK.headingLg},t("connectionRequest")),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,textAlign:design_system.PH.Center},t("multipleSnapConnectionWarning",[react.createElement(component_library.xv,{as:component_library.Tc.Span,key:"1",variant:design_system.rK.bodyMd,fontWeight:design_system.U9.Medium},trimmedOrigin),react.createElement(component_library.xv,{as:component_library.Tc.Span,key:"2",variant:design_system.rK.bodyMd,fontWeight:design_system.U9.Medium},null==snaps?void 0:snaps.length)])),react.createElement(box.ZP,{className:"snaps-connect__content__snaps-list",flexDirection:design_system.Qb.Column,display:design_system.sS.Flex,marginTop:4,width:design_system.Sw.Full,style:{overflowY:"auto",flex:1}},snaps.map((snap=>react.createElement(snap_connect_cell.Z,{key:`snaps-connect-${snap}`,snapId:snap,origin:trimmedOrigin})))));if(1===(null==snaps?void 0:snaps.length)){const snapId=snaps[0],snapName=(0,util.NZ)(snapId,singularConnectSnapMetadata);return react.createElement(box.ZP,{className:"snaps-connect__content",flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.center,alignItems:design_system.g1.center,height:design_system.Sw.Full,paddingLeft:4,paddingRight:4},react.createElement(box.ZP,{paddingBottom:2},react.createElement(snap_avatar.Z,{snapId:snaps[0],badgeSize:component_library.Jh.Md,avatarSize:component_library.Jh.Xl,borderWidth:3})),react.createElement(component_library.xv,{paddingBottom:2,variant:design_system.rK.headingLg},t("connectionRequest")),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,textAlign:design_system.PH.Center,padding:[0,4]},t("snapConnectionWarning",[react.createElement(component_library.xv,{as:component_library.Tc.Span,key:"1",variant:design_system.rK.bodyMd,fontWeight:design_system.U9.Medium},trimmedOrigin),react.createElement(component_library.xv,{as:component_library.Tc.Span,key:"2",variant:design_system.rK.bodyMd,fontWeight:design_system.U9.Medium},snapName)])))}return null};return react.createElement(box.ZP,{className:"page-container snaps-connect",flexDirection:design_system.Qb.Column,alignItems:design_system.g1.center},isShowingSnapsPrivacyWarning&&react.createElement(snap_privacy_warning.Z,{onAccepted:()=>{setIsShowingSnapsPrivacyWarning(!1),setSnapsInstallPrivacyWarningShownStatus(!0)},onCanceled:onCancel}),react.createElement(box.ZP,{className:"snaps-connect__header",flexDirection:design_system.Qb.Column,alignItems:design_system.g1.center,paddingLeft:4,paddingRight:4},react.createElement(site_origin.Z,{chip:!0,siteOrigin:origin,title:origin,iconSrc:iconUrl,iconName:name})),react.createElement(SnapsConnectContent,null),react.createElement(page_container.g$,{footerClassName:"snaps-connect__footer",cancelButtonType:"default",hideCancel:!1,disabled:isLoading,onCancel,cancelText:t("cancel"),onSubmit:onConnect,submitText:t("connect")}))}SnapsConnect.propTypes={request:prop_types_default().object.isRequired,approveConnection:prop_types_default().func.isRequired,rejectConnection:prop_types_default().func.isRequired,targetSubjectMetadata:prop_types_default().shape({extensionId:prop_types_default().string,iconUrl:prop_types_default().string,name:prop_types_default().string,origin:prop_types_default().string,subjectType:prop_types_default().string}),snapsInstallPrivacyWarningShown:prop_types_default().bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:prop_types_default().func},SnapsConnect.__docgenInfo={description:"",methods:[],displayName:"SnapsConnect",props:{request:{description:"",type:{name:"object"},required:!0},approveConnection:{description:"",type:{name:"func"},required:!0},rejectConnection:{description:"",type:{name:"func"},required:!0},targetSubjectMetadata:{description:"",type:{name:"shape",value:{extensionId:{name:"string",required:!1},iconUrl:{name:"string",required:!1},name:{name:"string",required:!1},origin:{name:"string",required:!1},subjectType:{name:"string",required:!1}}},required:!1},snapsInstallPrivacyWarningShown:{description:"",type:{name:"bool"},required:!0},setSnapsInstallPrivacyWarningShownStatus:{description:"",type:{name:"func"},required:!1}}};const snaps_connect_stories_store=(0,store.Z)(mock_state),snaps_connect_stories={title:"Pages/Snaps/SnapConnect",component:SnapsConnect,argTypes:{},decorators:[story=>react.createElement(es.zt,{store:snaps_connect_stories_store},story())]},DefaultStory=args=>react.createElement(SnapsConnect,args);DefaultStory.storyName="Default",DefaultStory.args={request:{metadata:{id:"foo"},permissions:{wallet_snap:{caveats:[{value:{"npm:@metamask/test-snap-bip44":{}}}]}}},targetSubjectMetadata:{origin:"https://metamask.io"}};const MultiStory=args=>react.createElement(SnapsConnect,args);MultiStory.storyName="Multi",MultiStory.args={request:{metadata:{id:"foo"},permissions:{wallet_snap:{caveats:[{value:{"npm:@metamask/test-snap-bip44":{},"npm:@metamask/test-snap-bip32":{},"npm:@metamask/test-snap-getEntropy":{}}}]}}},targetSubjectMetadata:{origin:"https://metamask.io"}};const ScrollingStory=args=>react.createElement(SnapsConnect,args);ScrollingStory.storyName="Scrolling",ScrollingStory.args={request:{metadata:{id:"foo"},permissions:{wallet_snap:{caveats:[{value:{"npm:@metamask/test-snap-bip44":{},"npm:@metamask/test-snap-bip32":{},"npm:@metamask/test-snap-getEntropy":{},"npm:@metamask/test-snap-networkAccess":{},"npm:@metamask/test-snap-wasm":{},"npm:@metamask/test-snap-notify":{},"npm:@metamask/test-snap-dialog":{}}}]}}},targetSubjectMetadata:{origin:"https://metamask.io"}},DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => <SnapsConnect {...args} />",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}},MultiStory.parameters={...MultiStory.parameters,docs:{...null===(_MultiStory$parameter=MultiStory.parameters)||void 0===_MultiStory$parameter?void 0:_MultiStory$parameter.docs,source:{originalSource:"args => <SnapsConnect {...args} />",...null===(_MultiStory$parameter2=MultiStory.parameters)||void 0===_MultiStory$parameter2||null===(_MultiStory$parameter3=_MultiStory$parameter2.docs)||void 0===_MultiStory$parameter3?void 0:_MultiStory$parameter3.source}}},ScrollingStory.parameters={...ScrollingStory.parameters,docs:{...null===(_ScrollingStory$param=ScrollingStory.parameters)||void 0===_ScrollingStory$param?void 0:_ScrollingStory$param.docs,source:{originalSource:"args => <SnapsConnect {...args} />",...null===(_ScrollingStory$param2=ScrollingStory.parameters)||void 0===_ScrollingStory$param2||null===(_ScrollingStory$param3=_ScrollingStory$param2.docs)||void 0===_ScrollingStory$param3?void 0:_ScrollingStory$param3.source}}};const __namedExportsOrder=["DefaultStory","MultiStory","ScrollingStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"},MultiStory.__docgenInfo={description:"",methods:[],displayName:"MultiStory"},ScrollingStory.__docgenInfo={description:"",methods:[],displayName:"ScrollingStory"}},"./ui/components/app/snaps/snap-avatar/snap-avatar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/util.js"),_component_library__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/component-library/index.js"),_selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/selectors/index.js");const SnapAvatar=({snapId,badgeSize=_component_library__WEBPACK_IMPORTED_MODULE_5__.Jh.Sm,avatarSize=_component_library__WEBPACK_IMPORTED_MODULE_5__.Jh.Lg,borderWidth=2,className})=>{const subjectMetadata=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.v9)((state=>(0,_selectors__WEBPACK_IMPORTED_MODULE_6__.h5U)(state,snapId))),friendlyName=snapId&&(0,_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__.NZ)(snapId,subjectMetadata),iconUrl=null==subjectMetadata?void 0:subjectMetadata.iconUrl,fallbackIcon=friendlyName&&friendlyName[0]?friendlyName[0]:"?";return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_5__.MF,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("snap-avatar",className),badge:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_5__.fM,{iconName:_component_library__WEBPACK_IMPORTED_MODULE_5__.uH.Snaps,size:badgeSize,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.EY.infoDefault,borderColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.lP.backgroundDefault,borderWidth,iconProps:{size:badgeSize,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.EY.infoInverse}}),position:_component_library__WEBPACK_IMPORTED_MODULE_5__.Uf.bottomRight},iconUrl?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_5__.zC,{size:avatarSize,src:iconUrl,name:friendlyName}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_5__.pE,{size:avatarSize,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.bA.FLEX,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.g1.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.E0.center,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.d9.textAlternative,style:{borderWidth:"0px"}},fallbackIcon))};SnapAvatar.propTypes={snapId:prop_types__WEBPACK_IMPORTED_MODULE_7___default().string,badgeSize:prop_types__WEBPACK_IMPORTED_MODULE_7___default().string,avatarSize:prop_types__WEBPACK_IMPORTED_MODULE_7___default().string,borderWidth:prop_types__WEBPACK_IMPORTED_MODULE_7___default().number,className:prop_types__WEBPACK_IMPORTED_MODULE_7___default().string},SnapAvatar.__docgenInfo={description:"",methods:[],displayName:"SnapAvatar",props:{badgeSize:{defaultValue:{value:"IconSize.Sm",computed:!0},description:"",type:{name:"string"},required:!1},avatarSize:{defaultValue:{value:"IconSize.Lg",computed:!0},description:"",type:{name:"string"},required:!1},borderWidth:{defaultValue:{value:"2",computed:!1},description:"",type:{name:"number"},required:!1},snapId:{description:"The id of the snap",type:{name:"string"},required:!1},className:{description:"The className of the SnapAvatar",type:{name:"string"},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=SnapAvatar},"./ui/components/app/snaps/snap-connect-cell/snap-connect-cell.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SnapConnectCell});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_ui_box__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/box/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/util.js"),_component_library__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/component-library/index.js"),_ui_tooltip_tooltip__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/ui/tooltip/tooltip.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/hooks/useI18nContext.js"),_snap_avatar_snap_avatar__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/components/app/snaps/snap-avatar/snap-avatar.js"),_selectors__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/selectors/index.js");function SnapConnectCell({origin,snapId}){const t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_7__.C)(),snapMetadata=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((state=>(0,_selectors__WEBPACK_IMPORTED_MODULE_9__.h5U)(state,snapId))),friendlyName=(0,_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__.NZ)(snapId,snapMetadata);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.g1.center,paddingTop:2,paddingBottom:2,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.sS.Flex},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_snap_avatar_snap_avatar__WEBPACK_IMPORTED_MODULE_8__.Z,{snapId}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_2__.ZP,{width:"full",marginLeft:4,marginRight:4},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_5__.xv,null,t("connectSnap",[react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_5__.xv,{as:_component_library__WEBPACK_IMPORTED_MODULE_5__.Tc.Span,key:"1",fontWeight:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.U9.Bold},friendlyName)]))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_2__.ZP,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_tooltip_tooltip__WEBPACK_IMPORTED_MODULE_6__.Z,{html:react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,t("snapConnectionWarning",[react__WEBPACK_IMPORTED_MODULE_0__.createElement("b",{key:"0"},origin),react__WEBPACK_IMPORTED_MODULE_0__.createElement("b",{key:"1"},friendlyName)])),position:"bottom"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_5__.JO,{color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.EY.iconMuted,name:_component_library__WEBPACK_IMPORTED_MODULE_5__.uH.Info,size:_component_library__WEBPACK_IMPORTED_MODULE_5__.Jh.Sm}))))}SnapConnectCell.propTypes={origin:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,snapId:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired},SnapConnectCell.__docgenInfo={description:"",methods:[],displayName:"SnapConnectCell",props:{origin:{description:"",type:{name:"string"},required:!0},snapId:{description:"",type:{name:"string"},required:!0}}}},"./ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SnapPrivacyWarning});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),box=__webpack_require__("./ui/components/ui/box/box.js"),popover=__webpack_require__("./ui/components/ui/popover/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),useScrollRequired=__webpack_require__("./ui/hooks/useScrollRequired.js");const TERMS_OF_USE_LINK="https://consensys.net/terms-of-use/";function SnapPrivacyWarning({onAccepted,onCanceled}){const t=(0,useI18nContext.C)(),{isScrollable,isScrolledToBottom,scrollToBottom,ref,onScroll}=(0,useScrollRequired.s)();return react.createElement(popover.Z,{className:"snap-privacy-warning"},react.createElement(box.ZP,null,react.createElement(box.ZP,{className:"snap-privacy-warning__header",paddingLeft:4,paddingRight:4},react.createElement(box.ZP,{marginTop:4,className:"snap-privacy-warning__header__info-icon",display:design_system.bA.FLEX,justifyContent:design_system.E0.center,alignItems:design_system.g1.center},react.createElement(component_library.fM,{iconName:component_library.uH.Info,color:design_system.EY.infoDefault,backgroundColor:design_system.lP.primaryMuted,size:component_library.Jh.Md})),react.createElement(box.ZP,{className:"snap-privacy-warning__header__title",marginTop:4,marginBottom:4,display:design_system.bA.FLEX,justifyContent:design_system.E0.center,alignItems:design_system.g1.center},react.createElement(component_library.xv,{variant:design_system.rK.headingMd,fontWeight:design_system.U9.Bold},t("thirdPartySoftware")))),react.createElement(box.ZP,{paddingLeft:4,paddingRight:4,className:"snap-privacy-warning__content",ref,onScroll},react.createElement(box.ZP,{className:"snap-privacy-warning__message"},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd},t("snapsPrivacyWarningFirstMessage",[react.createElement(component_library.ZP,{key:"privacyNoticeTermsOfUseLink",size:component_library.DC.INHERIT,href:TERMS_OF_USE_LINK,target:"_blank"}," ",t("snapsTermsOfUse")," ")])),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,paddingTop:6},t("snapsPrivacyWarningSecondMessage")),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,fontWeight:design_system.U9.Bold,paddingTop:6},t("snapsPrivacyWarningThirdMessage"))),isScrollable&&!isScrolledToBottom?react.createElement(component_library.fM,{className:"snap-privacy-warning__content__scroll-button","data-testid":"snap-privacy-warning-scroll",iconName:component_library.uH.Arrow2Down,backgroundColor:design_system.lP.infoDefault,color:design_system.EY.primaryInverse,onClick:scrollToBottom,style:{cursor:"pointer"}}):null),react.createElement(box.ZP,{paddingLeft:4,paddingRight:4,paddingBottom:4,className:"snap-privacy-warning__footer"},react.createElement(box.ZP,{className:"snap-privacy-warning__footer",marginTop:6,display:design_system.bA.FLEX},react.createElement(component_library.zx,{variant:component_library.RN.SECONDARY,size:component_library.aK.LG,width:design_system.D8.FULL,className:"snap-privacy-warning__cancel-button",onClick:onCanceled,marginRight:2},t("cancel")),react.createElement(component_library.zx,{variant:component_library.RN.PRIMARY,size:component_library.aK.LG,width:design_system.D8.FULL,className:"snap-privacy-warning__ok-button",onClick:onAccepted,marginLeft:2,disabled:!isScrolledToBottom},t("accept"))))))}SnapPrivacyWarning.propTypes={onAccepted:prop_types_default().func.isRequired,onCanceled:prop_types_default().func.isRequired},SnapPrivacyWarning.__docgenInfo={description:"",methods:[],displayName:"SnapPrivacyWarning",props:{onAccepted:{description:"onAccepted handler",type:{name:"func"},required:!0},onCanceled:{description:"onCanceled handler",type:{name:"func"},required:!0}}}},"./ui/components/ui/page-container/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g$:()=>page_container_footer.Z,ZP:()=>PageContainer});var page_container_header=__webpack_require__("./ui/components/ui/page-container/page-container-header/index.js"),page_container_footer=__webpack_require__("./ui/components/ui/page-container/page-container-footer/index.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class PageContainer extends react.PureComponent{constructor(...args){super(...args),_defineProperty(this,"state",{activeTabIndex:this.props.defaultActiveTabIndex||0})}handleTabClick(activeTabIndex){this.setState({activeTabIndex})}renderTabs(){const{tabsComponent}=this.props;if(!tabsComponent)return null;const numberOfTabs=react.Children.count(tabsComponent.props.children);return react.Children.map(tabsComponent.props.children,((child,tabIndex)=>child&&react.cloneElement(child,{onClick:index=>this.handleTabClick(index),tabIndex,isActive:numberOfTabs>1&&tabIndex===this.state.activeTabIndex,key:tabIndex,className:"page-container__tab"})))}renderActiveTabContent(){const{tabsComponent}=this.props;let{children}=tabsComponent.props;children=children.filter(Boolean);const{activeTabIndex}=this.state;return(children[activeTabIndex]||children[0]).props.children}renderContent(){const{contentComponent,tabsComponent}=this.props;return contentComponent||(tabsComponent?this.renderActiveTabContent():null)}getTabSubmitText(){const{tabsComponent}=this.props,{activeTabIndex}=this.state;if(tabsComponent){var _children$activeTabIn;let{children}=tabsComponent.props;if(children=children.filter(Boolean),"custom-tab"===(null===(_children$activeTabIn=children[activeTabIndex])||void 0===_children$activeTabIn?void 0:_children$activeTabIn.key))return this.context.t("addCustomToken")}return null}render(){const{title,subtitle,onClose,showBackButton,onBackButtonClick,backButtonStyles,backButtonString,onCancel,cancelText,onSubmit,submitText,disabled,headerCloseText,hideCancel}=this.props,tabSubmitText=this.getTabSubmitText();return react.createElement("div",{className:"page-container"},react.createElement(page_container_header.Z,{title,subtitle,onClose,showBackButton,onBackButtonClick,backButtonStyles,backButtonString,tabs:this.renderTabs(),headerCloseText}),react.createElement("div",{className:"page-container__bottom"},react.createElement("div",{className:"page-container__content"},this.renderContent()),react.createElement(page_container_footer.Z,{onCancel,cancelText,hideCancel,onSubmit,submitText:tabSubmitText||submitText,disabled})))}}_defineProperty(PageContainer,"contextTypes",{t:prop_types_default().func}),_defineProperty(PageContainer,"propTypes",{backButtonString:prop_types_default().string,backButtonStyles:prop_types_default().object,headerCloseText:prop_types_default().string,onBackButtonClick:prop_types_default().func,onClose:prop_types_default().func,showBackButton:prop_types_default().bool,subtitle:prop_types_default().string,title:prop_types_default().string.isRequired,defaultActiveTabIndex:prop_types_default().number,tabsComponent:prop_types_default().node,contentComponent:prop_types_default().node,cancelText:prop_types_default().string,disabled:prop_types_default().bool,hideCancel:prop_types_default().bool,onCancel:prop_types_default().func,onSubmit:prop_types_default().func,submitText:prop_types_default().string}),PageContainer.__docgenInfo={description:"",methods:[{name:"handleTabClick",docblock:null,modifiers:[],params:[{name:"activeTabIndex",type:null}],returns:null},{name:"renderTabs",docblock:null,modifiers:[],params:[],returns:null},{name:"renderActiveTabContent",docblock:null,modifiers:[],params:[],returns:null},{name:"renderContent",docblock:null,modifiers:[],params:[],returns:null},{name:"getTabSubmitText",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PageContainer",props:{backButtonString:{description:"",type:{name:"string"},required:!1},backButtonStyles:{description:"",type:{name:"object"},required:!1},headerCloseText:{description:"",type:{name:"string"},required:!1},onBackButtonClick:{description:"",type:{name:"func"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},showBackButton:{description:"",type:{name:"bool"},required:!1},subtitle:{description:"",type:{name:"string"},required:!1},title:{description:"",type:{name:"string"},required:!0},defaultActiveTabIndex:{description:"",type:{name:"number"},required:!1},tabsComponent:{description:"",type:{name:"node"},required:!1},contentComponent:{description:"",type:{name:"node"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},hideCancel:{description:"",type:{name:"bool"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1},submitText:{description:"",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!1}}}},"./ui/components/ui/page-container/page-container-footer/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PageContainerFooter});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),ui_button=__webpack_require__("./ui/components/ui/button/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class PageContainerFooter extends react.Component{render(){const{children,onCancel,cancelText,onSubmit,submitText,disabled,submitButtonType,hideCancel,cancelButtonType,buttonSizeLarge=!1,footerClassName,footerButtonClassName}=this.props;return react.createElement("div",{className:classnames_default()("page-container__footer",footerClassName)},react.createElement("footer",null,!hideCancel&&react.createElement(ui_button.Z,{type:cancelButtonType||"secondary",large:buttonSizeLarge,className:classnames_default()("page-container__footer-button","page-container__footer-button__cancel",footerButtonClassName),onClick:e=>onCancel(e),"data-testid":"page-container-footer-cancel"},cancelText||this.context.t("cancel")),react.createElement(ui_button.Z,{type:submitButtonType||"primary",large:buttonSizeLarge,className:classnames_default()("page-container__footer-button",footerButtonClassName),disabled,onClick:e=>onSubmit(e),"data-testid":"page-container-footer-next"},submitText||this.context.t("next"))),children&&react.createElement("div",{className:"page-container__footer-secondary"},children))}}_defineProperty(PageContainerFooter,"propTypes",{children:prop_types_default().node,onCancel:prop_types_default().func,cancelText:prop_types_default().string,cancelButtonType:prop_types_default().string,onSubmit:prop_types_default().func,submitText:prop_types_default().string,disabled:prop_types_default().bool,submitButtonType:prop_types_default().string,hideCancel:prop_types_default().bool,buttonSizeLarge:prop_types_default().bool,footerClassName:prop_types_default().string,footerButtonClassName:prop_types_default().string}),_defineProperty(PageContainerFooter,"contextTypes",{t:prop_types_default().func}),PageContainerFooter.__docgenInfo={description:"",methods:[],displayName:"PageContainerFooter",props:{children:{description:"",type:{name:"node"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1},cancelButtonType:{description:"",type:{name:"string"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1},submitText:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},submitButtonType:{description:"",type:{name:"string"},required:!1},hideCancel:{description:"",type:{name:"bool"},required:!1},buttonSizeLarge:{description:"",type:{name:"bool"},required:!1},footerClassName:{description:"",type:{name:"string"},required:!1},footerButtonClassName:{description:"",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!1}}}},"./ui/components/ui/page-container/page-container-header/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PageContainerHeader});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),ui_button=__webpack_require__("./ui/components/ui/button/index.js");class PageContainerHeader extends react.Component{renderTabs(){const{tabs}=this.props;return tabs?react.createElement("ul",{className:"page-container__tabs"},tabs):null}renderCloseAction(){const{hideClose,onClose,headerCloseText}=this.props;return hideClose?null:headerCloseText?onClose&&react.createElement(ui_button.Z,{type:"link",className:"page-container__header-close-text",onClick:()=>onClose()},headerCloseText):onClose&&react.createElement("button",{className:"page-container__header-close",onClick:()=>onClose(),"aria-label":"close"})}renderHeaderRow(){const{showBackButton,onBackButtonClick,backButtonStyles,backButtonString}=this.props;return showBackButton&&react.createElement("div",{className:"page-container__header-row"},react.createElement("span",{className:"page-container__back-button",onClick:onBackButtonClick,style:backButtonStyles},backButtonString||"Back"))}render(){const{title,subtitle,tabs,className,hideClose}=this.props;return react.createElement("div",{className:classnames_default()("page-container__header",className,{"page-container__header--no-padding-bottom":Boolean(tabs)}),"data-testid":"page-container__header"},this.renderHeaderRow(),title&&react.createElement("div",{className:classnames_default()("page-container__title",{"page-container__title--no-margin-right":hideClose})},title),subtitle?react.createElement("div",{className:"page-container__subtitle"},subtitle):null,this.renderCloseAction(),this.renderTabs())}}!function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(PageContainerHeader,"propTypes",{title:prop_types_default().string,subtitle:prop_types_default().string,onClose:prop_types_default().func,showBackButton:prop_types_default().bool,onBackButtonClick:prop_types_default().func,backButtonStyles:prop_types_default().object,backButtonString:prop_types_default().string,tabs:prop_types_default().node,headerCloseText:prop_types_default().string,className:prop_types_default().string,hideClose:prop_types_default().bool}),PageContainerHeader.__docgenInfo={description:"",methods:[{name:"renderTabs",docblock:null,modifiers:[],params:[],returns:null},{name:"renderCloseAction",docblock:null,modifiers:[],params:[],returns:null},{name:"renderHeaderRow",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PageContainerHeader",props:{title:{description:"",type:{name:"string"},required:!1},subtitle:{description:"",type:{name:"string"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},showBackButton:{description:"",type:{name:"bool"},required:!1},onBackButtonClick:{description:"",type:{name:"func"},required:!1},backButtonStyles:{description:"",type:{name:"object"},required:!1},backButtonString:{description:"",type:{name:"string"},required:!1},tabs:{description:"",type:{name:"node"},required:!1},headerCloseText:{description:"",type:{name:"string"},required:!1},className:{description:"",type:{name:"string"},required:!1},hideClose:{description:"",type:{name:"bool"},required:!1}}}},"./ui/components/ui/pulse-loader/pulse-loader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PulseLoader});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function PulseLoader(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pulse-loader"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pulse-loader__loading-dot-one"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pulse-loader__loading-dot-two"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"pulse-loader__loading-dot-three"}))}PulseLoader.__docgenInfo={description:"",methods:[],displayName:"PulseLoader"}},"./ui/components/ui/site-origin/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_site_origin__WEBPACK_IMPORTED_MODULE_0__.Z});var _site_origin__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/site-origin/site-origin.js")},"./ui/components/ui/site-origin/site-origin.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SiteOrigin});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_chip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/chip/index.js"),_icon_with_fallback__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/icon-with-fallback/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/constants/design-system.ts");function SiteOrigin({siteOrigin,iconSrc,iconName,chip,className,title,leftIcon,rightIcon}){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("site-origin",className),title},chip?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chip__WEBPACK_IMPORTED_MODULE_2__.Z,{borderColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.kf.borderMuted,label:siteOrigin,maxContent:!1,leftIcon:leftIcon||react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icon_with_fallback__WEBPACK_IMPORTED_MODULE_3__.Z,{icon:iconSrc,name:iconName,size:24}),rightIcon}):react__WEBPACK_IMPORTED_MODULE_0__.createElement("bdi",{dir:"ltr"},siteOrigin))}SiteOrigin.propTypes={siteOrigin:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string.isRequired,iconName:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,iconSrc:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,title:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,chip:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,leftIcon:prop_types__WEBPACK_IMPORTED_MODULE_5___default().node,rightIcon:prop_types__WEBPACK_IMPORTED_MODULE_5___default().node},SiteOrigin.__docgenInfo={description:"",methods:[],displayName:"SiteOrigin",props:{siteOrigin:{description:"The origin of the site generally the URL",type:{name:"string"},required:!0},iconName:{description:"Icon name is used for the fallback icon and will display the first letter of the string\nwhen iconSrc errors or is not provided.",type:{name:"string"},required:!1},iconSrc:{description:"The image src of the icon",type:{name:"string"},required:!1},className:{description:"Additional className added to the root html element",type:{name:"string"},required:!1},title:{description:"title specifies extra information and is added to a title attribute added to the root html element\nIt is most often shown as a tooltip text when the mouse moves over the element.",type:{name:"string"},required:!1},chip:{description:"Whether the SiteOrigin is displayed as a chip or plain text.\nif false iconSrc and iconName props will not be used.",type:{name:"bool"},required:!1},leftIcon:{description:"The icon to display on the left side of the chip. If not provided, the iconSrc and iconName will be used.",type:{name:"node"},required:!1},rightIcon:{description:"The icon to display on the right side of the chip.",type:{name:"node"},required:!1}}}},"./ui/hooks/useOriginMetadata.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>useOriginMetadata});var _metamask_subject_metadata_controller__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@metamask/subject-metadata-controller/dist/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_selectors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/selectors/index.js");function useOriginMetadata(origin){const targetSubjectMetadata=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((state=>(0,_selectors__WEBPACK_IMPORTED_MODULE_2__.h5U)(state,origin)));if(!origin)return null;let minimumOriginMetadata=null;try{const url=new URL(origin);minimumOriginMetadata={host:url.host,hostname:url.hostname,origin,subjectType:_metamask_subject_metadata_controller__WEBPACK_IMPORTED_MODULE_0__.SubjectType.Unknown}}catch(_){}return targetSubjectMetadata&&minimumOriginMetadata?{...minimumOriginMetadata,...targetSubjectMetadata}:targetSubjectMetadata||minimumOriginMetadata}},"./ui/hooks/useScrollRequired.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>useScrollRequired});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js");const useScrollRequired=(dependencies=[])=>{const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),[isScrollableState,setIsScrollable]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[isScrolledToBottomState,setIsScrolledToBottom]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),update=()=>{const isScrollable=ref.current&&ref.current.scrollHeight>ref.current.clientHeight,isScrolledToBottom=!isScrollable||Math.round(ref.current.scrollTop)+ref.current.offsetHeight>=ref.current.scrollHeight;setIsScrollable(isScrollable),setIsScrolledToBottom(isScrolledToBottom)};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(update,[ref,...dependencies]);return{isScrollable:isScrollableState,isScrolledToBottom:isScrolledToBottomState,scrollToBottom:()=>{ref.current&&ref.current.scrollTo(0,ref.current.scrollHeight)},ref,onScroll:(0,lodash__WEBPACK_IMPORTED_MODULE_1__.debounce)(update,25)}}}}]);