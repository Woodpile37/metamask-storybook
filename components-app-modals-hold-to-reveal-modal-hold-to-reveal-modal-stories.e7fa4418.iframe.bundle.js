"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[4153],{"./ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_hold_to_reveal_modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/App/Modals/HoldToRevealModal",component:_hold_to_reveal_modal__WEBPACK_IMPORTED_MODULE_1__.Z},DefaultStory=(args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_hold_to_reveal_modal__WEBPACK_IMPORTED_MODULE_1__.Z,args)).bind({});DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => <HoldToRevealModal {...args} />",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}};const __namedExportsOrder=["DefaultStory"]},"./ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>HoldToRevealButton});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_contexts_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/contexts/i18n.js"),_component_library__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/component-library/index.js"),_ui_box__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/ui/box/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_contexts_metametrics__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/contexts/metametrics.js"),_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./shared/constants/metametrics.ts");const radius=14,radiusWithStroke=radius-1;function HoldToRevealButton({buttonText,onLongPressed}){const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_2__.OO),isLongPressing=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),[isUnlocking,setIsUnlocking]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[hasTriggeredUnlock,setHasTriggeredUnlock]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),trackEvent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_metametrics__WEBPACK_IMPORTED_MODULE_6__.Wd),preventPropogation=e=>{e.stopPropagation()},onProgressComplete=()=>{isLongPressing.current&&setIsUnlocking(!0)},triggerOnLongPressed=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{trackEvent({category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.ci.Keys,event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.AW.SrpHoldToRevealCompleted,properties:{key_type:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.Dv.Srp}}),trackEvent({category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.ci.Keys,event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.AW.SrpRevealViewed,properties:{key_type:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.Dv.Srp}}),onLongPressed(),setHasTriggeredUnlock(!0),preventPropogation(e)}),[onLongPressed,trackEvent]),resetAnimationStates=()=>{setIsUnlocking(!1),setHasTriggeredUnlock(!1)},renderPreCompleteContent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__absolute-fill":isUnlocking,"hold-to-reveal-button__main-icon-show":hasTriggeredUnlock})},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"hold-to-reveal-button__absolute-fill"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{className:"hold-to-reveal-button__circle-background",cx:radius,cy:radius,r:radiusWithStroke}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"hold-to-reveal-button__absolute-fill"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{"aria-label":t("holdToRevealLockedLabel"),onTransitionEnd:onProgressComplete,className:"hold-to-reveal-button__circle-foreground",cx:radius,cy:radius,r:radiusWithStroke}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bA.FLEX,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.E0.center,className:"hold-to-reveal-button__lock-icon-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:"images/lock-icon.svg",alt:t("padlock"),className:"hold-to-reveal-button__lock-icon"})))),[isUnlocking,hasTriggeredUnlock,t]),renderPostCompleteContent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>isUnlocking?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__unlock-icon-hide":hasTriggeredUnlock}),onAnimationEnd:resetAnimationStates},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onAnimationEnd:preventPropogation,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-outer-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{className:"hold-to-reveal-button__circle-static-outer",cx:14,cy:14,r:14}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onAnimationEnd:preventPropogation,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-inner-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{className:"hold-to-reveal-button__circle-static-inner",cx:14,cy:14,r:12}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"aria-label":t("holdToRevealUnlockedLabel"),className:"hold-to-reveal-button__unlock-icon-container",onAnimationEnd:triggerOnLongPressed},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:"images/unlock-icon.svg",alt:t("padlock"),className:"hold-to-reveal-button__unlock-icon"}))):null),[isUnlocking,hasTriggeredUnlock,triggerOnLongPressed,t]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.zx,{onMouseDown:()=>{isLongPressing.current=!0,trackEvent({category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.ci.Keys,event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.AW.SrpHoldToRevealClickStarted,properties:{key_type:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.Dv.Srp}})},onMouseUp:()=>{isLongPressing.current=!1},className:"hold-to-reveal-button__button-hold",textProps:{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bA.FLEX,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"hold-to-reveal-button__icon-container",marginRight:2},renderPreCompleteContent(),renderPostCompleteContent()),buttonText)}HoldToRevealButton.propTypes={buttonText:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string.isRequired,onLongPressed:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func.isRequired},HoldToRevealButton.__docgenInfo={description:"",methods:[],displayName:"HoldToRevealButton",props:{buttonText:{description:"Text to be displayed on the button",type:{name:"string"},required:!0},onLongPressed:{description:"Function to be called after the animation is finished",type:{name:"func"},required:!0}}}},"./ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>hold_to_reveal_modal});var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),with_modal_props=__webpack_require__("./ui/helpers/higher-order-components/with-modal-props/index.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),hold_to_reveal_button=__webpack_require__("./ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),zendesk_url=__webpack_require__("./ui/helpers/constants/zendesk-url.js"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts");const HoldToRevealModal=({onLongPressed,hideModal,willHide=!0,holdToRevealType="SRP"})=>{const t=(0,useI18nContext.C)(),holdToRevealTitle="SRP"===holdToRevealType?"holdToRevealSRPTitle":"holdToRevealPrivateKeyTitle",holdToRevealButton="SRP"===holdToRevealType?"holdToRevealSRP":"holdToRevealPrivateKey",trackEvent=(0,react.useContext)(metametrics.Wd);return react.createElement(box.ZP,{className:"hold-to-reveal-modal",display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.flexStart,padding:6},react.createElement(box.ZP,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,alignItems:design_system.g1.center,justifyContent:design_system.E0.spaceBetween,marginBottom:6},react.createElement(component_library.xv,{variant:design_system.rK.headingSm},t(holdToRevealTitle)),willHide&&react.createElement(component_library.Ei,{className:"hold-to-reveal-modal__close",iconName:component_library.uH.Close,size:design_system.$u.SM,onClick:()=>{trackEvent({category:constants_metametrics.ci.Keys,event:constants_metametrics.AW.SrpHoldToRevealCloseClicked,properties:{key_type:constants_metametrics.Dv.Srp}}),hideModal()},ariaLabel:t("close")})),"SRP"===holdToRevealType?react.createElement(box.ZP,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,gap:4,marginBottom:6},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd},t("holdToRevealContent1",[react.createElement(component_library.xv,{key:"hold-to-reveal-2",variant:design_system.rK.bodyMdBold,as:"span"},t("holdToRevealContent2"))])),react.createElement(component_library.xv,{variant:design_system.rK.bodyMdBold},t("holdToRevealContent3",[react.createElement(component_library.xv,{key:"hold-to-reveal-4",variant:design_system.rK.bodyMd,as:"span",display:design_system.sS.Inline},t("holdToRevealContent4")),react.createElement(component_library.zx,{key:"hold-to-reveal-5",variant:component_library.RN.LINK,size:design_system.$u.auto,href:zendesk_url.Z.NON_CUSTODIAL_WALLET,target:"_blank",rel:"noopener noreferrer"},t("holdToRevealContent5"))]))):react.createElement(box.ZP,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,gap:4,marginBottom:6},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd},t("holdToRevealContentPrivateKey1",[react.createElement(component_library.xv,{key:"hold-to-reveal-2",variant:design_system.rK.bodyMdBold,as:"span"},t("holdToRevealContentPrivateKey2"))])),react.createElement(component_library.xv,{variant:design_system.rK.bodyMdBold},t("holdToRevealContent3",[react.createElement(component_library.xv,{key:"hold-to-reveal-4",variant:design_system.rK.bodyMd,as:"span",display:design_system.sS.Inline},t("holdToRevealContent4")),react.createElement(component_library.zx,{key:"hold-to-reveal-5",variant:component_library.RN.LINK,size:component_library.Gt.INHERIT,href:zendesk_url.Z.NON_CUSTODIAL_WALLET,target:"_blank",rel:"noopener noreferrer"},t("holdToRevealContent5"))]))),react.createElement(hold_to_reveal_button.Z,{buttonText:t(holdToRevealButton),onLongPressed:()=>{onLongPressed(),willHide&&hideModal()},marginLeft:"auto",marginRight:"auto"}))};HoldToRevealModal.propTypes={onLongPressed:prop_types_default().func.isRequired,hideModal:prop_types_default().func,willHide:prop_types_default().bool,holdToRevealType:prop_types_default().oneOf(["SRP","PrivateKey"]).isRequired},HoldToRevealModal.__docgenInfo={description:"",methods:[],displayName:"HoldToRevealModal",props:{willHide:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},holdToRevealType:{defaultValue:{value:"'SRP'",computed:!1},description:"",type:{name:"enum",value:[{value:"'SRP'",computed:!1},{value:"'PrivateKey'",computed:!1}]},required:!1},onLongPressed:{description:"",type:{name:"func"},required:!0},hideModal:{description:"",type:{name:"func"},required:!1}}};const hold_to_reveal_modal=(0,with_modal_props.Z)(HoldToRevealModal)},"./ui/helpers/higher-order-components/with-modal-props/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>withModalProps});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),actions=__webpack_require__("./ui/store/actions.ts");const mapStateToProps=state=>{const{appState}=state,{props:modalProps}=appState.modal.modalState;return{...modalProps}},mapDispatchToProps=dispatch=>({hideModal:()=>dispatch((0,actions.VGc)())});function withModalProps(Component){return(0,es.$j)(mapStateToProps,mapDispatchToProps)(Component)}}}]);