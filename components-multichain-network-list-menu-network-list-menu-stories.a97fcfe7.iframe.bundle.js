"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[530],{"./ui/components/multichain/network-list-menu/network-list-menu.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_storybook_test_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/test-data.js"),_store_store__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/store/store.ts"),_shared_constants_network__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/constants/network.ts"),___WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/multichain/network-list-menu/index.js");const customNetworkStore=(0,_store_store__WEBPACK_IMPORTED_MODULE_3__.Z)({..._storybook_test_data__WEBPACK_IMPORTED_MODULE_2__.default,metamask:{..._storybook_test_data__WEBPACK_IMPORTED_MODULE_2__.default.metamask,preferences:{showTestNetworks:!0},networkConfigurations:{..._storybook_test_data__WEBPACK_IMPORTED_MODULE_2__.default.metamask.networkConfigurations,"test-networkConfigurationId-3":{rpcUrl:"https://testrpc.com",chainId:_shared_constants_network__WEBPACK_IMPORTED_MODULE_4__.vo.OPTIMISM,nickname:_shared_constants_network__WEBPACK_IMPORTED_MODULE_4__.k5,rpcPrefs:{imageUrl:_shared_constants_network__WEBPACK_IMPORTED_MODULE_4__.qA}},"test-networkConfigurationId-4":{rpcUrl:"https://testrpc.com",chainId:_shared_constants_network__WEBPACK_IMPORTED_MODULE_4__.vo.BSC,nickname:_shared_constants_network__WEBPACK_IMPORTED_MODULE_4__.uw,rpcPrefs:{imageUrl:_shared_constants_network__WEBPACK_IMPORTED_MODULE_4__.Qe}}}}}),__WEBPACK_DEFAULT_EXPORT__={title:"Components/Multichain/NetworkListMenu",component:___WEBPACK_IMPORTED_MODULE_5__.q,argTypes:{onClose:{action:"onClose"}}},DefaultStory=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_5__.q,args);DefaultStory.decorators=[Story=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.zt,{store:customNetworkStore},react__WEBPACK_IMPORTED_MODULE_0__.createElement(Story,null))],DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => <NetworkListMenu {...args} />",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/multichain/network-list-item/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>NetworkListItem});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),box=__webpack_require__("./ui/components/ui/box/box.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),tooltip=__webpack_require__("./ui/components/ui/tooltip/tooltip.js"),network=__webpack_require__("./shared/constants/network.ts");function getAvatarNetworkColor(name){switch(name){case network.cm:return design_system.lP.goerli;case network.Pf:return design_system.lP.lineaGoerli;case network.xs:return design_system.lP.sepolia;default:return}}const NetworkListItem=({name,iconSrc,selected=!1,onClick,onDeleteClick})=>{const t=(0,useI18nContext.C)(),networkRef=(0,react.useRef)();return(0,react.useEffect)((()=>{networkRef.current&&selected&&networkRef.current.querySelector(".mm-button-link").focus()}),[networkRef,selected]),react.createElement(box.ZP,{onClick,padding:4,gap:2,backgroundColor:selected?design_system.Il.primaryMuted:design_system.Il.transparent,className:classnames_default()("multichain-network-list-item",{"multichain-network-list-item--selected":selected}),alignItems:design_system.g1.center,justifyContent:design_system.E0.spaceBetween,width:design_system.Sw.Full,ref:networkRef},selected&&react.createElement(box.ZP,{className:"multichain-network-list-item__selected-indicator",borderRadius:design_system.cM.pill,backgroundColor:design_system.Il.primaryDefault}),react.createElement(component_library.OQ,{backgroundColor:getAvatarNetworkColor(name),name,src:iconSrc}),react.createElement(box.ZP,{className:"multichain-network-list-item__network-name"},react.createElement(component_library.ZP,{onClick:e=>{e.stopPropagation(),onClick()},color:design_system.d9.textDefault,ellipsis:!0},name.length>17?react.createElement(tooltip.Z,{title:name,position:"bottom",wrapperClassName:"multichain-network-list-item__tooltip"},name):name)),onDeleteClick?react.createElement(component_library.Ei,{className:"multichain-network-list-item__delete",color:design_system.EY.errorDefault,iconName:component_library.uH.Trash,ariaLabel:t("deleteNetwork"),size:design_system.$u.SM,onClick:e=>{e.stopPropagation(),onDeleteClick()}}):null)};NetworkListItem.propTypes={name:prop_types_default().string.isRequired,iconSrc:prop_types_default().string,selected:prop_types_default().bool,onClick:prop_types_default().func.isRequired,onDeleteClick:prop_types_default().func},NetworkListItem.__docgenInfo={description:"",methods:[],displayName:"NetworkListItem",props:{selected:{defaultValue:{value:"false",computed:!1},description:"Represents if the network item is selected",type:{name:"bool"},required:!1},name:{description:"The name of the network",type:{name:"string"},required:!0},iconSrc:{description:"Path to the Icon image",type:{name:"string"},required:!1},onClick:{description:"Executes when the item is clicked",type:{name:"func"},required:!0},onDeleteClick:{description:"Executes when the delete icon is clicked",type:{name:"func"},required:!1}}}},"./ui/components/multichain/network-list-menu/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>NetworkListMenu});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),popover_component=__webpack_require__("./ui/components/ui/popover/popover.component.js"),network_list_item=__webpack_require__("./ui/components/multichain/network-list-item/index.js"),actions=__webpack_require__("./ui/store/actions.ts"),network=__webpack_require__("./shared/constants/network.ts"),selectors=__webpack_require__("./ui/selectors/index.js"),box=__webpack_require__("./ui/components/ui/box/box.js"),toggle_button=__webpack_require__("./ui/components/ui/toggle-button/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.js"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),util=__webpack_require__("./app/scripts/lib/util.ts"),app=__webpack_require__("./shared/constants/app.ts"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js");const UNREMOVABLE_CHAIN_IDS=[network.vo.MAINNET,network.vo.LINEA_MAINNET,...network.mT],NetworkListMenu=({onClose})=>{const t=(0,useI18nContext.C)(),networks=(0,es.v9)(selectors.ssy),showTestNetworks=(0,es.v9)(selectors.nc),currentChainId=(0,es.v9)(selectors.BVZ),dispatch=(0,es.I0)(),history=(0,react_router.k6)(),trackEvent=(0,react.useContext)(metametrics.Wd),isFullScreen=(0,util.kD)()===app.BK,showTestNetworksRef=(0,react.useRef)(showTestNetworks),networkListRef=(0,react.useRef)(null),completedOnboarding=(0,es.v9)(metamask.c3),lineaMainnetReleased=(0,es.v9)(metamask.Wy);return(0,react.useEffect)((()=>{showTestNetworks&&!showTestNetworksRef.current&&networkListRef.current.lastChild.scrollIntoView(),showTestNetworksRef.current=showTestNetworks}),[showTestNetworks,showTestNetworksRef]),react.createElement(popover_component.Z,{contentClassName:"multichain-network-list-menu-content-wrapper",onClose,centerTitle:!0,title:t("networkMenuHeading")},react.createElement(react.Fragment,null,react.createElement(box.ZP,{className:"multichain-network-list-menu",ref:networkListRef},networks.map(((network,index)=>{var _network$rpcPrefs;if(!lineaMainnetReleased&&"linea-mainnet"===network.providerType)return null;const isCurrentNetwork=currentChainId===network.chainId,canDeleteNetwork=!isCurrentNetwork&&!UNREMOVABLE_CHAIN_IDS.includes(network.chainId);return react.createElement(network_list_item.h,{name:network.nickname,iconSrc:null==network||null===(_network$rpcPrefs=network.rpcPrefs)||void 0===_network$rpcPrefs?void 0:_network$rpcPrefs.imageUrl,key:`${network.id||network.chainId}-${index}`,selected:isCurrentNetwork,onClick:async()=>{dispatch((0,actions.DON)()),network.providerType?dispatch((0,actions.wvr)(network.providerType)):dispatch((0,actions.PER)(network.id)),trackEvent({event:constants_metametrics.AW.NavNetworkSwitched,category:constants_metametrics.ci.Network,properties:{location:"Network Menu",chain_id:currentChainId,from_network:currentChainId,to_network:network.id||network.chainId}})},onDeleteClick:canDeleteNetwork?()=>{dispatch((0,actions.DON)()),dispatch((0,actions.K4b)({name:"CONFIRM_DELETE_NETWORK",target:network.id||network.chainId,onConfirm:()=>{}}))}:null})}))),react.createElement(box.ZP,{padding:4,display:design_system.sS.Flex,justifyContent:design_system.E0.spaceBetween},react.createElement(component_library.xv,null,t("showTestnetNetworks")),react.createElement(toggle_button.Z,{value:showTestNetworks,onToggle:value=>{const shouldShowTestNetworks=!value;dispatch((0,actions.vVW)(shouldShowTestNetworks)),shouldShowTestNetworks&&trackEvent({event:constants_metametrics.AW.TestNetworksDisplayed,category:constants_metametrics.ci.Network})}})),react.createElement(box.ZP,{padding:4},react.createElement(component_library.PL,{size:component_library.$v.LG,block:!0,onClick:()=>{isFullScreen?completedOnboarding?history.push(routes.tY):dispatch((0,actions.K4b)({name:"ONBOARDING_ADD_NETWORK"})):__webpack_require__.g.platform.openExtensionInBrowser(routes.tY),dispatch((0,actions.DON)()),trackEvent({event:constants_metametrics.AW.AddNetworkButtonClick,category:constants_metametrics.ci.Network})}},t("addNetwork")))))};NetworkListMenu.propTypes={onClose:prop_types_default().func.isRequired},NetworkListMenu.__docgenInfo={description:"",methods:[],displayName:"NetworkListMenu",props:{onClose:{description:"Executes when the menu should be closed",type:{name:"func"},required:!0}}}},"./ui/components/ui/toggle-button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./ui/components/ui/toggle-button/toggle-button.component.js").Z},"./ui/components/ui/toggle-button/toggle-button.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_toggle_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-toggle-button/lib/index.js"),react_toggle_button__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_toggle_button__WEBPACK_IMPORTED_MODULE_1__),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);const trackStyle={width:"40px",height:"24px",padding:"0px",borderRadius:"26px",border:"2px solid var(--color-primary-default)",display:"flex",alignItems:"center",justifyContent:"center"},offTrackStyle={...trackStyle,border:"2px solid var(--color-border-default)"},thumbStyle={width:"18px",height:"18px",display:"flex",boxShadow:"none",alignSelf:"center",borderRadius:"50%",position:"relative"},colors={activeThumb:{base:"#037DD6"},inactiveThumb:{base:"#6A737D"},active:{base:"#F2F4F6",hover:"#F2F4F6"},inactive:{base:"#F2F4F6",hover:"#F2F4F6"}},ToggleButton=props=>{const{value,onToggle,offLabel,onLabel,disabled,className}=props,modifier=value?"on":"off";return react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{tabIndex:"0",onKeyDown:e=>{"Enter"===e.key&&onToggle(value)},className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("toggle-button",`toggle-button--${modifier}`,{"toggle-button--disabled":disabled},className)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_toggle_button__WEBPACK_IMPORTED_MODULE_1___default(),{value,onToggle:disabled?void 0:onToggle,activeLabel:"",inactiveLabel:"",trackStyle:value?trackStyle:offTrackStyle,thumbStyle,thumbAnimateRange:[3,18],colors}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"toggle-button__status"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"toggle-button__label-off"},offLabel),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"toggle-button__label-on"},onLabel)))};ToggleButton.propTypes={value:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,onToggle:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,offLabel:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,onLabel:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,className:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string},ToggleButton.__docgenInfo={description:"",methods:[],displayName:"ToggleButton",props:{value:{description:"ToggleButton value",type:{name:"bool"},required:!1},onToggle:{description:"The onChange handler of the ToggleButton",type:{name:"func"},required:!1},offLabel:{description:"Label text when toggle is off",type:{name:"string"},required:!1},onLabel:{description:"Label text when toggle is on",type:{name:"string"},required:!1},disabled:{description:"Disables ToggleButton if true. Set to false as default",type:{name:"bool"},required:!1},className:{description:"Additional className to add to the ToggleButton",type:{name:"string"},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=ToggleButton}}]);