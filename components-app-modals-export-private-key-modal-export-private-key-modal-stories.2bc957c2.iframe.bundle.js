"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[2929],{"./ui/components/app/modals/export-private-key-modal/export-private-key-modal.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>export_private_key_modal_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),test_data=__webpack_require__("./.storybook/test-data.js"),store=__webpack_require__("./ui/store/store.ts"),loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel_default=__webpack_require__.n(loglevel),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),with_modal_props=__webpack_require__("./ui/helpers/higher-order-components/with-modal-props/index.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),actions=__webpack_require__("./ui/store/actions.ts"),selectors=__webpack_require__("./ui/selectors/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),identicon=__webpack_require__("./ui/components/ui/identicon/index.js");function AccountModalContainer(props,context){const{className,selectedIdentity,showBackButton,backButtonAction,hideModal,children}=props;return react.createElement("div",{className:classnames_default()(className,"account-modal"),style:{borderRadius:"4px"}},react.createElement("div",{className:"account-modal__container"},react.createElement("div",null,react.createElement(identicon.Z,{address:selectedIdentity.address,diameter:64})),showBackButton&&react.createElement("div",{className:"account-modal__back",onClick:backButtonAction},react.createElement("i",{className:"fa fa-angle-left fa-lg"}),react.createElement("span",{className:"account-modal__back-text"},context.t("back"))),react.createElement("button",{className:"account-modal__close",onClick:hideModal}),children))}AccountModalContainer.contextTypes={t:prop_types_default().func},AccountModalContainer.defaultProps={showBackButton:!1,children:null,backButtonAction:void 0},AccountModalContainer.propTypes={className:prop_types_default().string,selectedIdentity:prop_types_default().object.isRequired,showBackButton:prop_types_default().bool,backButtonAction:prop_types_default().func,hideModal:prop_types_default().func.isRequired,children:prop_types_default().node},AccountModalContainer.__docgenInfo={description:"",methods:[],displayName:"AccountModalContainer",props:{showBackButton:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},backButtonAction:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},className:{description:"",type:{name:"string"},required:!1},selectedIdentity:{description:"",type:{name:"object"},required:!0},hideModal:{description:"",type:{name:"func"},required:!0}},context:{t:{type:{name:"func"},required:!1}}};const account_modal_container_container=(0,es.$j)((function mapStateToProps(state,ownProps){return{selectedIdentity:ownProps.selectedIdentity||(0,selectors.Svg)(state)}}),(function mapDispatchToProps(dispatch){return{hideModal:()=>{dispatch((0,actions.VGc)())}}}))(AccountModalContainer);var hexstring_utils=__webpack_require__("./shared/modules/hexstring-utils.ts"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),hold_to_reveal_modal=__webpack_require__("./ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.js"),contexts_metametrics=__webpack_require__("./ui/contexts/metametrics.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),copy_to_clipboard=__webpack_require__("./node_modules/copy-to-clipboard/index.js"),copy_to_clipboard_default=__webpack_require__.n(copy_to_clipboard),dist_browser=__webpack_require__("./node_modules/ethereumjs-util/dist.browser/index.js");const PrivateKeyDisplay=({privateKey})=>{const trackEvent=(0,react.useContext)(contexts_metametrics.Wd),t=(0,useI18nContext.C)(),plainKey=(0,dist_browser.stripHexPrefix)(privateKey);return react.createElement(box.ZP,{width:design_system.D8.FULL,flexDirection:design_system.uM.COLUMN,display:design_system.bA.FLEX,alignItems:design_system.g1.flexStart,paddingLeft:4,paddingRight:4},react.createElement(component_library.__,{color:design_system.Il.textDefault,marginBottom:2,variant:design_system.rK.bodySm},t("copyPrivateKey")),react.createElement(box.ZP,{className:"export-private-key-modal__private-key-display",width:design_system.D8.FULL,borderStyle:design_system.N4.solid,borderColor:design_system.kf.borderDefault,borderRadius:design_system.cM.XS,borderWidth:1,padding:[2,3,2],color:design_system.Il.errorDefault,onClick:()=>{copy_to_clipboard_default()(plainKey),trackEvent({category:metametrics.ci.Keys,event:metametrics.AW.KeyExportCopied,properties:{key_type:metametrics.Dv.Pkey,copy_method:"clipboard"}},{})}},plainKey))};PrivateKeyDisplay.propTypes={privateKey:prop_types_default().string.isRequired},PrivateKeyDisplay.__docgenInfo={description:"",methods:[],displayName:"PrivateKeyDisplay",props:{privateKey:{description:"",type:{name:"string"},required:!0}}};const private_key=PrivateKeyDisplay,PasswordInput=({setPassword})=>{const t=(0,useI18nContext.C)();return react.createElement(box.ZP,{width:design_system.D8.FULL,flexDirection:design_system.uM.COLUMN,display:design_system.bA.FLEX,alignItems:design_system.g1.flexStart,paddingLeft:5,paddingRight:5},react.createElement(component_library.__,{color:design_system.Il.textDefault,marginBottom:2,variant:design_system.rK.bodySm},t("typePassword")),react.createElement(component_library.nv,{width:design_system.D8.FULL,placeholder:t("enterPassword"),type:component_library.hk.PASSWORD,className:"export-private-key-modal__password-input",onChange:event=>setPassword(event.target.value),"data-testid":"password-input"}))};PasswordInput.propTypes={setPassword:prop_types_default().func.isRequired},PasswordInput.__docgenInfo={description:"",methods:[],displayName:"PasswordInput",props:{setPassword:{description:"",type:{name:"func"},required:!0}}};const password_input=PasswordInput,ExportPrivateKeyModal=({clearAccountDetails,hideWarning,exportAccount,selectedIdentity,showAccountDetailModal,hideModal,warning=null,previousModalState})=>{const[password,setPassword]=(0,react.useState)(""),[privateKey,setPrivateKey]=(0,react.useState)(null),[showWarning,setShowWarning]=(0,react.useState)(!0),[showHoldToReveal,setShowHoldToReveal]=(0,react.useState)(!1),trackEvent=(0,react.useContext)(contexts_metametrics.Wd),t=(0,useI18nContext.C)();(0,react.useEffect)((()=>()=>{clearAccountDetails(),hideWarning()}),[]);const{name,address}=selectedIdentity;return showHoldToReveal?react.createElement(account_modal_container_container,{className:"export-private-key-modal",selectedIdentity,showBackButton:"ACCOUNT_DETAILS"===previousModalState,backButtonAction:()=>showAccountDetailModal()},react.createElement(hold_to_reveal_modal.Z,{onLongPressed:()=>setShowHoldToReveal(!1),willHide:!1,holdToRevealType:"PrivateKey"})):react.createElement(account_modal_container_container,{className:"export-private-key-modal",selectedIdentity,showBackButton:"ACCOUNT_DETAILS"===previousModalState,backButtonAction:()=>showAccountDetailModal()},react.createElement(component_library.xv,{as:"span",marginTop:2,variant:design_system.rK.bodyLgMedium,fontWeight:design_system.m5.NORMAL},name),react.createElement(box.ZP,{className:"ellip-address-wrapper",borderStyle:design_system.N4.solid,borderColor:design_system.kf.borderDefault,borderWidth:1,marginTop:2,padding:[1,2,1,2]},(0,hexstring_utils.QG)(address)),react.createElement(box.ZP,{className:"export-private-key-modal__divider",width:design_system.D8.FULL,margin:[5,0,3,0]}),react.createElement(component_library.xv,{variant:design_system.rK.bodyLgMedium,margin:[4,0,4,0],fontWeight:design_system.m5.NORMAL},t("showPrivateKeys")),privateKey?react.createElement(private_key,{privateKey}):react.createElement(password_input,{setPassword}),showWarning&&react.createElement(component_library.xv,{color:design_system.Il.errorDefault,variant:design_system.rK.bodySm},warning),react.createElement(component_library.wB,{padding:[1,3,0,3],marginLeft:5,marginRight:5,marginTop:4,severity:"danger"},t("privateKeyWarning")),react.createElement(box.ZP,{display:design_system.bA.FLEX,flexDirection:design_system.uM.ROW,width:design_system.D8.FULL,justifyContent:design_system.E0.spaceBetween,marginTop:3,padding:[5,0,5,0]},!privateKey&&react.createElement(component_library.zx,{type:component_library.RN.SECONDARY,size:component_library.Gt.LG,width:design_system.D8.HALF,marginRight:4,onClick:()=>{trackEvent({category:metametrics.ci.Keys,event:metametrics.AW.KeyExportCanceled,properties:{key_type:metametrics.Dv.Pkey}}),hideModal()}},t("cancel")),privateKey?react.createElement(component_library.zx,{type:component_library.RN.PRIMARY,size:component_library.Gt.LG,width:design_system.D8.FULL,onClick:()=>{hideModal()}},t("done")):react.createElement(component_library.zx,{type:component_library.RN.PRIMARY,size:component_library.Gt.LG,width:design_system.D8.HALF,onClick:()=>{trackEvent({category:metametrics.ci.Keys,event:metametrics.AW.KeyExportRequested,properties:{key_type:metametrics.Dv.Pkey}}),(async(passwordInput,address)=>{try{const privateKeyRetrieved=await exportAccount(passwordInput,address);trackEvent({category:metametrics.ci.Keys,event:metametrics.AW.KeyExportRevealed,properties:{key_type:metametrics.Dv.Pkey}},{}),setPrivateKey(privateKeyRetrieved),setShowWarning(!1),setShowHoldToReveal(!0)}catch(e){trackEvent({category:metametrics.ci.Keys,event:metametrics.AW.KeyExportFailed,properties:{key_type:metametrics.Dv.Pkey,reason:"incorrect_password"}},{}),loglevel_default().error(e)}})(password,address)},disabled:!password},t("confirm"))))};ExportPrivateKeyModal.propTypes={exportAccount:prop_types_default().func.isRequired,selectedIdentity:prop_types_default().object.isRequired,warning:prop_types_default().node,showAccountDetailModal:prop_types_default().func.isRequired,hideModal:prop_types_default().func.isRequired,hideWarning:prop_types_default().func.isRequired,clearAccountDetails:prop_types_default().func.isRequired,previousModalState:prop_types_default().string},ExportPrivateKeyModal.__docgenInfo={description:"",methods:[],displayName:"ExportPrivateKeyModal",props:{warning:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},exportAccount:{description:"",type:{name:"func"},required:!0},selectedIdentity:{description:"",type:{name:"object"},required:!0},showAccountDetailModal:{description:"",type:{name:"func"},required:!0},hideModal:{description:"",type:{name:"func"},required:!0},hideWarning:{description:"",type:{name:"func"},required:!0},clearAccountDetails:{description:"",type:{name:"func"},required:!0},previousModalState:{description:"",type:{name:"string"},required:!1}}};const export_private_key_modal_component=(0,with_modal_props.Z)(ExportPrivateKeyModal);var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3;const export_private_key_modal_stories_store=(0,store.Z)(test_data.default),export_private_key_modal_stories={title:"Components/App/Modals/ExportPrivateKeyModal",decorators:[story=>react.createElement(es.zt,{store:export_private_key_modal_stories_store},story())],argsTypes:{exportAccount:{action:"exportAccount"}}},DefaultStory=()=>react.createElement(export_private_key_modal_component,{exportAccount:()=>"mockPrivateKey",selectedIdentity:test_data.default.metamask.identities[test_data.default.metamask.selectedAddress]});DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"() => {\n  return <ExportPrivateKeyModal\n  // mock actions\n  exportAccount={() => {\n    return 'mockPrivateKey';\n  }} selectedIdentity={testData.metamask.identities[testData.metamask.selectedAddress]} />;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>HoldToRevealButton});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_contexts_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/contexts/i18n.js"),_component_library__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/component-library/index.js"),_ui_box__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/ui/box/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_contexts_metametrics__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/contexts/metametrics.js"),_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./shared/constants/metametrics.ts");const radius=14,radiusWithStroke=radius-1;function HoldToRevealButton({buttonText,onLongPressed}){const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_2__.OO),isLongPressing=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),[isUnlocking,setIsUnlocking]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[hasTriggeredUnlock,setHasTriggeredUnlock]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),trackEvent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_metametrics__WEBPACK_IMPORTED_MODULE_6__.Wd),preventPropogation=e=>{e.stopPropagation()},onProgressComplete=()=>{isLongPressing.current&&setIsUnlocking(!0)},triggerOnLongPressed=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{trackEvent({category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.ci.Keys,event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.AW.SrpHoldToRevealCompleted,properties:{key_type:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.Dv.Srp}}),trackEvent({category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.ci.Keys,event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.AW.SrpRevealViewed,properties:{key_type:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.Dv.Srp}}),onLongPressed(),setHasTriggeredUnlock(!0),preventPropogation(e)}),[onLongPressed,trackEvent]),resetAnimationStates=()=>{setIsUnlocking(!1),setHasTriggeredUnlock(!1)},renderPreCompleteContent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__absolute-fill":isUnlocking,"hold-to-reveal-button__main-icon-show":hasTriggeredUnlock})},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"hold-to-reveal-button__absolute-fill"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{className:"hold-to-reveal-button__circle-background",cx:radius,cy:radius,r:radiusWithStroke}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"hold-to-reveal-button__absolute-fill"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{"aria-label":t("holdToRevealLockedLabel"),onTransitionEnd:onProgressComplete,className:"hold-to-reveal-button__circle-foreground",cx:radius,cy:radius,r:radiusWithStroke}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bA.FLEX,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.E0.center,className:"hold-to-reveal-button__lock-icon-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:"images/lock-icon.svg",alt:t("padlock"),className:"hold-to-reveal-button__lock-icon"})))),[isUnlocking,hasTriggeredUnlock,t]),renderPostCompleteContent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>isUnlocking?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__unlock-icon-hide":hasTriggeredUnlock}),onAnimationEnd:resetAnimationStates},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onAnimationEnd:preventPropogation,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-outer-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{className:"hold-to-reveal-button__circle-static-outer",cx:14,cy:14,r:14}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onAnimationEnd:preventPropogation,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-inner-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{className:"hold-to-reveal-button__circle-static-inner",cx:14,cy:14,r:12}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"aria-label":t("holdToRevealUnlockedLabel"),className:"hold-to-reveal-button__unlock-icon-container",onAnimationEnd:triggerOnLongPressed},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:"images/unlock-icon.svg",alt:t("padlock"),className:"hold-to-reveal-button__unlock-icon"}))):null),[isUnlocking,hasTriggeredUnlock,triggerOnLongPressed,t]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.zx,{onMouseDown:()=>{isLongPressing.current=!0,trackEvent({category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.ci.Keys,event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.AW.SrpHoldToRevealClickStarted,properties:{key_type:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.Dv.Srp}})},onMouseUp:()=>{isLongPressing.current=!1},className:"hold-to-reveal-button__button-hold",textProps:{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bA.FLEX,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"hold-to-reveal-button__icon-container",marginRight:2},renderPreCompleteContent(),renderPostCompleteContent()),buttonText)}HoldToRevealButton.propTypes={buttonText:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string.isRequired,onLongPressed:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func.isRequired},HoldToRevealButton.__docgenInfo={description:"",methods:[],displayName:"HoldToRevealButton",props:{buttonText:{description:"Text to be displayed on the button",type:{name:"string"},required:!0},onLongPressed:{description:"Function to be called after the animation is finished",type:{name:"func"},required:!0}}}},"./ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>hold_to_reveal_modal});var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),with_modal_props=__webpack_require__("./ui/helpers/higher-order-components/with-modal-props/index.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),hold_to_reveal_button=__webpack_require__("./ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),zendesk_url=__webpack_require__("./ui/helpers/constants/zendesk-url.js"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts");const HoldToRevealModal=({onLongPressed,hideModal,willHide=!0,holdToRevealType="SRP"})=>{const t=(0,useI18nContext.C)(),holdToRevealTitle="SRP"===holdToRevealType?"holdToRevealSRPTitle":"holdToRevealPrivateKeyTitle",holdToRevealButton="SRP"===holdToRevealType?"holdToRevealSRP":"holdToRevealPrivateKey",trackEvent=(0,react.useContext)(metametrics.Wd);return react.createElement(box.ZP,{className:"hold-to-reveal-modal",display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.flexStart,padding:6},react.createElement(box.ZP,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,alignItems:design_system.g1.center,justifyContent:design_system.E0.spaceBetween,marginBottom:6},react.createElement(component_library.xv,{variant:design_system.rK.headingSm},t(holdToRevealTitle)),willHide&&react.createElement(component_library.Ei,{className:"hold-to-reveal-modal__close",iconName:component_library.uH.Close,size:design_system.$u.SM,onClick:()=>{trackEvent({category:constants_metametrics.ci.Keys,event:constants_metametrics.AW.SrpHoldToRevealCloseClicked,properties:{key_type:constants_metametrics.Dv.Srp}}),hideModal()},ariaLabel:t("close")})),"SRP"===holdToRevealType?react.createElement(box.ZP,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,gap:4,marginBottom:6},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd},t("holdToRevealContent1",[react.createElement(component_library.xv,{key:"hold-to-reveal-2",variant:design_system.rK.bodyMdBold,as:"span"},t("holdToRevealContent2"))])),react.createElement(component_library.xv,{variant:design_system.rK.bodyMdBold},t("holdToRevealContent3",[react.createElement(component_library.xv,{key:"hold-to-reveal-4",variant:design_system.rK.bodyMd,as:"span",display:design_system.sS.Inline},t("holdToRevealContent4")),react.createElement(component_library.zx,{key:"hold-to-reveal-5",variant:component_library.RN.LINK,size:design_system.$u.auto,href:zendesk_url.Z.NON_CUSTODIAL_WALLET,target:"_blank",rel:"noopener noreferrer"},t("holdToRevealContent5"))]))):react.createElement(box.ZP,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,gap:4,marginBottom:6},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd},t("holdToRevealContentPrivateKey1",[react.createElement(component_library.xv,{key:"hold-to-reveal-2",variant:design_system.rK.bodyMdBold,as:"span"},t("holdToRevealContentPrivateKey2"))])),react.createElement(component_library.xv,{variant:design_system.rK.bodyMdBold},t("holdToRevealContent3",[react.createElement(component_library.xv,{key:"hold-to-reveal-4",variant:design_system.rK.bodyMd,as:"span",display:design_system.sS.Inline},t("holdToRevealContent4")),react.createElement(component_library.zx,{key:"hold-to-reveal-5",variant:component_library.RN.LINK,size:component_library.Gt.INHERIT,href:zendesk_url.Z.NON_CUSTODIAL_WALLET,target:"_blank",rel:"noopener noreferrer"},t("holdToRevealContent5"))]))),react.createElement(hold_to_reveal_button.Z,{buttonText:t(holdToRevealButton),onLongPressed:()=>{onLongPressed(),willHide&&hideModal()},marginLeft:"auto",marginRight:"auto"}))};HoldToRevealModal.propTypes={onLongPressed:prop_types_default().func.isRequired,hideModal:prop_types_default().func,willHide:prop_types_default().bool,holdToRevealType:prop_types_default().oneOf(["SRP","PrivateKey"]).isRequired},HoldToRevealModal.__docgenInfo={description:"",methods:[],displayName:"HoldToRevealModal",props:{willHide:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},holdToRevealType:{defaultValue:{value:"'SRP'",computed:!1},description:"",type:{name:"enum",value:[{value:"'SRP'",computed:!1},{value:"'PrivateKey'",computed:!1}]},required:!1},onLongPressed:{description:"",type:{name:"func"},required:!0},hideModal:{description:"",type:{name:"func"},required:!1}}};const hold_to_reveal_modal=(0,with_modal_props.Z)(HoldToRevealModal)},"./ui/components/ui/identicon/blockieIdenticon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/blockieIdenticon.component.js")},"./ui/components/ui/identicon/identicon.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Identicon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),_jazzicon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/jazzicon/index.js"),_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/util.js"),_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const getStyles=diameter=>({height:diameter,width:diameter,borderRadius:diameter/2});class Identicon extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),_defineProperty(this,"state",{imageLoadingError:!1})}renderImage(){const{className,diameter,alt,imageBorder,ipfsGateway}=this.props;let{image}=this.props;return Array.isArray(image)&&image.length&&(image=image[0]),"string"==typeof image&&image.toLowerCase().startsWith("ipfs://")&&(image=(0,_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__.MP)(image,ipfsGateway)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className,{"identicon__image-border":imageBorder}),src:image,style:getStyles(diameter),alt,onError:()=>{this.setState({imageLoadingError:!0})}})}renderJazzicon(){const{address,className,diameter,alt,tokenList}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jazzicon__WEBPACK_IMPORTED_MODULE_3__.Z,{address,diameter,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter),alt,tokenList})}renderBlockie(){const{address,className,diameter,alt}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__.Z,{address,diameter,alt}))}renderBlockieOrJazzIcon(){const{useBlockie}=this.props;return useBlockie?this.renderBlockie():this.renderJazzicon()}shouldComponentUpdate(nextProps,nextState){return!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextProps,this.props)||!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextState,this.state)}render(){const{address,image,addBorder,diameter,tokenList}=this.props,{imageLoadingError}=this.state,size=diameter+8;return imageLoadingError?this.renderBlockieOrJazzIcon():image?this.renderImage():address?null!==(_tokenList$address$to=tokenList[address.toLowerCase()])&&void 0!==_tokenList$address$to&&_tokenList$address$to.iconUrl?this.renderJazzicon():react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"identicon__address-wrapper":addBorder}),style:addBorder?getStyles(size):null},this.renderBlockieOrJazzIcon()):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:getStyles(diameter),className:"identicon__image-border"});var _tokenList$address$to}}_defineProperty(Identicon,"propTypes",{addBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,address:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,diameter:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,image:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,prop_types__WEBPACK_IMPORTED_MODULE_6___default().array]),useBlockie:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,alt:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,imageBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,tokenList:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,ipfsGateway:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string}),_defineProperty(Identicon,"defaultProps",{addBorder:!1,address:void 0,className:void 0,diameter:46,image:void 0,useBlockie:!1,alt:"",tokenList:{}}),Identicon.__docgenInfo={description:"",methods:[{name:"renderImage",docblock:null,modifiers:[],params:[],returns:null},{name:"renderJazzicon",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockie",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockieOrJazzIcon",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Identicon",props:{addBorder:{defaultValue:{value:"false",computed:!1},description:"Adds blue border around the Identicon used for selected account.\nIncreases the width and height of the Identicon by 8px",type:{name:"bool"},required:!1},address:{defaultValue:{value:"undefined",computed:!0},description:"Address used for generating random image",type:{name:"string"},required:!1},className:{defaultValue:{value:"undefined",computed:!0},description:"Add custom css class",type:{name:"string"},required:!1},diameter:{defaultValue:{value:"46",computed:!1},description:"Sets the width and height of the inner img element\nIf addBorder is true will increase components height and width by 8px",type:{name:"number"},required:!1},image:{defaultValue:{value:"undefined",computed:!0},description:"Used as the image source of the Identicon",type:{name:"union",value:[{name:"string"},{name:"array"}]},required:!1},useBlockie:{defaultValue:{value:"false",computed:!1},description:"Use the blockie type random image generator",type:{name:"bool"},required:!1},alt:{defaultValue:{value:"''",computed:!1},description:"The alt text of the image",type:{name:"string"},required:!1},tokenList:{defaultValue:{value:"{}",computed:!1},description:"Add list of token in object",type:{name:"object"},required:!1},imageBorder:{description:"Check if show image border",type:{name:"bool"},required:!1},ipfsGateway:{description:"User preferred IPFS gateway",type:{name:"string"},required:!1}}}},"./ui/components/ui/identicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>identicon_container});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),identicon_component=__webpack_require__("./ui/components/ui/identicon/identicon.component.js");const identicon_container=(0,es.$j)((state=>{const{metamask:{useBlockie,ipfsGateway}}=state;return{useBlockie,tokenList:(0,selectors.HJ)(state),ipfsGateway}}))(identicon_component.Z)},"./ui/components/ui/jazzicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_jazzicon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _jazzicon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/jazzicon/jazzicon.component.js")},"./ui/helpers/higher-order-components/with-modal-props/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>withModalProps});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),actions=__webpack_require__("./ui/store/actions.ts");const mapStateToProps=state=>{const{appState}=state,{props:modalProps}=appState.modal.modalState;return{...modalProps}},mapDispatchToProps=dispatch=>({hideModal:()=>dispatch((0,actions.VGc)())});function withModalProps(Component){return(0,es.$j)(mapStateToProps,mapDispatchToProps)(Component)}}}]);