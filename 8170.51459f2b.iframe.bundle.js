"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[8170],{"./ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>confirm_page_container_summary_component});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),dist=__webpack_require__("./node_modules/@metamask/transaction-controller/dist/index.js"),hexstring_utils=__webpack_require__("./shared/modules/hexstring-utils.ts"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),selectors=__webpack_require__("./ui/selectors/index.js"),util=__webpack_require__("./ui/helpers/utils/util.js");const hooks_useAddressDetails=toAddress=>{var _identities$toAddress,_tokenList$toAddress$;const addressBook=(0,es.v9)(selectors.vZs),identities=(0,es.v9)(selectors.OxS),tokenList=(0,es.v9)(selectors.HJ),checksummedAddress=(0,hexstring_utils.QG)(toAddress);if(!toAddress)return{};const addressBookEntryObject=addressBook.find((entry=>entry.address===checksummedAddress));return null!=addressBookEntryObject&&addressBookEntryObject.name?{toName:addressBookEntryObject.name,isTrusted:!0}:null!==(_identities$toAddress=identities[toAddress])&&void 0!==_identities$toAddress&&_identities$toAddress.name?{toName:identities[toAddress].name,isTrusted:!0}:null!==(_tokenList$toAddress$=tokenList[null==toAddress?void 0:toAddress.toLowerCase()])&&void 0!==_tokenList$toAddress$&&_tokenList$toAddress$.name?{toName:tokenList[null==toAddress?void 0:toAddress.toLowerCase()].name,isTrusted:!0}:{toName:(0,util.$Q)(checksummedAddress),isTrusted:!1}};var identicon=__webpack_require__("./ui/components/ui/identicon/index.js"),info_tooltip=__webpack_require__("./ui/components/ui/info-tooltip/index.js"),nickname_popovers=__webpack_require__("./ui/components/app/modals/nickname-popovers/index.js"),app=__webpack_require__("./shared/constants/app.ts"),site_origin=__webpack_require__("./ui/components/ui/site-origin/index.js");const ConfirmPageContainerSummary=props=>{const{action,titleComponent,subtitleComponent,className,tokenAddress,nonce,origin,image,transactionType}=props,[showNicknamePopovers,setShowNicknamePopovers]=(0,react.useState)(!1),t=(0,useI18nContext.C)(),ipfsGateway=(0,es.v9)(selectors.HW1),txData=(0,es.v9)(selectors.MN9),{txParams={}}=txData,{to:txParamsToAddress}=txParams,isContractTypeTransaction=[dist.TransactionType.contractInteraction,dist.TransactionType.tokenMethodTransfer,dist.TransactionType.tokenMethodTransferFrom,dist.TransactionType.tokenMethodSafeTransferFrom].includes(transactionType);let contractAddress;isContractTypeTransaction&&(contractAddress=transactionType===dist.TransactionType.tokenMethodTransfer||transactionType===dist.TransactionType.tokenMethodTransferFrom||transactionType===dist.TransactionType.tokenMethodSafeTransferFrom||transactionType===dist.TransactionType.tokenMethodSetApprovalForAll?tokenAddress:txParamsToAddress);const{toName,isTrusted}=hooks_useAddressDetails(contractAddress),checksummedAddress=(0,hexstring_utils.QG)(contractAddress);return react.createElement("div",{className:classnames_default()("confirm-page-container-summary",className)},origin===app.jr?null:react.createElement(site_origin.Z,{className:"confirm-page-container-summary__origin",siteOrigin:origin}),react.createElement("div",{className:"confirm-page-container-summary__action-row"},react.createElement("div",{className:"confirm-page-container-summary__action"},isContractTypeTransaction&&toName&&react.createElement("span",{className:"confirm-page-container-summary__action__contract-address"},react.createElement("button",{className:"confirm-page-container-summary__action__contract-address-btn",onClick:()=>setShowNicknamePopovers(!0),role:"button"},toName),":"),react.createElement("span",{className:"confirm-page-container-summary__action__name"},action),isContractTypeTransaction&&!1===isTrusted&&react.createElement(info_tooltip.Z,{position:"top",contentText:t("unverifiedContractAddressMessage")})),nonce&&react.createElement("div",{className:"confirm-page-container-summary__nonce"},`#${nonce}`)),react.createElement(react.Fragment,null,react.createElement("div",{className:"confirm-page-container-summary__title"},(()=>{const imagePath=(0,util.MP)(image,ipfsGateway);return image?react.createElement("img",{className:"confirm-page-container-summary__icon",width:36,src:imagePath}):contractAddress?react.createElement(identicon.Z,{className:"confirm-page-container-summary__icon",diameter:36,address:contractAddress}):null})(),titleComponent),subtitleComponent),showNicknamePopovers&&react.createElement(nickname_popovers.Z,{onClose:()=>setShowNicknamePopovers(!1),address:checksummedAddress}))};ConfirmPageContainerSummary.propTypes={action:prop_types_default().string,image:prop_types_default().string,titleComponent:prop_types_default().node,subtitleComponent:prop_types_default().node,className:prop_types_default().string,tokenAddress:prop_types_default().string,nonce:prop_types_default().string,origin:prop_types_default().string.isRequired,transactionType:prop_types_default().string},ConfirmPageContainerSummary.__docgenInfo={description:"",methods:[],displayName:"ConfirmPageContainerSummary",props:{action:{description:"",type:{name:"string"},required:!1},image:{description:"",type:{name:"string"},required:!1},titleComponent:{description:"",type:{name:"node"},required:!1},subtitleComponent:{description:"",type:{name:"node"},required:!1},className:{description:"",type:{name:"string"},required:!1},tokenAddress:{description:"",type:{name:"string"},required:!1},nonce:{description:"",type:{name:"string"},required:!1},origin:{description:"",type:{name:"string"},required:!0},transactionType:{description:"",type:{name:"string"},required:!1}}};const confirm_page_container_summary_component=ConfirmPageContainerSummary},"./ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>confirm_page_container_warning_component});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");const ConfirmPageContainerWarning=props=>react.createElement("div",{className:"confirm-page-container-warning"},react.createElement(component_library.JO,{name:component_library.uH.Info,color:design_system.EY.warningDefault,className:"confirm-page-container-warning__icon"}),react.createElement("div",{className:"confirm-page-container-warning__warning"},props.warning));ConfirmPageContainerWarning.propTypes={warning:prop_types_default().string},ConfirmPageContainerWarning.__docgenInfo={description:"@deprecated The `<ConfirmPageContainerWarning />` component has been deprecated in favor of the new `<BannerAlert>` component from the component-library.\nPlease update your code to use the new `<BannerAlert>` component instead, which can be found at ui/components/component-library/banner-alert/banner-alert.js.\nYou can find documentation for the new `BannerAlert` component in the MetaMask Storybook:\n{@link https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-banneralert--docs}\nIf you would like to help with the replacement of the old `ConfirmPageContainerWarning` component, please submit a pull request against this GitHub issue:\n{@link https://github.com/MetaMask/metamask-extension/issues/20466}",methods:[],displayName:"ConfirmPageContainerWarning",props:{warning:{description:"",type:{name:"string"},required:!1}}};const confirm_page_container_warning_component=ConfirmPageContainerWarning},"./ui/components/app/confirm-page-container/confirm-page-container-content/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AX:()=>confirm_page_container_summary.Z,Gs:()=>confirm_page_container_warning.Z,ZP:()=>ConfirmPageContainerContent});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),tabs=__webpack_require__("./ui/components/ui/tabs/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),page_container=__webpack_require__("./ui/components/ui/page-container/index.js"),error_keys=__webpack_require__("./ui/helpers/constants/error-keys.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class ConfirmPageContainerContent extends react.Component{renderContent(){const{detailsComponent,dataHexComponent,insightComponent}=this.props;if(insightComponent&&(detailsComponent||dataHexComponent))return this.renderTabs();const{noteComponent}=this.props;return noteComponent||detailsComponent&&dataHexComponent?this.renderTabs():detailsComponent||insightComponent}renderTabs(){const{t}=this.context,{detailsComponent,dataHexComponent,insightComponent,noteComponent}=this.props;return react.createElement(tabs.m,{defaultActiveTabKey:"details"},react.createElement(tabs.O,{className:"confirm-page-container-content__tab",name:t("details"),tabKey:"details"},detailsComponent),noteComponent&&react.createElement(tabs.O,{"data-testid":"note-tab",className:"confirm-page-container-content__tab",name:t("note"),tabKey:"note",onClick:()=>{this.context.trackEvent({category:"Note to trader",event:"Clicked on Notes tab on a transaction window"})}},noteComponent),dataHexComponent&&react.createElement(tabs.O,{className:"confirm-page-container-content__tab",name:t("dataHex"),tabKey:"dataHex"},dataHexComponent),insightComponent)}render(){const{action,errorKey,errorMessage,image,titleComponent,subtitleComponent,tokenAddress,nonce,detailsComponent,warning,onCancelAll,onCancel,cancelText,onSubmit,submitText,disabled,unapprovedTxCount,rejectNText,origin,ethGasPriceWarning,supportsEIP1559,hasTopBorder,nativeCurrency,networkName,toAddress,transactionType,isBuyableChain,openBuyCryptoInPdapp}=this.props,{t}=this.context,showInsuffienctFundsError=(errorKey||errorMessage)&&errorKey===error_keys.Xr;return react.createElement("div",{className:classnames_default()("confirm-page-container-content",{"confirm-page-container-content--with-top-border":hasTopBorder})},warning?react.createElement(confirm_page_container_warning.Z,{warning}):null,ethGasPriceWarning&&react.createElement(confirm_page_container_warning.Z,{warning:ethGasPriceWarning}),react.createElement(confirm_page_container_summary.Z,{className:classnames_default()({"confirm-page-container-summary--border":!detailsComponent}),action,image,titleComponent,subtitleComponent,tokenAddress,nonce,origin,toAddress,transactionType}),this.renderContent(),!supportsEIP1559&&!showInsuffienctFundsError&&(errorKey||errorMessage)&&react.createElement(component_library.wB,{severity:design_system.zb.Danger,description:errorKey?t(errorKey):errorMessage,marginBottom:4,marginLeft:4,marginRight:4}),showInsuffienctFundsError&&react.createElement(component_library.wB,{severity:design_system.zb.Danger,marginBottom:4,marginLeft:4,marginRight:4,description:isBuyableChain?t("insufficientCurrencyBuyOrDeposit",[nativeCurrency,networkName,react.createElement(component_library.zx,{variant:component_library.RN.LINK,size:component_library.Gt.INHERIT,onClick:openBuyCryptoInPdapp,key:`${nativeCurrency}-buy-button`},t("buyAsset",[nativeCurrency]))]):t("insufficientCurrencyDeposit",[nativeCurrency,networkName])}),react.createElement(page_container.g$,{onCancel,cancelText,onSubmit,submitText,disabled},unapprovedTxCount>1?react.createElement("a",{onClick:onCancelAll},rejectNText):null))}}_defineProperty(ConfirmPageContainerContent,"contextTypes",{t:prop_types_default().func.isRequired,trackEvent:prop_types_default().func}),_defineProperty(ConfirmPageContainerContent,"propTypes",{action:prop_types_default().string,dataHexComponent:prop_types_default().node,detailsComponent:prop_types_default().node,insightComponent:prop_types_default().node,errorKey:prop_types_default().string,errorMessage:prop_types_default().string,tokenAddress:prop_types_default().string,nonce:prop_types_default().string,subtitleComponent:prop_types_default().node,image:prop_types_default().string,titleComponent:prop_types_default().node,warning:prop_types_default().string,origin:prop_types_default().string.isRequired,ethGasPriceWarning:prop_types_default().string,onCancelAll:prop_types_default().func,onCancel:prop_types_default().func,cancelText:prop_types_default().string,onSubmit:prop_types_default().func,submitText:prop_types_default().string,disabled:prop_types_default().bool,unapprovedTxCount:prop_types_default().number,rejectNText:prop_types_default().string,supportsEIP1559:prop_types_default().bool,hasTopBorder:prop_types_default().bool,nativeCurrency:prop_types_default().string,networkName:prop_types_default().string,toAddress:prop_types_default().string,transactionType:prop_types_default().string,isBuyableChain:prop_types_default().bool,openBuyCryptoInPdapp:prop_types_default().func,noteComponent:prop_types_default().node}),ConfirmPageContainerContent.__docgenInfo={description:"",methods:[{name:"renderContent",docblock:null,modifiers:[],params:[],returns:null},{name:"renderTabs",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ConfirmPageContainerContent",props:{action:{description:"",type:{name:"string"},required:!1},dataHexComponent:{description:"",type:{name:"node"},required:!1},detailsComponent:{description:"",type:{name:"node"},required:!1},insightComponent:{description:"",type:{name:"node"},required:!1},errorKey:{description:"",type:{name:"string"},required:!1},errorMessage:{description:"",type:{name:"string"},required:!1},tokenAddress:{description:"",type:{name:"string"},required:!1},nonce:{description:"",type:{name:"string"},required:!1},subtitleComponent:{description:"",type:{name:"node"},required:!1},image:{description:"",type:{name:"string"},required:!1},titleComponent:{description:"",type:{name:"node"},required:!1},warning:{description:"",type:{name:"string"},required:!1},origin:{description:"",type:{name:"string"},required:!0},ethGasPriceWarning:{description:"",type:{name:"string"},required:!1},onCancelAll:{description:"",type:{name:"func"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1},submitText:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},unapprovedTxCount:{description:"",type:{name:"number"},required:!1},rejectNText:{description:"",type:{name:"string"},required:!1},supportsEIP1559:{description:"",type:{name:"bool"},required:!1},hasTopBorder:{description:"",type:{name:"bool"},required:!1},nativeCurrency:{description:"",type:{name:"string"},required:!1},networkName:{description:"",type:{name:"string"},required:!1},toAddress:{description:"",type:{name:"string"},required:!1},transactionType:{description:"",type:{name:"string"},required:!1},isBuyableChain:{description:"",type:{name:"bool"},required:!1},openBuyCryptoInPdapp:{description:"",type:{name:"func"},required:!1},noteComponent:{description:"",type:{name:"node"},required:!1}},context:{t:{type:{name:"func"},required:!0},trackEvent:{type:{name:"func"},required:!1}}};var confirm_page_container_summary=__webpack_require__("./ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/index.js"),confirm_page_container_warning=__webpack_require__("./ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/index.js")}}]);