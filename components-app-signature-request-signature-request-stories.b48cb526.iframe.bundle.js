/*! For license information please see components-app-signature-request-signature-request-stories.b48cb526.iframe.bundle.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[3757],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./ui/components/app/signature-request/signature-request.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AccountMismatchStory:()=>AccountMismatchStory,DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>signature_request_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),store=__webpack_require__("./ui/store/store.ts"),test_data=__webpack_require__("./.storybook/test-data.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),lib=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-docs/dist/index.mjs"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),eth_rpc_errors_dist=__webpack_require__("./node_modules/eth-rpc-errors/dist/index.js"),extension_dist=__webpack_require__("./node_modules/@metamask-institutional/extension/dist/index.js"),actions=__webpack_require__("./ui/store/actions.ts"),selectors=__webpack_require__("./ui/selectors/index.js"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),confirm_transaction_duck=__webpack_require__("./ui/ducks/confirm-transaction/confirm-transaction.duck.js"),history_history=__webpack_require__("./ui/ducks/history/history.js");var confirm_page_container=__webpack_require__("./ui/components/app/confirm-page-container/index.js"),signature_request_header=__webpack_require__("./ui/components/app/signature-request-header/signature-request-header.js"),security_provider_banner_message=__webpack_require__("./ui/components/app/security-provider-banner-message/security-provider-banner-message.js"),ledger_instruction_field=__webpack_require__("./ui/components/app/ledger-instruction-field/index.js"),contract_details_modal=__webpack_require__("./ui/components/app/modals/contract-details-modal/contract-details-modal.js"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts"),security_provider=__webpack_require__("./shared/constants/security-provider.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),app=__webpack_require__("./shared/constants/app.ts"),lib_util=__webpack_require__("./app/scripts/lib/util.ts"),institution_background=__webpack_require__("./ui/store/institutional/institution-background.ts"),institution_actions=__webpack_require__("./ui/store/institutional/institution-actions.ts");var blockaid_banner_alert=__webpack_require__("./ui/components/app/security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert.js"),signature_request_message=__webpack_require__("./ui/components/app/signature-request/signature-request-message/signature-request-message.js"),page_container=__webpack_require__("./ui/components/ui/page-container/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SignatureRequestFooter extends react.PureComponent{render(){const{cancelAction,signAction,disabled=!1}=this.props;return react.createElement(page_container.g$,{cancelText:this.context.t("reject"),submitText:this.context.t("sign"),onCancel:cancelAction,onSubmit:signAction,disabled})}}_defineProperty(SignatureRequestFooter,"propTypes",{cancelAction:prop_types_default().func.isRequired,signAction:prop_types_default().func.isRequired,disabled:prop_types_default().bool}),_defineProperty(SignatureRequestFooter,"contextTypes",{t:prop_types_default().func}),SignatureRequestFooter.__docgenInfo={description:"",methods:[],displayName:"SignatureRequestFooter",props:{cancelAction:{description:"",type:{name:"func"},required:!0},signAction:{description:"",type:{name:"func"},required:!0},disabled:{description:"",type:{name:"bool"},required:!1}},context:{t:{type:{name:"func"},required:!1}}};const SignatureRequest=({txData})=>{var _txData$securityProvi,_txData$securityProvi2;const trackEvent=(0,react.useContext)(metametrics.Wd),dispatch=(0,es.I0)(),t=(0,useI18nContext.C)(),[hasScrolledMessage,setHasScrolledMessage]=(0,react.useState)(!1),[showContractDetails,setShowContractDetails]=(0,react.useState)(!1),[messageRootRef,setMessageRootRef]=(0,react.useState)(null),[messageIsScrollable,setMessageIsScrollable]=(0,react.useState)(!1),{id,type,msgParams:{from,data,origin,version}}=txData,hardwareWalletRequiresConnection=(0,es.v9)((state=>(0,selectors.DnU)(state,from))),{chainId,rpcPrefs}=(0,es.v9)(metamask.Vu),unapprovedMessagesCount=(0,es.v9)(selectors.eWO),subjectMetadata=(0,es.v9)(selectors.YRT),isLedgerWallet=(0,es.v9)((state=>(0,metamask.Dc)(state,from))),{handleCancelAll}=function useRejectTransactionModal(){const dispatch=(0,es.I0)(),history=(0,react_router.k6)(),mostRecentOverviewPage=(0,es.v9)(history_history.H7),unapprovedMessagesCount=(0,es.v9)(selectors.eWO),unconfirmedMessagesList=(0,es.v9)(selectors.Mkt);return{handleCancelAll:()=>{dispatch((0,actions.K4b)({name:"REJECT_TRANSACTIONS",onSubmit:async()=>{await dispatch((0,actions.tEJ)((0,util.gs)(unconfirmedMessagesList))),dispatch((0,confirm_transaction_duck.vi)()),history.push(mostRecentOverviewPage)},unapprovedTxCount:unapprovedMessagesCount,isRequestType:!0}))}}}(),selectedAccount=(0,es.v9)(selectors.uWD),mmiActions=(0,institution_background.I6)(),accountType=(0,es.v9)(selectors.lxc),isNotification=(0,lib_util.kD)()===app.vH,allAccounts=(0,es.v9)(selectors.QT,es.wU),{address}=(0,util.t)(allAccounts,from)||{},{custodySignFn}=function useMMICustodySignMessage(){const dispatch=(0,es.I0)(),mmiActions=(0,institution_background.I6)(),envType=(0,lib_util.kD)(),accountType=(0,es.v9)(selectors.lxc),isNotification=envType===app.vH,allAccounts=(0,es.v9)(selectors.QT,es.wU);return{custodySignFn:async _msgData=>{const{msgParams:{from}}=_msgData,fromAccount=(0,util.t)(allAccounts,from);if("custody"===accountType)try{await dispatch((0,actions.a__)(_msgData.id)),(0,actions.Ab9)(_msgData.id),(0,extension_dist.kC)({dispatch,mmiActions,txId:void 0,custodyId:null,fromAddress:fromAccount.address,isSignature:!0,closeNotification:isNotification,onDeepLinkFetched:()=>{},onDeepLinkShown:()=>{},showCustodyConfirmLink:institution_actions.TV}),await dispatch(mmiActions.setWaitForConfirmDeepLinkDialog(!0))}catch(err){await dispatch(mmiActions.setWaitForConfirmDeepLinkDialog(!0)),await dispatch((0,actions.K4b)({name:"TRANSACTION_FAILED",errorMessage:err.message,closeNotification:!0,operationFailed:!0}))}else await dispatch((0,actions.a__)(_msgData.id)),(0,actions.Ab9)(_msgData.id)}}}();(0,react.useEffect)((()=>{setMessageIsScrollable((null==messageRootRef?void 0:messageRootRef.scrollHeight)>(null==messageRootRef?void 0:messageRootRef.clientHeight))}),[messageRootRef]);const targetSubjectMetadata=(null==subjectMetadata?void 0:subjectMetadata[origin])||null,parseMessage=(0,lodash.memoize)((dataToParse=>{const{message,domain={},primaryType,types}=JSON.parse(dataToParse);return{sanitizedMessage:(0,util.Z$)(message,primaryType,types),domain,primaryType}})),onClickSupportLink=(0,react.useCallback)((()=>{trackEvent({category:constants_metametrics.ci.Transactions,event:constants_metametrics.AW.ExternalLinkClicked,properties:{action:"Sign Request",type,version,external_link_clicked:"security_alert_support_link"}})}),[]),{sanitizedMessage,domain:{verifyingContract},primaryType}=parseMessage(data);return(0,react.useEffect)((()=>{txData.custodyId&&(0,extension_dist.kC)({dispatch,mmiActions,txId:void 0,custodyId:txData.custodyId,fromAddress:address,isSignature:!0,closeNotification:isNotification,onDeepLinkFetched:()=>{},onDeepLinkShown:()=>{trackEvent({category:constants_metametrics.ci.MMI,event:constants_metametrics.AW.SignatureDeeplinkDisplayed})},showCustodyConfirmLink:institution_actions.TV})}),[dispatch,mmiActions,txData.custodyId,address,isNotification,trackEvent]),react.createElement("div",{className:"signature-request"},react.createElement(confirm_page_container.oN,null),react.createElement("div",{className:"request-signature__account","data-testid":"request-signature-account"},react.createElement(signature_request_header.Z,{txData})),react.createElement("div",{className:"signature-request-content"},react.createElement(blockaid_banner_alert.Z,{txData,marginLeft:4,marginRight:4,marginBottom:4,onClickSupportLink}),void 0!==(null==txData||null===(_txData$securityProvi=txData.securityProviderResponse)||void 0===_txData$securityProvi?void 0:_txData$securityProvi.flagAsDangerous)&&(null==txData||null===(_txData$securityProvi2=txData.securityProviderResponse)||void 0===_txData$securityProvi2?void 0:_txData$securityProvi2.flagAsDangerous)!==security_provider.C_.NOT_MALICIOUS||null!=txData&&txData.securityProviderResponse&&0===Object.keys(txData.securityProviderResponse).length?react.createElement(security_provider_banner_message.Z,{securityProviderResponse:txData.securityProviderResponse}):null,selectedAccount.address===address?null:react.createElement(component_library.xu,{className:"request-signature__mismatch-info",display:design_system.sS.Flex,width:design_system.Sw.Full,padding:4,marginBottom:4,backgroundColor:design_system.lP.primaryMuted},react.createElement(component_library.JO,{name:component_library.uH.Info,color:design_system.EY.infoDefault,marginRight:2}),react.createElement(component_library.xv,{variant:design_system.rK.bodyXs,color:design_system.d9.textDefault,as:"h6"},t("mismatchAccount",[(0,util.$Q)(selectedAccount.address),(0,util.$Q)(address)]))),react.createElement("div",{className:"signature-request__origin"},react.createElement(component_library.cM,{label:origin,labelProps:{color:design_system.d9.textAlternative},src:null==targetSubjectMetadata?void 0:targetSubjectMetadata.iconUrl})),react.createElement(component_library.xv,{className:"signature-request__content__title",variant:design_system.rK.headingLg,marginTop:4},t("sigRequest")),react.createElement(component_library.xv,{className:"request-signature__content__subtitle",variant:design_system.rK.bodySm,color:design_system.d9.textAlternative,textAlign:design_system.PH.Center,marginLeft:12,marginRight:12,marginTop:4,as:"h6"},t("signatureRequestGuidance")),verifyingContract?react.createElement("div",null,react.createElement(component_library.zx,{variant:component_library.Wu.Link,onClick:()=>setShowContractDetails(!0),className:"signature-request-content__verify-contract-details","data-testid":"verify-contract-details"},react.createElement(component_library.xv,{variant:design_system.rK.bodySm,color:design_system.d9.primaryDefault,as:"h6"},t("verifyContractDetails")))):null),isLedgerWallet?react.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},react.createElement(ledger_instruction_field.Z,{showDataInstruction:!0})):null,react.createElement(signature_request_message.Z,{data:sanitizedMessage,onMessageScrolled:()=>setHasScrolledMessage(!0),setMessageRootRef,messageRootRef,messageIsScrollable,primaryType}),react.createElement(SignatureRequestFooter,{cancelAction:async()=>{await dispatch((0,actions.YCK)(id,(0,eth_rpc_errors_dist.Xy)(eth_rpc_errors_dist.Sy.provider.userRejectedRequest()))),trackEvent({category:constants_metametrics.ci.Transactions,event:"Cancel",properties:{action:"Sign Request",legacy_event:!0,type,version}})},signAction:async()=>{"custody"===accountType&&await custodySignFn(txData),await dispatch((0,actions.a__)(id)),(0,actions.Ab9)(id),trackEvent({category:constants_metametrics.ci.Transactions,event:"Confirm",properties:{action:"Sign Request",legacy_event:!0,type,version}})},disabled:Boolean(null==txData?void 0:txData.custodyId)||hardwareWalletRequiresConnection||messageIsScrollable&&!hasScrolledMessage}),showContractDetails&&react.createElement(contract_details_modal.Z,{toAddress:verifyingContract,chainId,rpcPrefs,onClose:()=>setShowContractDetails(!1),isContractRequestingSignature:!0}),unapprovedMessagesCount>1?react.createElement(component_library.ZP,{size:design_system.$u.inherit,className:"signature-request__reject-all-button","data-testid":"signature-request-reject-all",onClick:handleCancelAll},t("rejectRequestsN",[unapprovedMessagesCount])):null)};SignatureRequest.propTypes={txData:prop_types_default().object},SignatureRequest.__docgenInfo={description:"",methods:[],displayName:"SignatureRequest",props:{txData:{description:"",type:{name:"object"},required:!1}}};const signature_request=SignatureRequest;function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",h2:"h2"},(0,lib.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{id:"signature-request",children:"Signature Request"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"dApp requesting a signature from the user."}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{id:"components-app-signaturerequest--default-story"})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"props",children:"Props"}),"\n",(0,jsx_runtime.jsx)(dist.$4,{of:signature_request})]})}const README=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,lib.ah)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)};var _DefaultStory$paramet,_DefaultStory$paramet2,_AccountMismatchStory,_AccountMismatchStory2;const signature_request_stories_store=(0,store.Z)({...test_data.default,metamask:{...test_data.default.metamask,selectedAddress:"0xb19ac54efa18cc3a14a5b821bfec73d284bf0c5e"}}),signature_request_stories={title:"Components/App/SignatureRequest",decorators:[story=>react.createElement(es.zt,{store:signature_request_stories_store},story())],component:signature_request,parameters:{docs:{page:README}},argTypes:{txData:{control:"object"}}},DefaultStory=args=>react.createElement(signature_request,args);DefaultStory.storyName="Default",DefaultStory.args={txData:{msgParams:{from:"0xb19ac54efa18cc3a14a5b821bfec73d284bf0c5e",data:JSON.stringify({domain:{name:"happydapp.website"},message:{string:"haay wuurl",number:42},primaryType:"Mail",types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Group:[{name:"name",type:"string"},{name:"members",type:"Person[]"}],Mail:[{name:"from",type:"Person"},{name:"to",type:"Person[]"},{name:"contents",type:"string"}],Person:[{name:"name",type:"string"},{name:"wallets",type:"address[]"}]}}),origin:"https://happydapp.website/"}}};const AccountMismatchStory=args=>react.createElement(signature_request,args);AccountMismatchStory.storyName="AccountMismatch",AccountMismatchStory.args={...DefaultStory.args,txData:{msgParams:{...DefaultStory.args.txData.msgParams,from:"0x64a845a5b02460acf8a3d84503b0d68d028b4bb4"}}},DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => {\n  return <SignatureRequest {...args} />;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}},AccountMismatchStory.parameters={...AccountMismatchStory.parameters,docs:{...null===(_AccountMismatchStory=AccountMismatchStory.parameters)||void 0===_AccountMismatchStory?void 0:_AccountMismatchStory.docs,source:{originalSource:"args => {\n  return <SignatureRequest {...args} />;\n}",...null===(_AccountMismatchStory2=AccountMismatchStory.parameters)||void 0===_AccountMismatchStory2||null===(_AccountMismatchStory2=_AccountMismatchStory2.docs)||void 0===_AccountMismatchStory2?void 0:_AccountMismatchStory2.source}}};const __namedExportsOrder=["DefaultStory","AccountMismatchStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"},AccountMismatchStory.__docgenInfo={description:"",methods:[],displayName:"AccountMismatchStory"}},"./ui/components/app/modals/contract-details-modal/contract-details-modal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ContractDetailsModal});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),dist=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),name_controller_dist=__webpack_require__("./node_modules/@metamask/name-controller/dist/index.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),button_component=__webpack_require__("./ui/components/ui/button/button.component.js"),tooltip=__webpack_require__("./ui/components/ui/tooltip/tooltip.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),identicon=__webpack_require__("./ui/components/ui/identicon/index.js"),send_utils=__webpack_require__("./ui/pages/send/send.utils.js"),popover=__webpack_require__("./ui/components/ui/popover/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),useCopyToClipboard=__webpack_require__("./ui/hooks/useCopyToClipboard.js"),selectors=__webpack_require__("./ui/selectors/index.js"),transaction=__webpack_require__("./shared/constants/transaction.ts"),useNftsCollections=__webpack_require__("./ui/hooks/useNftsCollections.js");function NftCollectionImage({assetName,tokenAddress}){var _tokenList$tokenAddre;const{collections}=(0,useNftsCollections.H)(),nftTokenListImage=null===(_tokenList$tokenAddre=(0,es.v9)(selectors.HJ)[tokenAddress.toLowerCase()])||void 0===_tokenList$tokenAddre?void 0:_tokenList$tokenAddre.iconUrl;return react.createElement(box.ZP,null,(()=>{var _assetName$;const collection=Object.values(collections).find((({collectionName})=>collectionName===assetName));return null!=collection&&collection.collectionImage||nftTokenListImage?react.createElement(identicon.Z,{diameter:24,image:(null==collection?void 0:collection.collectionImage)||nftTokenListImage}):react.createElement(box.ZP,{color:design_system.Il.overlayInverse,textAlign:design_system.PH.Center,className:"collection-image-alt"},(null==assetName||null===(_assetName$=assetName[0])||void 0===_assetName$?void 0:_assetName$.toUpperCase())??null)})())}NftCollectionImage.propTypes={assetName:prop_types_default().string,tokenAddress:prop_types_default().string},NftCollectionImage.__docgenInfo={description:"",methods:[],displayName:"NftCollectionImage",props:{assetName:{description:"",type:{name:"string"},required:!1},tokenAddress:{description:"",type:{name:"string"},required:!1}}};var component_library=__webpack_require__("./ui/components/component-library/index.ts"),name_name=__webpack_require__("./ui/components/app/name/name.tsx"),usePetnamesEnabled=__webpack_require__("./ui/hooks/usePetnamesEnabled.ts");function ContractDetailsModal({onClose,tokenName,tokenAddress,toAddress,chainId,rpcPrefs,tokenId,assetName,assetStandard,isContractRequestingSignature}){var _addressBookEntry$dat,_addressBookEntry$dat2;const t=(0,useI18nContext.C)(),[copiedTokenAddress,handleCopyTokenAddress]=(0,useCopyToClipboard.m)(),[copiedToAddress,handleCopyToAddress]=(0,useCopyToClipboard.m)(),petnamesEnabled=(0,usePetnamesEnabled.A)(),addressBookEntry=(0,es.v9)((state=>({data:(0,selectors.e5t)(state,toAddress)}))),nft=assetStandard===transaction.Yn.ERC721||assetStandard===transaction.Yn.ERC1155||assetName&&tokenId||tokenName&&tokenId;return react.createElement(popover.Z,{className:"contract-details-modal"},react.createElement(box.ZP,{paddingTop:6,paddingRight:4,paddingBottom:8,paddingLeft:4,className:"contract-details-modal__content"},react.createElement(component_library.xv,{fontWeight:design_system.U9.Bold,variant:design_system.rK.bodyMd,as:"h5",display:design_system.sS.Flex},t("contractTitle")),react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",display:design_system.sS.Flex,color:design_system.d9.textAlternative,marginTop:2},t("contractDescription")),!isContractRequestingSignature&&react.createElement(react.Fragment,null,react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",display:design_system.sS.Flex,marginTop:4,marginBottom:2},t(nft?"contractNFT":"contractToken")),react.createElement(box.ZP,{display:design_system.sS.Flex,borderRadius:design_system.$u.SM,borderStyle:design_system.N4.solid,borderColor:design_system.kf.borderDefault,className:"contract-details-modal__content__contract"},nft?react.createElement(box.ZP,{margin:4},react.createElement(NftCollectionImage,{assetName,tokenAddress})):react.createElement(identicon.Z,{className:"contract-details-modal__content__contract__identicon",address:tokenAddress,diameter:24}),react.createElement(box.ZP,{"data-testid":"recipient"},react.createElement(component_library.xv,{fontWeight:design_system.U9.Bold,variant:design_system.rK.bodyMd,as:"h5",marginTop:4},tokenName||(0,send_utils.ZB)(tokenAddress)),tokenName&&react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",display:design_system.sS.Flex,color:design_system.d9.textAlternative,marginBottom:4},(0,send_utils.ZB)(tokenAddress))),react.createElement(box.ZP,{alignItems:design_system.g1.center,marginLeft:"auto",marginRight:4,gap:2},react.createElement(tooltip.Z,{position:"top",title:t(copiedTokenAddress?"copiedExclamation":"copyToClipboard")},react.createElement(component_library.Ei,{display:design_system.sS.Flex,iconName:copiedTokenAddress?component_library.uH.CopySuccess:component_library.uH.Copy,onClick:()=>handleCopyTokenAddress(tokenAddress),color:design_system.Il.iconMuted,ariaLabel:t(copiedTokenAddress?"copiedExclamation":"copyToClipboard")})),react.createElement(tooltip.Z,{position:"top",title:t("openInBlockExplorer")},react.createElement(component_library.Ei,{display:design_system.sS.Flex,iconName:component_library.uH.Export,color:design_system.Il.iconMuted,onClick:()=>{const blockExplorerTokenLink=(0,dist.getAccountLink)(tokenAddress,chainId,{blockExplorerUrl:(null==rpcPrefs?void 0:rpcPrefs.blockExplorerUrl)??null},null);__webpack_require__.g.platform.openTab({url:blockExplorerTokenLink})},ariaLabel:t("openInBlockExplorer")}))))),react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",display:design_system.sS.Flex,marginTop:4,marginBottom:2},nft&&t("contractRequestingAccess"),isContractRequestingSignature&&t("contractRequestingSignature"),!nft&&!isContractRequestingSignature&&t("contractRequestingSpendingCap")),react.createElement(box.ZP,{display:design_system.sS.Flex,borderRadius:design_system.$u.SM,borderStyle:design_system.N4.solid,borderColor:design_system.kf.borderDefault,alignItems:design_system.g1.center,className:"contract-details-modal__content__contract"},react.createElement(identicon.Z,{className:"contract-details-modal__content__contract__identicon",diameter:24,address:toAddress}),react.createElement(box.ZP,{"data-testid":"recipient"},petnamesEnabled?react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h5"},react.createElement(name_name.Z,{value:toAddress,type:name_controller_dist.NameType.ETHEREUM_ADDRESS})):react.createElement(component_library.xv,{fontWeight:design_system.U9.Bold,variant:design_system.rK.bodyMd,as:"h5"},(null==addressBookEntry||null===(_addressBookEntry$dat=addressBookEntry.data)||void 0===_addressBookEntry$dat?void 0:_addressBookEntry$dat.name)||(0,send_utils.ZB)(toAddress)),!petnamesEnabled&&(null==addressBookEntry||null===(_addressBookEntry$dat2=addressBookEntry.data)||void 0===_addressBookEntry$dat2?void 0:_addressBookEntry$dat2.name)&&react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",display:design_system.sS.Flex,color:design_system.d9.textAlternative,marginBottom:4},(0,send_utils.ZB)(toAddress))),react.createElement(box.ZP,{alignItems:design_system.g1.center,marginLeft:"auto",marginRight:4,gap:2},react.createElement(tooltip.Z,{position:"top",title:t(copiedToAddress?"copiedExclamation":"copyToClipboard")},react.createElement(component_library.Ei,{display:design_system.sS.Flex,iconName:copiedToAddress?component_library.uH.CopySuccess:component_library.uH.Copy,onClick:()=>handleCopyToAddress(toAddress),color:design_system.Il.iconMuted,ariaLabel:t(copiedTokenAddress?"copiedExclamation":"copyToClipboard")})),react.createElement(tooltip.Z,{position:"top",title:t("openInBlockExplorer")},react.createElement(component_library.Ei,{display:design_system.sS.Flex,iconName:component_library.uH.Export,color:design_system.Il.iconMuted,onClick:()=>{const blockExplorerTokenLink=(0,dist.getAccountLink)(toAddress,chainId,{blockExplorerUrl:(null==rpcPrefs?void 0:rpcPrefs.blockExplorerUrl)??null},null);__webpack_require__.g.platform.openTab({url:blockExplorerTokenLink})},ariaLabel:t("openInBlockExplorer")}))))),react.createElement(box.ZP,{display:design_system.sS.Flex,paddingTop:6,paddingRight:4,paddingBottom:6,paddingLeft:4},react.createElement(button_component.Z,{type:"primary",onClick:()=>onClose()},t("recoveryPhraseReminderConfirm"))))}ContractDetailsModal.propTypes={onClose:prop_types_default().func,tokenName:prop_types_default().string,tokenAddress:prop_types_default().string,toAddress:prop_types_default().string,chainId:prop_types_default().string,rpcPrefs:prop_types_default().object,tokenId:prop_types_default().string,assetStandard:prop_types_default().string,assetName:prop_types_default().string,isContractRequestingSignature:prop_types_default().bool},ContractDetailsModal.__docgenInfo={description:"",methods:[],displayName:"ContractDetailsModal",props:{onClose:{description:"Function that should close the modal",type:{name:"func"},required:!1},tokenName:{description:"Name of the token that is waiting to be allowed",type:{name:"string"},required:!1},tokenAddress:{description:"Address of the token that is waiting to be allowed",type:{name:"string"},required:!1},toAddress:{description:"Contract address requesting spending cap",type:{name:"string"},required:!1},chainId:{description:"Current network chainId",type:{name:"string"},required:!1},rpcPrefs:{description:"RPC prefs of the current network",type:{name:"object"},required:!1},tokenId:{description:"The token id of the NFT",type:{name:"string"},required:!1},assetStandard:{description:"Token Standard",type:{name:"string"},required:!1},assetName:{description:"The name of the collection",type:{name:"string"},required:!1},isContractRequestingSignature:{description:"Whether contract requesting signature flow has started",type:{name:"bool"},required:!1}}}},"./ui/components/app/signature-request-header/signature-request-header.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>signature_request_header});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),selectors=__webpack_require__("./ui/selectors/index.js"),confirm_tx_util=__webpack_require__("./ui/helpers/utils/confirm-tx.util.ts"),util=__webpack_require__("./ui/helpers/utils/util.js"),common=__webpack_require__("./shared/constants/common.ts"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts"),Numeric=__webpack_require__("./shared/modules/Numeric.ts"),network_account_balance_header=__webpack_require__("./ui/components/app/network-account-balance-header/network-account-balance-header.js");const SignatureRequestHeader=({txData})=>{const t=(0,useI18nContext.C)(),{msgParams:{from}}=txData,allAccounts=(0,es.v9)(selectors.QT),fromAccount=(0,util.t)(allAccounts,from),nativeCurrency=(0,es.v9)(metamask.JK),currentCurrency=(0,es.v9)(selectors.TV3),currentChainId=(0,es.v9)(selectors.BVZ),providerConfig=(0,es.v9)(metamask.Vu),networkName=(0,util.Wf)(providerConfig.type),{useNativeCurrencyAsPrimaryCurrency}=(0,es.v9)(selectors.Izy),conversionRateFromSelector=(0,es.v9)(selectors.tOe),conversionRate=useNativeCurrencyAsPrimaryCurrency?null:conversionRateFromSelector,currentNetwork=""===networkName?providerConfig.nickname||t("unknownNetwork"):t(networkName),balanceInBaseAsset=conversionRate?(0,confirm_tx_util.xG)((0,conversion_utils.nu)({value:fromAccount.balance,fromCurrency:nativeCurrency,toCurrency:currentCurrency,conversionRate,numberOfDecimals:6,toDenomination:common.E.ETH}),currentCurrency):new Numeric.D(fromAccount.balance,16,common.E.WEI).toDenomination(common.E.ETH).round(6).toBase(10).toString();return react.createElement(network_account_balance_header.Z,{networkName:currentNetwork,accountName:fromAccount.name,accountBalance:balanceInBaseAsset,tokenName:conversionRate?null==currentCurrency?void 0:currentCurrency.toUpperCase():nativeCurrency,accountAddress:fromAccount.address,chainId:currentChainId})};SignatureRequestHeader.propTypes={txData:prop_types_default().object.isRequired},SignatureRequestHeader.__docgenInfo={description:"",methods:[],displayName:"SignatureRequestHeader",props:{txData:{description:"The display content of transaction data",type:{name:"object"},required:!0}}};const signature_request_header=SignatureRequestHeader},"./ui/components/app/signature-request/signature-request-data/signature-request-data.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>signature_request_data});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),dist=__webpack_require__("./node_modules/@metamask/name-controller/dist/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),copy_to_clipboard=__webpack_require__("./node_modules/copy-to-clipboard/index.js"),copy_to_clipboard_default=__webpack_require__.n(copy_to_clipboard),util=__webpack_require__("./ui/helpers/utils/util.js"),identicon=__webpack_require__("./ui/components/ui/identicon/index.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),nickname_popovers=__webpack_require__("./ui/components/app/modals/nickname-popovers/index.js"),copy=__webpack_require__("./shared/constants/copy.ts");const Address=({checksummedRecipientAddress,onRecipientClick,addressOnly,recipientEns,recipientName})=>{const t=(0,useI18nContext.C)(),[showNicknamePopovers,setShowNicknamePopovers]=(0,react.useState)(!1),addressBookEntryObject=(0,es.v9)(selectors.FuL).find((entry=>entry.address.toLowerCase()===checksummedRecipientAddress.toLowerCase())),recipientNickname=null==addressBookEntryObject?void 0:addressBookEntryObject.name,recipientMetadataName=(0,es.v9)((state=>(0,selectors._87)(state,checksummedRecipientAddress))),recipientToRender=addressOnly?recipientName||recipientNickname||recipientMetadataName||recipientEns||(0,util.$Q)(checksummedRecipientAddress):recipientName||recipientNickname||recipientMetadataName||recipientEns||t("newContract");return react.createElement("div",{className:"tx-insight tx-insight-component tx-insight-component-address",onClick:()=>{copy_to_clipboard_default()(checksummedRecipientAddress,copy.K),onRecipientClick&&onRecipientClick()}},react.createElement("div",{className:"tx-insight-component-address__sender-icon"},react.createElement(identicon.Z,{address:checksummedRecipientAddress,diameter:18})),react.createElement("div",{className:"tx-insight-component-address__name",onClick:()=>setShowNicknamePopovers(!0)},recipientToRender),showNicknamePopovers?react.createElement(nickname_popovers.Z,{onClose:()=>setShowNicknamePopovers(!1),address:checksummedRecipientAddress}):null)};Address.propTypes={checksummedRecipientAddress:prop_types_default().string,recipientName:prop_types_default().string,recipientEns:prop_types_default().string,addressOnly:prop_types_default().bool,onRecipientClick:prop_types_default().func},Address.__docgenInfo={description:"",methods:[],displayName:"Address",props:{checksummedRecipientAddress:{description:"",type:{name:"string"},required:!1},recipientName:{description:"",type:{name:"string"},required:!1},recipientEns:{description:"",type:{name:"string"},required:!1},addressOnly:{description:"",type:{name:"bool"},required:!1},onRecipientClick:{description:"",type:{name:"func"},required:!1}}};const address_component=Address;var hexstring_utils=__webpack_require__("./shared/modules/hexstring-utils.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),usePetnamesEnabled=__webpack_require__("./ui/hooks/usePetnamesEnabled.ts"),name_name=__webpack_require__("./ui/components/app/name/name.tsx");function SignatureRequestData({data}){const identities=(0,es.v9)(selectors.RlE),petnamesEnabled=(0,usePetnamesEnabled.A)();return react.createElement(component_library.xu,{as:"ul",className:"signature-request-data__node"},Object.entries(data).map((([label,{value,type}],i)=>react.createElement(component_library.xu,{as:"li",className:"signature-request-data__node",marginBottom:2,key:`${label}-${i}`,paddingLeft:2,display:"object"!=typeof value||null===value?design_system.sS.Flex:null},react.createElement(component_library.xv,{as:"div",color:design_system.d9.textDefault,marginLeft:4,fontWeight:"object"==typeof value?design_system.U9.Bold:design_system.U9.Normal},(0,util.vJ)(label.charAt(0).toUpperCase()+label.slice(1)),":"," "),"object"==typeof value&&null!==value?react.createElement(SignatureRequestData,{data:value}):react.createElement(component_library.xv,{as:"div",color:design_system.d9.textDefault,marginLeft:4,className:"signature-request-data__node__value"},"address"===type&&(0,hexstring_utils.Pv)(value,{mixedCaseUseChecksum:!0})?react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"div",color:design_system.d9.infoDefault,className:"signature-request-data__node__value__address"},petnamesEnabled?react.createElement(name_name.Z,{value,type:dist.NameType.ETHEREUM_ADDRESS}):react.createElement(address_component,{addressOnly:!0,checksummedRecipientAddress:(0,hexstring_utils.QG)(value),recipientName:(0,selectors.PyB)(identities,value)})):(0,util.vJ)(`${value}`))))))}SignatureRequestData.propTypes={data:prop_types_default().oneOfType([prop_types_default().object,prop_types_default().array]).isRequired},SignatureRequestData.__docgenInfo={description:"",methods:[],displayName:"SignatureRequestData",props:{data:{description:"",type:{name:"union",value:[{name:"object"},{name:"array"}]},required:!0}}};const signature_request_data=(0,react.memo)(SignatureRequestData,((prevProps,nextProps)=>(0,lodash.isEqual)(prevProps.data,nextProps.data)))},"./ui/components/app/signature-request/signature-request-message/signature-request-message.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SignatureRequestMessage});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),i18n=__webpack_require__("./ui/contexts/i18n.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),signature_request_data=__webpack_require__("./ui/components/app/signature-request/signature-request-data/signature-request-data.js");function SignatureRequestMessage({data,onMessageScrolled,setMessageRootRef,messageRootRef,messageIsScrollable,primaryType}){const t=(0,react.useContext)(i18n.OO),[messageIsScrolled,setMessageIsScrolled]=(0,react.useState)(!1);return react.createElement(box.ZP,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,onScroll:(0,lodash.debounce)((()=>{if(!messageRootRef||messageIsScrolled)return;const{scrollTop,offsetHeight,scrollHeight}=messageRootRef;Math.round(scrollTop)+offsetHeight>=scrollHeight&&(setMessageIsScrolled(!0),onMessageScrolled())}),25),className:"signature-request-message"},messageIsScrollable?react.createElement(box.ZP,{display:design_system.sS.Flex,alignItems:design_system.g1.center,justifyContent:design_system.E0.center,borderColor:design_system.kf.borderDefault,backgroundColor:design_system.lP.backgroundDefault,color:design_system.Il.iconDefault,onClick:()=>{setMessageIsScrolled(!0),onMessageScrolled(),null==messageRootRef||messageRootRef.scrollTo(0,null==messageRootRef?void 0:messageRootRef.scrollHeight)},className:"signature-request-message__scroll-button","data-testid":"signature-request-scroll-button"},react.createElement("i",{className:"fa fa-arrow-down","aria-label":t("scrollDown")})):null,react.createElement(box.ZP,{backgroundColor:design_system.lP.backgroundDefault,paddingBottom:3,paddingTop:3,paddingRight:3,margin:2,borderRadius:design_system.cM.XL,borderColor:design_system.kf.borderMuted,className:"signature-request-message__root",ref:setMessageRootRef},react.createElement(component_library.xv,{fontWeight:design_system.U9.Bold,color:design_system.d9.textDefault,marginLeft:4},primaryType),react.createElement(signature_request_data.Z,{data:data.value})))}SignatureRequestMessage.propTypes={data:prop_types_default().object.isRequired,onMessageScrolled:prop_types_default().func,setMessageRootRef:prop_types_default().func,messageRootRef:prop_types_default().object,messageIsScrollable:prop_types_default().bool,primaryType:prop_types_default().string},SignatureRequestMessage.__docgenInfo={description:"",methods:[],displayName:"SignatureRequestMessage",props:{data:{description:"",type:{name:"object"},required:!0},onMessageScrolled:{description:"",type:{name:"func"},required:!1},setMessageRootRef:{description:"",type:{name:"func"},required:!1},messageRootRef:{description:"",type:{name:"object"},required:!1},messageIsScrollable:{description:"",type:{name:"bool"},required:!1},primaryType:{description:"",type:{name:"string"},required:!1}}}},"./ui/contexts/gasFee.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Po:()=>GasFeeContextProvider,YJ:()=>useGasFeeContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_hooks_gasFeeInput_useGasFeeInputs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/hooks/gasFeeInput/useGasFeeInputs.js");const GasFeeContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({}),GasFeeContextProvider=({children,defaultEstimateToUse,transaction,minimumGasLimit,editGasMode})=>{const gasFeeDetails=(0,_hooks_gasFeeInput_useGasFeeInputs__WEBPACK_IMPORTED_MODULE_1__.a)(defaultEstimateToUse,transaction,minimumGasLimit,editGasMode);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(GasFeeContext.Provider,{value:gasFeeDetails},children)};function useGasFeeContext(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(GasFeeContext)}GasFeeContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().node.isRequired,defaultEstimateToUse:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,transaction:prop_types__WEBPACK_IMPORTED_MODULE_2___default().object,minimumGasLimit:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,editGasMode:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string},GasFeeContextProvider.__docgenInfo={description:"",methods:[],displayName:"GasFeeContextProvider",props:{children:{description:"",type:{name:"node"},required:!0},defaultEstimateToUse:{description:"",type:{name:"string"},required:!1},transaction:{description:"",type:{name:"object"},required:!1},minimumGasLimit:{description:"",type:{name:"string"},required:!1},editGasMode:{description:"",type:{name:"string"},required:!1}}}},"./ui/contexts/transaction-modal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_O:()=>TransactionModalContext,rj:()=>TransactionModalContextProvider,y8:()=>useTransactionModalContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);const TransactionModalContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({}),TransactionModalContextProvider=({children})=>{const[openModals,setOpenModals]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(TransactionModalContext.Provider,{value:{closeModal:modalNames=>{if(openModals<0)return;const modals=[...openModals];modalNames.forEach((modal=>{const index=openModals.indexOf(modal);modals.splice(index,1)})),setOpenModals(modals)},closeAllModals:()=>{setOpenModals([])},currentModal:openModals[openModals.length-1],openModal:modalName=>{if(openModals.includes(modalName))return;const modals=[...openModals];modals.push(modalName),setOpenModals(modals)},openModalCount:openModals.length}},children)};function useTransactionModalContext(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(TransactionModalContext)}TransactionModalContextProvider.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_1___default().node.isRequired},TransactionModalContextProvider.__docgenInfo={description:"",methods:[],displayName:"TransactionModalContextProvider",props:{children:{description:"",type:{name:"node"},required:!0}}}},"./ui/hooks/useTransactionEventFragment.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>useTransactionEventFragment});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_contexts_gasFee__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/contexts/gasFee.js"),_store_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/store/actions.ts"),_selectors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/selectors/index.js");const useTransactionEventFragment=()=>{const{transaction}=(0,_contexts_gasFee__WEBPACK_IMPORTED_MODULE_2__.YJ)(),fragment=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((state=>(0,_selectors__WEBPACK_IMPORTED_MODULE_4__.kmh)(state,{fragmentOptions:{},existingId:`transaction-added-${null==transaction?void 0:transaction.id}`})));return{updateTransactionEventFragment:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((async params=>{transaction&&transaction.id&&(fragment||await(0,_store_actions__WEBPACK_IMPORTED_MODULE_3__.j9l)(transaction.id),(0,_store_actions__WEBPACK_IMPORTED_MODULE_3__.XCZ)(`transaction-added-${transaction.id}`,params))}),[fragment,transaction])}}},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),g=60103;if(exports.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var h=Symbol.for;g=h("react.element"),exports.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,k){var b,d={},e=null,l=null;for(b in void 0!==k&&(e=""+k),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);