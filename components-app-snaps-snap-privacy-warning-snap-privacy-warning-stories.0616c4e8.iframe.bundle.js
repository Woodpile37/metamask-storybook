"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[6689],{"./ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/app/snaps/snap-privacy-warning/index.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/App/snaps/SnapPrivacyWarning",component:___WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{onAccepted:{action:"onAccepted"},onCanceled:{action:"onCanceled"}}},DefaultStory=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_1__.Z,args);DefaultStory.storyName="Default",DefaultStory.args={},DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => <SnapPrivacyWarning {...args} />",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/app/snaps/snap-privacy-warning/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_snap_privacy_warning__WEBPACK_IMPORTED_MODULE_0__.Z});var _snap_privacy_warning__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js")},"./ui/components/app/snaps/snap-privacy-warning/snap-privacy-warning.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SnapPrivacyWarning});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),box=__webpack_require__("./ui/components/ui/box/box.js"),popover=__webpack_require__("./ui/components/ui/popover/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),useScrollRequired=__webpack_require__("./ui/hooks/useScrollRequired.js");const TERMS_OF_USE_LINK="https://consensys.net/terms-of-use/";function SnapPrivacyWarning({onAccepted,onCanceled}){const t=(0,useI18nContext.C)(),{isScrollable,isScrolledToBottom,scrollToBottom,ref,onScroll}=(0,useScrollRequired.s)();return react.createElement(popover.Z,{className:"snap-privacy-warning"},react.createElement(box.ZP,null,react.createElement(box.ZP,{className:"snap-privacy-warning__header",paddingLeft:4,paddingRight:4},react.createElement(box.ZP,{marginTop:4,className:"snap-privacy-warning__header__info-icon",display:design_system.bA.FLEX,justifyContent:design_system.E0.center,alignItems:design_system.g1.center},react.createElement(component_library.fM,{iconName:component_library.uH.Info,color:design_system.EY.infoDefault,backgroundColor:design_system.lP.primaryMuted,size:component_library.Jh.Md})),react.createElement(box.ZP,{className:"snap-privacy-warning__header__title",marginTop:4,marginBottom:4,display:design_system.bA.FLEX,justifyContent:design_system.E0.center,alignItems:design_system.g1.center},react.createElement(component_library.xv,{variant:design_system.rK.headingMd,fontWeight:design_system.U9.Bold},t("thirdPartySoftware")))),react.createElement(box.ZP,{paddingLeft:4,paddingRight:4,className:"snap-privacy-warning__content",ref,onScroll},react.createElement(box.ZP,{className:"snap-privacy-warning__message"},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd},t("snapsPrivacyWarningFirstMessage",[react.createElement(component_library.ZP,{key:"privacyNoticeTermsOfUseLink",size:component_library.DC.INHERIT,href:TERMS_OF_USE_LINK,target:"_blank"}," ",t("snapsTermsOfUse")," ")])),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,paddingTop:6},t("snapsPrivacyWarningSecondMessage")),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,fontWeight:design_system.U9.Bold,paddingTop:6},t("snapsPrivacyWarningThirdMessage"))),isScrollable&&!isScrolledToBottom?react.createElement(component_library.fM,{className:"snap-privacy-warning__content__scroll-button","data-testid":"snap-privacy-warning-scroll",iconName:component_library.uH.Arrow2Down,backgroundColor:design_system.lP.infoDefault,color:design_system.EY.primaryInverse,onClick:scrollToBottom,style:{cursor:"pointer"}}):null),react.createElement(box.ZP,{paddingLeft:4,paddingRight:4,paddingBottom:4,className:"snap-privacy-warning__footer"},react.createElement(box.ZP,{className:"snap-privacy-warning__footer",marginTop:6,display:design_system.bA.FLEX},react.createElement(component_library.zx,{variant:component_library.RN.SECONDARY,size:component_library.aK.LG,width:design_system.D8.FULL,className:"snap-privacy-warning__cancel-button",onClick:onCanceled,marginRight:2},t("cancel")),react.createElement(component_library.zx,{variant:component_library.RN.PRIMARY,size:component_library.aK.LG,width:design_system.D8.FULL,className:"snap-privacy-warning__ok-button",onClick:onAccepted,marginLeft:2,disabled:!isScrolledToBottom},t("accept"))))))}SnapPrivacyWarning.propTypes={onAccepted:prop_types_default().func.isRequired,onCanceled:prop_types_default().func.isRequired},SnapPrivacyWarning.__docgenInfo={description:"",methods:[],displayName:"SnapPrivacyWarning",props:{onAccepted:{description:"onAccepted handler",type:{name:"func"},required:!0},onCanceled:{description:"onCanceled handler",type:{name:"func"},required:!0}}}},"./ui/hooks/useScrollRequired.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>useScrollRequired});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js");const useScrollRequired=(dependencies=[])=>{const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),[isScrollableState,setIsScrollable]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[isScrolledToBottomState,setIsScrolledToBottom]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),update=()=>{const isScrollable=ref.current&&ref.current.scrollHeight>ref.current.clientHeight,isScrolledToBottom=!isScrollable||Math.round(ref.current.scrollTop)+ref.current.offsetHeight>=ref.current.scrollHeight;setIsScrollable(isScrollable),setIsScrolledToBottom(isScrolledToBottom)};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(update,[ref,...dependencies]);return{isScrollable:isScrollableState,isScrolledToBottom:isScrolledToBottomState,scrollToBottom:()=>{ref.current&&ref.current.scrollTo(0,ref.current.scrollHeight)},ref,onScroll:(0,lodash__WEBPACK_IMPORTED_MODULE_1__.debounce)(update,25)}}}}]);