"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[9970],{"./ui/components/app/add-network/add-network.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DefaultStory$paramet,_DefaultStory$paramet2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_add_network__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/app/add-network/add-network.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/App/AddNetwork",argTypes:{onBackClick:{action:"onBackClick"},onAddNetworkClick:{action:"onAddNetworkClick"},onAddNetworkManuallyClick:{action:"onAddNetworkManuallyClick"},featuredRPCS:{control:"array"}},args:{featuredRPCS:[{chainId:"42161",nickname:"Arbitrum One",rpcUrl:"https://arbitrum-mainnet.infura.io/v3/{INFURA_API_KEY}",ticker:"AETH",rpcPrefs:{blockExplorerUrl:"https://explorer.arbitrum.io",imageUrl:"./images/arbitrum.svg"}},{chainId:"43114",nickname:"Avalanche Mainnet C-Chain",rpcUrl:"https://api.avax.network/ext/bc/C/rpc",ticker:"AVAX",rpcPrefs:{blockExplorerUrl:"https://snowtrace.io/",imageUrl:"./images/avax-token.png"}},{chainId:"56",nickname:"BNB Smart Chain",rpcUrl:"https://bsc-dataseed.binance.org/",ticker:"BNB",rpcPrefs:{blockExplorerUrl:"https://bscscan.com/",imageUrl:"./images/bsc-filled.svg"}},{chainId:"250",nickname:"Fantom Opera",rpcUrl:"https://rpc.ftm.tools/",ticker:"FTM",rpcPrefs:{blockExplorerUrl:"https://ftmscan.com/",imageUrl:""}},{chainId:"1666600000",nickname:"Harmony Mainnet Shard 0",rpcUrl:"https://api.harmony.one/",ticker:"ONE",rpcPrefs:{blockExplorerUrl:"https://explorer.harmony.one/",imageUrl:""}},{chainId:"10",nickname:"Optimism",rpcUrl:"https://optimism-mainnet.infura.io/v3/{INFURA_API_KEY}",ticker:"KOR",rpcPrefs:{blockExplorerUrl:"https://optimistic.etherscan.io/",imageUrl:"./images/optimism.svg"}},{chainId:"137",nickname:"Polygon Mainnet",rpcUrl:"https://polygon-mainnet.infura.io/v3/{INFURA_API_KEY}",ticker:"MATIC",rpcPrefs:{blockExplorerUrl:"https://polygonscan.com/",imageUrl:"./images/matic-token.png"}},{chainId:"11297108109",nickname:"Palm",rpcUrl:"https://palm-mainnet.infura.io/v3/{INFURA_API_KEY}",ticker:"PALM",rpcPrefs:{blockExplorerUrl:"https://explorer.palm.io/",imageUrl:"./images/palm.svg"}}]}},DefaultStory=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_add_network__WEBPACK_IMPORTED_MODULE_1__.Z,args);DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => <AddNetwork {...args} />",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/app/add-network/add-network.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@metamask/controller-utils/dist/index.js"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/contexts/i18n.js"),_ui_box__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/ui/box/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_ui_button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/ui/button/index.js"),_ui_tooltip__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/ui/tooltip/index.js"),_selectors__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/selectors/index.js"),_shared_constants_app__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./shared/constants/app.ts"),_store_actions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./ui/store/actions.ts"),_ui_popover__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./ui/components/ui/popover/index.js"),_pages_confirmation_confirmation__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./ui/pages/confirmation/confirmation.js"),_shared_constants_network__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./shared/constants/network.ts"),_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./ui/helpers/constants/routes.ts"),_app_scripts_lib_util__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./app/scripts/lib/util.ts"),_helpers_constants_zendesk_url__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./ui/helpers/constants/zendesk-url.js"),_component_library__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./ui/components/component-library/index.ts"),_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./shared/constants/metametrics.ts");const AddNetwork=()=>{const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_3__.OO),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.I0)(),history=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_19__.k6)(),networkConfigurations=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_8__.IrK),networkConfigurationChainIds=Object.values(networkConfigurations).map((net=>net.chainId)),infuraRegex=/infura.io/u,notExistingNetworkConfigurations=_shared_constants_network__WEBPACK_IMPORTED_MODULE_13__.Jf.sort(((a,b)=>a.nickname>b.nickname?1:-1)).slice(0,_shared_constants_network__WEBPACK_IMPORTED_MODULE_13__.Jf.length).filter((net=>-1===networkConfigurationChainIds.indexOf(net.chainId))),unapprovedConfirmations=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_8__.eYG),[showPopover,setShowPopover]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const anAddNetworkConfirmationFromMetaMaskExists=null==unapprovedConfirmations?void 0:unapprovedConfirmations.find((confirmation=>"metamask"===confirmation.origin&&confirmation.type===_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_2__.ApprovalType.AddEthereumChain));!showPopover&&anAddNetworkConfirmationFromMetaMaskExists&&setShowPopover(!0),showPopover&&!anAddNetworkConfirmationFromMetaMaskExists&&setShowPopover(!1)}),[unapprovedConfirmations,showPopover]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,0===Object.keys(notExistingNetworkConfigurations).length?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"add-network__edge-case-box",borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.cM.MD,padding:4,marginTop:4,marginRight:6,marginLeft:6,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.sS.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.Qb.Row,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.lP.backgroundAlternative},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{marginRight:4},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:"images/info-fox.svg"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_17__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,as:"h6"},t("youHaveAddedAll",[react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{key:"link",className:"add-network__edge-case-box__link",href:"https://chainlist.wtf/",target:"_blank",rel:"noreferrer"},t("here"),"."),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_button__WEBPACK_IMPORTED_MODULE_6__.Z,{key:"button",type:"inline",onClick:event=>{event.preventDefault(),(0,_app_scripts_lib_util__WEBPACK_IMPORTED_MODULE_15__.kD)()===_shared_constants_app__WEBPACK_IMPORTED_MODULE_9__.bE?__webpack_require__.g.platform.openExtensionInBrowser(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_14__.ZJ):history.push(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_14__.ZJ)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_17__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.infoDefault},t("addMoreNetworks"),"."))])))):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"add-network__networks-container"},(0,_app_scripts_lib_util__WEBPACK_IMPORTED_MODULE_15__.kD)()===_shared_constants_app__WEBPACK_IMPORTED_MODULE_9__.BK&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.Qb.Row,marginTop:7,marginBottom:4,paddingBottom:2,className:"add-network__header"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_17__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.headingSm,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textMuted,as:"h4"},t("networks")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"add-network__header__subtitle"},"  >  "),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_17__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.headingSm,as:"h4",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textDefault},t("addANetwork"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{marginTop:(0,_app_scripts_lib_util__WEBPACK_IMPORTED_MODULE_15__.kD)()===_shared_constants_app__WEBPACK_IMPORTED_MODULE_9__.bE?0:4,marginBottom:1,className:"add-network__main-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_17__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textAlternative,margin:0,marginTop:4},t("addFromAListOfPopularNetworks")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_17__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textMuted,marginTop:4,marginBottom:3},t("popularCustomNetworks")),notExistingNetworkConfigurations.map(((item,index)=>{var _item$rpcPrefs;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{key:index,display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.E0.spaceBetween,marginBottom:6,className:"add-network__list-of-networks"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_17__.OQ,{size:_component_library__WEBPACK_IMPORTED_MODULE_17__.NI.Sm,src:null===(_item$rpcPrefs=item.rpcPrefs)||void 0===_item$rpcPrefs?void 0:_item$rpcPrefs.imageUrl,name:item.nickname}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{marginLeft:2},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_17__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySmBold,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.textDefault},item.nickname))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center,marginLeft:1},!infuraRegex.test(item.rpcUrl)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_tooltip__WEBPACK_IMPORTED_MODULE_7__.Z,{position:"top",interactive:!0,html:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{margin:3,className:"add-network__warning-tooltip"},t("addNetworkTooltipWarning",[react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{key:"zendesk_page_link",href:_helpers_constants_zendesk_url__WEBPACK_IMPORTED_MODULE_16__.Z.UNKNOWN_NETWORK,rel:"noreferrer",target:"_blank"},t("learnMoreUpperCase"))])),trigger:"mouseenter"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_17__.JO,{className:"add-network__warning-icon",name:_component_library__WEBPACK_IMPORTED_MODULE_17__.uH.Danger,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.EY.iconMuted,size:_component_library__WEBPACK_IMPORTED_MODULE_17__.Jh.Sm})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_button__WEBPACK_IMPORTED_MODULE_6__.Z,{type:"inline",className:"add-network__add-button",onClick:async()=>{var _item$rpcPrefs2;await dispatch((0,_store_actions__WEBPACK_IMPORTED_MODULE_10__.tCf)({origin:_shared_constants_app__WEBPACK_IMPORTED_MODULE_9__.jr,type:_metamask_controller_utils__WEBPACK_IMPORTED_MODULE_2__.ApprovalType.AddEthereumChain,requestData:{chainId:item.chainId,rpcUrl:item.rpcUrl,ticker:item.ticker,rpcPrefs:item.rpcPrefs,imageUrl:null===(_item$rpcPrefs2=item.rpcPrefs)||void 0===_item$rpcPrefs2?void 0:_item$rpcPrefs2.imageUrl,chainName:item.nickname,referrer:_shared_constants_app__WEBPACK_IMPORTED_MODULE_9__.jr,source:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_18__.uU.PopularNetworkList}}))}},t("add"))))}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{padding:(0,_app_scripts_lib_util__WEBPACK_IMPORTED_MODULE_15__.kD)()===_shared_constants_app__WEBPACK_IMPORTED_MODULE_9__.bE?[2,0,2,6]:[2,0,2,0],className:"add-network__footer"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_button__WEBPACK_IMPORTED_MODULE_6__.Z,{type:"link","data-testid":"add-network-manually",onClick:event=>{event.preventDefault(),(0,_app_scripts_lib_util__WEBPACK_IMPORTED_MODULE_15__.kD)()===_shared_constants_app__WEBPACK_IMPORTED_MODULE_9__.bE?__webpack_require__.g.platform.openExtensionInBrowser(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_14__.ZJ):history.push(_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_14__.ZJ)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_17__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.rK.bodySm,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.d9.primaryDefault},t("addANetworkManually"))))),showPopover&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_popover__WEBPACK_IMPORTED_MODULE_11__.Z,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_pages_confirmation_confirmation__WEBPACK_IMPORTED_MODULE_12__.Z,{redirectToHomeOnZeroConfirmations:!1})))};AddNetwork.__docgenInfo={description:"",methods:[],displayName:"AddNetwork"};const __WEBPACK_DEFAULT_EXPORT__=AddNetwork}}]);