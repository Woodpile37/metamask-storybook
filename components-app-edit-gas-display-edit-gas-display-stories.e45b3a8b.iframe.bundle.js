"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[2097],{"./ui/components/app/edit-gas-display/edit-gas-display.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DefaultStory$paramet,_DefaultStory$paramet2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/app/edit-gas-display/index.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/App/EditGasDisplay",args:{transaction:{}}},DefaultStory=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{width:"600px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_1__.Z,args));DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => {\n  return <div style={{\n    width: '600px'\n  }}>\n      <EditGasDisplay {...args} />\n    </div>;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/app/advanced-gas-controls/advanced-gas-controls.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>AdvancedGasControls});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_contexts_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/contexts/i18n.js"),_ui_form_field__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/form-field/index.js"),_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/helpers/constants/gas.js");function AdvancedGasControls({onManualChange,gasLimit,setGasLimit,gasPrice,setGasPrice,gasErrors,minimumGasLimit}){const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_1__.OO);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"advanced-gas-controls"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_form_field__WEBPACK_IMPORTED_MODULE_2__.Z,{titleText:t("gasLimit"),error:null!=gasErrors&&gasErrors.gasLimit?(0,_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_3__.V3)(gasErrors.gasLimit,t,{minimumGasLimit}):null,onChange:value=>{null==onManualChange||onManualChange(),setGasLimit(value)},tooltipText:t("editGasLimitTooltip"),value:gasLimit,allowDecimals:!1,numeric:!0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_form_field__WEBPACK_IMPORTED_MODULE_2__.Z,{titleText:t("advancedGasPriceTitle"),titleUnit:"(GWEI)",onChange:value=>{null==onManualChange||onManualChange(),setGasPrice(value)},tooltipText:t("editGasPriceTooltip"),value:gasPrice,numeric:!0,allowDecimals:!0,error:null!=gasErrors&&gasErrors.gasPrice?(0,_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_3__.V3)(gasErrors.gasPrice,t):null})))}AdvancedGasControls.propTypes={onManualChange:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,gasLimit:prop_types__WEBPACK_IMPORTED_MODULE_4___default().number,setGasLimit:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,gasPrice:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,setGasPrice:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,minimumGasLimit:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,gasErrors:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object},AdvancedGasControls.__docgenInfo={description:"",methods:[],displayName:"AdvancedGasControls",props:{onManualChange:{description:"",type:{name:"func"},required:!1},gasLimit:{description:"",type:{name:"number"},required:!1},setGasLimit:{description:"",type:{name:"func"},required:!1},gasPrice:{description:"",type:{name:"string"},required:!1},setGasPrice:{description:"",type:{name:"func"},required:!1},minimumGasLimit:{description:"",type:{name:"string"},required:!1},gasErrors:{description:"",type:{name:"object"},required:!1}}}},"./ui/components/app/edit-gas-display/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>EditGasDisplay});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),bignumber=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_default=__webpack_require__.n(bignumber),gas=__webpack_require__("./shared/constants/gas.ts"),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),confirm_tx_util=__webpack_require__("./ui/helpers/utils/confirm-tx.util.ts"),info_tooltip=__webpack_require__("./ui/components/ui/info-tooltip/index.js"),advanced_gas_controls_component=__webpack_require__("./ui/components/app/advanced-gas-controls/advanced-gas-controls.component.js"),i18n=__webpack_require__("./ui/contexts/i18n.js");function EditGasDisplay({mode=gas.G_.modifyInPlace,estimatedMinimumNative,transaction,gasPrice,setGasPrice,gasLimit,setGasLimit,properGasLimit,dappSuggestedGasFeeAcknowledged,setDappSuggestedGasFeeAcknowledged,onManualChange,minimumGasLimit,balanceError,gasErrors,txParamsHaveBeenCustomized}){const t=(0,react.useContext)(i18n.OO),scrollRef=(0,react.useRef)(null),dappSuggestedAndTxParamGasFeesAreTheSame=(0,confirm_tx_util.n$)(transaction),requireDappAcknowledgement=Boolean((null==transaction?void 0:transaction.dappSuggestedGasFees)&&!dappSuggestedGasFeeAcknowledged&&dappSuggestedAndTxParamGasFeesAreTheSame);let warningMessage;void 0!==gasLimit&&void 0!==properGasLimit&&new(bignumber_default())(gasLimit).lessThan(new(bignumber_default())(properGasLimit))&&(warningMessage=t("gasLimitRecommended",[properGasLimit]));const showTopError=balanceError&&txParamsHaveBeenCustomized;return react.createElement("div",{className:"edit-gas-display"},react.createElement("div",{className:"edit-gas-display__content"},showTopError&&react.createElement(component_library.wB,{severity:design_system.zb.Danger,description:t("insufficientFunds"),marginBottom:6}),warningMessage&&react.createElement(component_library.wB,{severity:design_system.zb.Warning,description:warningMessage,marginBottom:6}),requireDappAcknowledgement&&react.createElement(component_library.wB,{severity:design_system.zb.Warning,className:"banner-alert--warning",description:t("gasDisplayDappWarning",[transaction.origin]),marginBottom:6}),mode===gas.G_.speedUp&&react.createElement("div",{className:"edit-gas-display__top-tooltip"},react.createElement(component_library.xv,{color:design_system.d9.textDefault,variant:design_system.rK.bodySm,as:"h6",fontWeight:design_system.U9.Bold},t("speedUpTooltipText")," ",react.createElement(info_tooltip.Z,{position:"top",contentText:t("speedUpExplanation")}))),react.createElement(component_library.xv,{color:design_system.d9.textDefault,variant:design_system.rK.headingLg,as:"h1",textAlign:design_system.PH.Center},estimatedMinimumNative),requireDappAcknowledgement&&react.createElement(ui_button.Z,{className:"edit-gas-display__dapp-acknowledgement-button",onClick:()=>setDappSuggestedGasFeeAcknowledged(!0)},t("gasDisplayAcknowledgeDappButtonText")),!requireDappAcknowledgement&&react.createElement(advanced_gas_controls_component.Z,{gasLimit,setGasLimit,gasPrice,setGasPrice,onManualChange,minimumGasLimit,gasErrors})),react.createElement("div",{ref:scrollRef,className:"edit-gas-display__scroll-bottom"}))}EditGasDisplay.propTypes={mode:prop_types_default().oneOf(Object.values(gas.G_)),estimatedMinimumNative:prop_types_default().string,gasPrice:prop_types_default().string,setGasPrice:prop_types_default().func,gasLimit:prop_types_default().number,setGasLimit:prop_types_default().func,properGasLimit:prop_types_default().number,dappSuggestedGasFeeAcknowledged:prop_types_default().bool,setDappSuggestedGasFeeAcknowledged:prop_types_default().func,transaction:prop_types_default().object,onManualChange:prop_types_default().func,minimumGasLimit:prop_types_default().string,balanceError:prop_types_default().bool,gasErrors:prop_types_default().object,txParamsHaveBeenCustomized:prop_types_default().bool},EditGasDisplay.__docgenInfo={description:"",methods:[],displayName:"EditGasDisplay",props:{mode:{defaultValue:{value:"EditGasModes.modifyInPlace",computed:!0},description:"",type:{name:"enum",computed:!0,value:"Object.values(EditGasModes)"},required:!1},estimatedMinimumNative:{description:"",type:{name:"string"},required:!1},gasPrice:{description:"",type:{name:"string"},required:!1},setGasPrice:{description:"",type:{name:"func"},required:!1},gasLimit:{description:"",type:{name:"number"},required:!1},setGasLimit:{description:"",type:{name:"func"},required:!1},properGasLimit:{description:"",type:{name:"number"},required:!1},dappSuggestedGasFeeAcknowledged:{description:"",type:{name:"bool"},required:!1},setDappSuggestedGasFeeAcknowledged:{description:"",type:{name:"func"},required:!1},transaction:{description:"",type:{name:"object"},required:!1},onManualChange:{description:"",type:{name:"func"},required:!1},minimumGasLimit:{description:"",type:{name:"string"},required:!1},balanceError:{description:"",type:{name:"bool"},required:!1},gasErrors:{description:"",type:{name:"object"},required:!1},txParamsHaveBeenCustomized:{description:"",type:{name:"bool"},required:!1}}}},"./ui/helpers/constants/gas.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{IT:()=>GAS_FORM_ERRORS,K7:()=>PRIORITY_LEVEL_ICON_MAP,V3:()=>getGasFormErrorText});const GAS_FORM_ERRORS={GAS_LIMIT_OUT_OF_BOUNDS:"editGasLimitOutOfBounds",MAX_PRIORITY_FEE_TOO_LOW:"editGasMaxPriorityFeeLow",MAX_FEE_TOO_LOW:"editGasMaxFeeLow",MAX_PRIORITY_FEE_BELOW_MINIMUM:"editGasMaxPriorityFeeBelowMinimum",MAX_PRIORITY_FEE_HIGH_WARNING:"editGasMaxPriorityFeeHigh",MAX_FEE_HIGH_WARNING:"editGasMaxFeeHigh",MAX_FEE_IMBALANCE:"editGasMaxFeeImbalance",GAS_PRICE_TOO_LOW:"editGasPriceTooLow"};function getGasFormErrorText(type,t,{minimumGasLimit}={}){switch(type){case GAS_FORM_ERRORS.GAS_LIMIT_OUT_OF_BOUNDS:return t("editGasLimitOutOfBounds",[minimumGasLimit]);case GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW:return t("editGasMaxPriorityFeeLow");case GAS_FORM_ERRORS.MAX_FEE_TOO_LOW:return t("editGasMaxFeeLow");case GAS_FORM_ERRORS.MAX_PRIORITY_FEE_BELOW_MINIMUM:return t("editGasMaxPriorityFeeBelowMinimum");case GAS_FORM_ERRORS.MAX_PRIORITY_FEE_HIGH_WARNING:return t("editGasMaxPriorityFeeHigh");case GAS_FORM_ERRORS.MAX_FEE_HIGH_WARNING:return t("editGasMaxFeeHigh");case GAS_FORM_ERRORS.MAX_FEE_IMBALANCE:return t("editGasMaxFeePriorityImbalance");case GAS_FORM_ERRORS.GAS_PRICE_TOO_LOW:return t("editGasPriceTooLow");default:return""}}const PRIORITY_LEVEL_ICON_MAP={low:"🐢",medium:"🦊",high:"🦍",dappSuggested:"🌐",dappSuggestedHigh:"🌐",swapSuggested:"🔄",custom:"⚙️"}}}]);