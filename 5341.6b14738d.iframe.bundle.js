"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[5341],{"./ui/components/app/confirmation-warning-modal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>confirmation_warning_modal});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),deprecated=__webpack_require__("./ui/components/component-library/modal-content/deprecated/index.ts"),modal_header_deprecated=__webpack_require__("./ui/components/component-library/modal-header/deprecated/index.ts");const ConfirmationWarningModal=({onSubmit,onCancel})=>{const t=(0,useI18nContext.C)();return react.createElement(component_library.u_,{isOpen:!0,onClose:onCancel,className:"confirmation-warning-modal__content"},react.createElement(component_library.ZA,null),react.createElement(deprecated.h,null,react.createElement(modal_header_deprecated.x,{childrenWrapperProps:{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,alignItems:design_system.g1.center,gap:4}},react.createElement(component_library.JO,{name:component_library.uH.Danger,color:design_system.EY.errorDefault,size:component_library.Jh.Xl}),react.createElement(component_library.xv,{variant:design_system.rK.headingSm,as:"h4",fontWeight:design_system.U9.Bold,textAlign:design_system.PH.Center},t("addEthereumChainWarningModalTitle"))),react.createElement(component_library.xu,{marginBottom:4},react.createElement(component_library.xv,{marginTop:4,variant:design_system.rK.bodySm},t("addEthereumChainWarningModalHeader",[react.createElement("strong",{key:"part-2"},t("addEthereumChainWarningModalHeaderPartTwo"))])),react.createElement(component_library.xv,{marginTop:4,variant:design_system.rK.bodySm},t("addEthereumChainWarningModalListHeader")),react.createElement("ul",null,react.createElement(component_library.xv,{as:"li",marginTop:2,variant:design_system.rK.bodySm},t("addEthereumChainWarningModalListPointOne")),react.createElement(component_library.xv,{as:"li",marginTop:2,variant:design_system.rK.bodySm},t("addEthereumChainWarningModalListPointTwo")),react.createElement(component_library.xv,{as:"li",marginTop:2,variant:design_system.rK.bodySm},t("addEthereumChainWarningModalListPointThree")))),react.createElement(component_library.xu,{display:design_system.sS.Flex,gap:4},react.createElement(component_library.zx,{variant:component_library.RN.SECONDARY,onClick:onCancel,block:!0,size:component_library.Gt.LG},t("reject")),react.createElement(component_library.zx,{variant:component_library.RN.PRIMARY,onClick:onSubmit,danger:!0,block:!0,size:component_library.Gt.LG},t("approveButtonText")))))};ConfirmationWarningModal.propTypes={onSubmit:prop_types_default().func,onCancel:prop_types_default().func},ConfirmationWarningModal.__docgenInfo={description:"",methods:[],displayName:"ConfirmationWarningModal",props:{onSubmit:{description:"Function that approves collection",type:{name:"func"},required:!1},onCancel:{description:"Function that rejects collection",type:{name:"func"},required:!1}}};const confirmation_warning_modal=ConfirmationWarningModal},"./ui/components/ui/callout/callout.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Callout});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_icon_info_icon_inverted_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/icon/info-icon-inverted.component.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_shared_constants_time__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/constants/time.ts"),_component_library__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/component-library/index.ts");function Callout({severity,children,dismiss,isFirst,isLast,isMultiple}){const[removed,setRemoved]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),calloutClassName=classnames__WEBPACK_IMPORTED_MODULE_1___default()("callout",`callout--${severity}`,{"callout--dismissed":!0===removed,"callout--multiple":!0===isMultiple,"callout--dismissible":Boolean(dismiss),"callout--first":!0===isFirst||!0!==isMultiple,"callout--last":!0===isLast||!0!==isMultiple});return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{removed&&setTimeout((()=>{dismiss()}),500*_shared_constants_time__WEBPACK_IMPORTED_MODULE_4__.KP)}),[removed,dismiss]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:calloutClassName},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icon_info_icon_inverted_component__WEBPACK_IMPORTED_MODULE_2__.Z,{severity}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_5__.xv,{color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.d9.textDefault,className:"callout__content"},children),dismiss&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_5__.Ei,{iconName:_component_library__WEBPACK_IMPORTED_MODULE_5__.uH.Close,size:_component_library__WEBPACK_IMPORTED_MODULE_5__.Jh.Sm,className:"callout__close-button",onClick:()=>{setRemoved(!0)},onKeyUp:event=>{"Enter"===event.key&&setRemoved(!0)}}))}Callout.propTypes={severity:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOf(Object.values(_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.zb)).isRequired,children:prop_types__WEBPACK_IMPORTED_MODULE_6___default().node.isRequired,dismiss:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func,isFirst:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,isLast:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,isMultiple:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool},Callout.__docgenInfo={description:"@deprecated `<Callout />` has been deprecated in favor of the `<BannerAlert />`\ncomponent in ./ui/components/component-library/banner-alert/banner-alert.js.\nSee storybook documentation for BannerAlert here:\n{@see {@link https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-banneralert--default-story#banneralert}}\n\nHelp to replace `Callout` with `BannerAlert` by submitting a PR",methods:[],displayName:"Callout",props:{severity:{description:"",type:{name:"enum",computed:!0,value:"Object.values(Severity)"},required:!0},children:{description:"",type:{name:"node"},required:!0},dismiss:{description:"",type:{name:"func"},required:!1},isFirst:{description:"",type:{name:"bool"},required:!1},isLast:{description:"",type:{name:"bool"},required:!1},isMultiple:{description:"",type:{name:"bool"},required:!1}}}},"./ui/components/ui/icon/info-icon-inverted.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>InfoIconInverted});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts");function InfoIconInverted({severity}){const className=classnames__WEBPACK_IMPORTED_MODULE_1___default()("info-icon",{"info-icon--success":severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.t3.SUCCESS,"info-icon--warning":severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.t3.WARNING,"info-icon--danger":severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.t3.DANGER,"info-icon--info":severity===_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.t3.INFO});return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M15.75 8C15.75 3.75 12.25 0.25 8 0.25C3.71875 0.25 0.25 3.75 0.25 8C0.25 12.2812 3.71875 15.75 8 15.75C12.25 15.75 15.75 12.2812 15.75 8ZM8 9.5625C8.78125 9.5625 9.4375 10.2188 9.4375 11C9.4375 11.8125 8.78125 12.4375 8 12.4375C7.1875 12.4375 6.5625 11.8125 6.5625 11C6.5625 10.2188 7.1875 9.5625 8 9.5625ZM6.625 4.40625C6.59375 4.1875 6.78125 4 7 4H8.96875C9.1875 4 9.375 4.1875 9.34375 4.40625L9.125 8.65625C9.09375 8.875 8.9375 9 8.75 9H7.21875C7.03125 9 6.875 8.875 6.84375 8.65625L6.625 4.40625Z"}))}InfoIconInverted.propTypes={severity:prop_types__WEBPACK_IMPORTED_MODULE_3___default().oneOf(Object.values(_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.t3))},InfoIconInverted.__docgenInfo={description:"@deprecated This has been deprecated in favor of the `<Icon />` component in ./ui/components/component-library/icon/icon.js\nSee storybook documentation for Icon here https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-icon--default-story#icon",methods:[],displayName:"InfoIconInverted",props:{severity:{description:"Severity can be 1 of 4 states:'danger', 'warning', 'info' or 'success'",type:{name:"enum",computed:!0,value:"Object.values(SEVERITIES)"},required:!1}}}},"./ui/pages/confirmation/confirmation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ConfirmationPage});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),immer_esm=__webpack_require__("./node_modules/immer/dist/immer.esm.js"),loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel_default=__webpack_require__.n(loglevel),dist=__webpack_require__("./node_modules/@metamask/controller-utils/dist/index.js"),fetch_with_cache=__webpack_require__("./shared/lib/fetch-with-cache.ts"),box=__webpack_require__("./ui/components/ui/box/index.js"),metamask_template_renderer=__webpack_require__("./ui/components/app/metamask-template-renderer/index.js"),confirmation_warning_modal=__webpack_require__("./ui/components/app/confirmation-warning-modal/index.js"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),selectors=__webpack_require__("./ui/selectors/index.js"),network_display=__webpack_require__("./ui/components/app/network-display/network-display.js"),callout=__webpack_require__("./ui/components/ui/callout/callout.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),spinner=__webpack_require__("./ui/components/ui/spinner/index.js");const LoadingScreen=({header,loadingMessage,showLoadingSpinner=!0})=>react.createElement(component_library.xu,{className:"loading-overlay"},header,react.createElement(component_library.xu,{className:"loading-overlay__container",marginBottom:3},showLoadingSpinner&&react.createElement(spinner.Z,{color:"var(--color-warning-default)",className:"loading-overlay__spinner"})),react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,justifyContent:design_system.E0.center,alignItems:design_system.g1.center},loadingMessage?(0,react.isValidElement)(loadingMessage)?loadingMessage:react.createElement("span",{style:{textAlign:"center"}},loadingMessage):null));LoadingScreen.propTypes={header:prop_types_default().element,loadingMessage:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().element]),showLoadingSpinner:prop_types_default().bool},LoadingScreen.__docgenInfo={description:"",methods:[],displayName:"LoadingScreen",props:{showLoadingSpinner:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},header:{description:"",type:{name:"element"},required:!1},loadingMessage:{description:"",type:{name:"union",value:[{name:"string"},{name:"element"}]},required:!1}}};const loading_screen=react.memo(LoadingScreen);var snap_authorship_header=__webpack_require__("./ui/components/app/snaps/snap-authorship-header/index.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),app=__webpack_require__("./shared/constants/app.ts"),time=__webpack_require__("./shared/constants/time.ts"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),ui_button=__webpack_require__("./ui/components/ui/button/index.js");function ConfirmationFooter({onSubmit,onCancel,submitText,cancelText,loadingText,alerts,loading,submitAlerts,actionsStyle,style}){return react.createElement("div",{className:"confirmation-footer",style},alerts,submitAlerts,react.createElement("div",{className:"confirmation-footer__actions",style:actionsStyle},onCancel?react.createElement(ui_button.Z,{"data-testid":"confirmation-cancel-button",type:"secondary",onClick:onCancel},cancelText):null,onSubmit&&submitText?react.createElement(ui_button.Z,{"data-testid":"confirmation-submit-button",disabled:Boolean(loading),type:"primary",onClick:onSubmit,className:classnames_default()({centered:!onCancel})},loading?loadingText:submitText):null))}ConfirmationFooter.propTypes={alerts:prop_types_default().node,onCancel:prop_types_default().func,cancelText:prop_types_default().string,onSubmit:prop_types_default().func.isRequired,submitText:prop_types_default().string.isRequired,loadingText:prop_types_default().string,loading:prop_types_default().bool,submitAlerts:prop_types_default().node,style:prop_types_default().object,actionsStyle:prop_types_default().object},ConfirmationFooter.__docgenInfo={description:"",methods:[],displayName:"ConfirmationFooter",props:{alerts:{description:"",type:{name:"node"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!0},submitText:{description:"",type:{name:"string"},required:!0},loadingText:{description:"",type:{name:"string"},required:!1},loading:{description:"",type:{name:"bool"},required:!1},submitAlerts:{description:"",type:{name:"node"},required:!1},style:{description:"",type:{name:"object"},required:!1},actionsStyle:{description:"",type:{name:"object"},required:!1}}};var templates=__webpack_require__("./ui/pages/confirmation/templates/index.js");const alertStateReducer=(0,immer_esm.produce)(((state,action)=>{var _state$action$confirm;switch(action.type){case"dismiss":null!=state&&null!==(_state$action$confirm=state[action.confirmationId])&&void 0!==_state$action$confirm&&_state$action$confirm[action.alertId]&&(state[action.confirmationId][action.alertId].dismissed=!0);break;case"set":state[action.confirmationId]||(state[action.confirmationId]={}),action.alerts.forEach((alert=>{state[action.confirmationId][alert.id]={...alert,dismissed:!1}}));break;default:throw new Error("You must provide a type when dispatching an action for alertState")}}));function ConfirmationPage({redirectToHomeOnZeroConfirmations=!0}){const t=(0,useI18nContext.C)(),dispatch=(0,es.I0)(),history=(0,react_router.k6)(),pendingConfirmations=(0,es.v9)(selectors.dTW,lodash.isEqual),unapprovedTxsCount=(0,es.v9)(selectors.OqQ),approvalFlows=(0,es.v9)(selectors.mE2,lodash.isEqual),totalUnapprovedCount=(0,es.v9)(selectors.wO7),useSafeChainsListValidation=(0,es.v9)(selectors.v8b),[approvalFlowLoadingText,setApprovalFlowLoadingText]=(0,react.useState)(null),[currentPendingConfirmation,setCurrentPendingConfirmation]=(0,react.useState)(0),pendingConfirmation=pendingConfirmations[currentPendingConfirmation],[matchedChain,setMatchedChain]=(0,react.useState)({}),[chainFetchComplete,setChainFetchComplete]=(0,react.useState)(!1),preventAlertsForAddChainValidation=(null==pendingConfirmation?void 0:pendingConfirmation.type)===dist.ApprovalType.AddEthereumChain&&!chainFetchComplete,[currencySymbolWarning,setCurrencySymbolWarning]=(0,react.useState)(null),[providerError,setProviderError]=(0,react.useState)(null),[alertState,dismissAlert]=function useAlertState(pendingConfirmation,{unapprovedTxsCount,useSafeChainsListValidation,matchedChain,providerError,preventAlertsForAddChainValidation=!1}={}){const[alertState,dispatch]=(0,react.useReducer)(alertStateReducer,{});return(0,react.useEffect)((()=>{let isMounted=!0;return pendingConfirmation&&!preventAlertsForAddChainValidation&&(0,templates.QG)(pendingConfirmation,{unapprovedTxsCount,useSafeChainsListValidation,matchedChain,providerError}).then((alerts=>{isMounted&&alerts.length>0&&dispatch({type:"set",confirmationId:pendingConfirmation.id,alerts})})),()=>{isMounted=!1}}),[pendingConfirmation,unapprovedTxsCount,useSafeChainsListValidation,matchedChain,providerError,preventAlertsForAddChainValidation]),[alertState,(0,react.useCallback)((alertId=>{dispatch({type:"dismiss",confirmationId:pendingConfirmation.id,alertId})}),[pendingConfirmation])]}(pendingConfirmation,{unapprovedTxsCount,useSafeChainsListValidation,matchedChain,providerError,preventAlertsForAddChainValidation}),[templateState]=function useTemplateState(pendingConfirmation){const[templateState,setTemplateState]=(0,react.useState)({});return(0,react.useEffect)((()=>{let isMounted=!0;return pendingConfirmation&&(0,templates.fj)(pendingConfirmation).then((state=>{isMounted&&Object.values(state).length>0&&setTemplateState((prevState=>({...prevState,[pendingConfirmation.id]:state})))})),()=>{isMounted=!1}}),[pendingConfirmation]),[templateState]}(pendingConfirmation),[showWarningModal,setShowWarningModal]=(0,react.useState)(!1),[inputStates,setInputStates]=(0,react.useState)({}),setInputState=(key,value)=>{setInputStates((currentState=>({...currentState,[key]:value})))},[loading,setLoading]=(0,react.useState)(!1),[loadingText,setLoadingText]=(0,react.useState)(),[submitAlerts,setSubmitAlerts]=(0,react.useState)([]),targetSubjectMetadata=(0,es.v9)((state=>(0,selectors.h5U)(state,null==pendingConfirmation?void 0:pendingConfirmation.origin))),SNAP_DIALOG_TYPE=[dist.ApprovalType.SnapDialogAlert,dist.ApprovalType.SnapDialogConfirmation,dist.ApprovalType.SnapDialogPrompt];SNAP_DIALOG_TYPE.push(...Object.values(app.iR));const isSnapDialog=SNAP_DIALOG_TYPE.includes(null==pendingConfirmation?void 0:pendingConfirmation.type);let useSnapHeader=isSnapDialog;const snapName=isSnapDialog&&targetSubjectMetadata&&(0,util.NZ)(null==pendingConfirmation?void 0:pendingConfirmation.origin,targetSubjectMetadata),INPUT_STATE_CONFIRMATIONS=[dist.ApprovalType.SnapDialogPrompt];Object.values(app.iR).includes(null==pendingConfirmation?void 0:pendingConfirmation.type)&&(useSnapHeader=!1);const templatedValues=(0,react.useMemo)((()=>pendingConfirmation?(0,templates.m9)({snapName:isSnapDialog&&snapName,...pendingConfirmation},t,dispatch,history,setInputState,{matchedChain,currencySymbolWarning}):{}),[pendingConfirmation,t,dispatch,history,matchedChain,currencySymbolWarning,isSnapDialog,snapName]);if((0,react.useEffect)((()=>{0!==pendingConfirmations.length||0!==approvalFlows.length&&0===totalUnapprovedCount||!redirectToHomeOnZeroConfirmations?pendingConfirmations.length&&pendingConfirmations.length<=currentPendingConfirmation&&setCurrentPendingConfirmation(pendingConfirmations.length-1):history.push(routes.QO)}),[pendingConfirmations,approvalFlows,totalUnapprovedCount,history,currentPendingConfirmation,redirectToHomeOnZeroConfirmations]),(0,react.useEffect)((()=>{const childFlow=approvalFlows[approvalFlows.length-1];setApprovalFlowLoadingText((null==childFlow?void 0:childFlow.loadingText)??null)}),[approvalFlows]),(0,react.useEffect)((()=>{(null==pendingConfirmation?void 0:pendingConfirmation.type)===dist.ApprovalType.AddEthereumChain&&async function fetchSafeChainsList(_pendingConfirmation){try{if(useSafeChainsListValidation){var _matchedChain$nativeC,_pendingConfirmation$;const _matchedChain=(await(0,fetch_with_cache.Z)({url:"https://chainid.network/chains.json",cacheOptions:{cacheRefreshTime:time.x4},functionName:"getSafeChainsList"})).find((chain=>chain.chainId===parseInt(_pendingConfirmation.requestData.chainId,16)));var _matchedChain$nativeC2;setMatchedChain(_matchedChain),setChainFetchComplete(!0),setProviderError(null),(null==_matchedChain||null===(_matchedChain$nativeC=_matchedChain.nativeCurrency)||void 0===_matchedChain$nativeC||null===(_matchedChain$nativeC=_matchedChain$nativeC.symbol)||void 0===_matchedChain$nativeC?void 0:_matchedChain$nativeC.toLowerCase())===(null===(_pendingConfirmation$=_pendingConfirmation.requestData.ticker)||void 0===_pendingConfirmation$?void 0:_pendingConfirmation$.toLowerCase())?setCurrencySymbolWarning(null):setCurrencySymbolWarning(t("chainListReturnedDifferentTickerSymbol",[null==_matchedChain||null===(_matchedChain$nativeC2=_matchedChain.nativeCurrency)||void 0===_matchedChain$nativeC2?void 0:_matchedChain$nativeC2.symbol]))}}catch(error){loglevel_default().warn("Failed to fetch the chainList from chainid.network",error),setProviderError(error),setMatchedChain(null),setCurrencySymbolWarning(null),setChainFetchComplete(!0)}}(pendingConfirmation)}),[pendingConfirmation,t,useSafeChainsListValidation,setChainFetchComplete]),!pendingConfirmation)return approvalFlows.length>0?react.createElement(loading_screen,{loadingMessage:approvalFlowLoadingText}):null;const handleSubmitResult=submitResult=>{(null==submitResult?void 0:submitResult.length)>0?(setLoadingText(templatedValues.submitText),setSubmitAlerts(submitResult),setLoading(!0)):setLoading(!1)};return react.createElement("div",{className:"confirmation-page"},pendingConfirmations.length>1&&react.createElement("div",{className:"confirmation-page__navigation"},react.createElement("p",null,t("xOfYPending",[currentPendingConfirmation+1,pendingConfirmations.length])),currentPendingConfirmation>0&&react.createElement("button",{className:"confirmation-page__navigation-button",onClick:()=>setCurrentPendingConfirmation(currentPendingConfirmation-1)},react.createElement(component_library.JO,{name:component_library.uH.ArrowLeft})),react.createElement("button",{className:"confirmation-page__navigation-button",disabled:currentPendingConfirmation+1===pendingConfirmations.length,onClick:()=>setCurrentPendingConfirmation(currentPendingConfirmation+1)},react.createElement(component_library.JO,{name:component_library.uH.ArrowRight}))),react.createElement("div",{className:"confirmation-page__content"},templatedValues.networkDisplay?react.createElement(box.ZP,{justifyContent:"center",marginTop:2},react.createElement(network_display.Z,{indicatorSize:design_system.$u.XS,labelProps:{color:design_system.d9.textDefault}})):null,useSnapHeader&&react.createElement(snap_authorship_header.Z,{snapId:null==pendingConfirmation?void 0:pendingConfirmation.origin}),react.createElement(metamask_template_renderer.Z,{sections:templatedValues.content}),showWarningModal&&react.createElement(confirmation_warning_modal.Z,{onSubmit:async()=>{const res=await templatedValues.onSubmit();await handleSubmitResult(res),setShowWarningModal(!1)},onCancel:templatedValues.onCancel})),react.createElement(ConfirmationFooter,{alerts:alertState[pendingConfirmation.id]&&Object.values(alertState[pendingConfirmation.id]).filter((alert=>!1===alert.dismissed)).map(((alert,idx,filtered)=>react.createElement(callout.Z,{key:alert.id,severity:alert.severity,dismiss:()=>dismissAlert(alert.id),isFirst:0===idx,isLast:idx===filtered.length-1,isMultiple:filtered.length>1},react.createElement(metamask_template_renderer.Z,{sections:alert.content})))),style:isSnapDialog?{boxShadow:"var(--shadow-size-lg) var(--color-shadow-default)"}:{},actionsStyle:isSnapDialog?{borderTop:0}:{},onSubmit:async()=>{var _templateState$pendin,type;if(setLoading(!0),null!==(_templateState$pendin=templateState[pendingConfirmation.id])&&void 0!==_templateState$pendin&&_templateState$pendin.useWarningModal)setShowWarningModal(!0);else{const inputState=(type=pendingConfirmation.type,INPUT_STATE_CONFIRMATIONS.includes(type)?(type=>inputStates[type]??"")(pendingConfirmation.type):null),submitResult=await templatedValues.onSubmit(inputState);handleSubmitResult(submitResult)}},onCancel:templatedValues.onCancel,submitText:templatedValues.submitText,cancelText:templatedValues.cancelText,loadingText:loadingText||templatedValues.loadingText,loading,submitAlerts:submitAlerts.map(((alert,idx)=>react.createElement(callout.Z,{key:alert.id,severity:alert.severity,isFirst:0===idx},react.createElement(metamask_template_renderer.Z,{sections:alert.content}))))}))}ConfirmationPage.propTypes={redirectToHomeOnZeroConfirmations:prop_types_default().bool},ConfirmationPage.__docgenInfo={description:"",methods:[],displayName:"ConfirmationPage",props:{redirectToHomeOnZeroConfirmations:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1}}}}}]);