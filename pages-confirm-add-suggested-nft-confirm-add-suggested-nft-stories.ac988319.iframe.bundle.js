"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[8570],{"./ui/pages/confirm-add-suggested-nft/confirm-add-suggested-nft.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,WithMultipleSuggestedNFTs:()=>WithMultipleSuggestedNFTs,__namedExportsOrder:()=>__namedExportsOrder,default:()=>confirm_add_suggested_nft_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),dist=__webpack_require__("./node_modules/@metamask/controller-utils/dist/index.js"),store=__webpack_require__("./ui/store/store.ts"),test_data=__webpack_require__("./.storybook/test-data.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),eth_rpc_errors_dist=__webpack_require__("./node_modules/eth-rpc-errors/dist/index.js"),etherscan_link_dist=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),page_container=__webpack_require__("./ui/components/ui/page-container/index.js"),i18n=__webpack_require__("./ui/contexts/i18n.js"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),history_history=__webpack_require__("./ui/ducks/history/history.js"),actions=__webpack_require__("./ui/store/actions.ts"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts"),transaction=__webpack_require__("./shared/constants/transaction.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),selectors=__webpack_require__("./ui/selectors/index.js"),nft_default_image=__webpack_require__("./ui/components/app/nft-default-image/nft-default-image.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),network_account_balance_header=__webpack_require__("./ui/components/app/network-account-balance-header/network-account-balance-header.js"),network=__webpack_require__("./shared/constants/network.ts"),site_origin=__webpack_require__("./ui/components/ui/site-origin/site-origin.js"),common=__webpack_require__("./ui/helpers/constants/common.ts"),useUserPreferencedCurrency=__webpack_require__("./ui/hooks/useUserPreferencedCurrency.js"),useCurrencyDisplay=__webpack_require__("./ui/hooks/useCurrencyDisplay.js"),useOriginMetadata=__webpack_require__("./ui/hooks/useOriginMetadata.js");const ConfirmAddSuggestedNFT=()=>{var _suggestedNfts$;const t=(0,react.useContext)(i18n.OO),dispatch=(0,es.I0)(),history=(0,react_router.k6)(),mostRecentOverviewPage=(0,es.v9)(history_history.H7),suggestedNfts=(0,es.v9)(selectors.u1J).sort(((a,b)=>a.requestData.asset.tokenId-b.requestData.asset.tokenId)),rpcPrefs=(0,es.v9)(selectors.Kzx),chainId=(0,es.v9)(selectors.BVZ),ipfsGateway=(0,es.v9)(selectors.HW1),trackEvent=(0,react.useContext)(metametrics.Wd),networkIdentifier=(0,es.v9)(selectors.ZCT),{address:selectedAddress}=(0,es.v9)(selectors.E7u),selectedAccountBalance=(0,es.v9)(selectors._ot),accountName=(0,es.v9)((state=>(0,selectors.XGH)(state,selectedAddress))),networkName=network.kW[chainId]||networkIdentifier,{currency:primaryCurrency,numberOfDecimals:primaryNumberOfDecimals}=(0,useUserPreferencedCurrency.I)(common._8,{ethNumberOfDecimals:4}),[primaryCurrencyValue]=(0,useCurrencyDisplay._)(selectedAccountBalance,{numberOfDecimals:primaryNumberOfDecimals,currency:primaryCurrency}),originMetadata=(0,useOriginMetadata.j)(null===(_suggestedNfts$=suggestedNfts[0])||void 0===_suggestedNfts$?void 0:_suggestedNfts$.origin)||{},handleAddNftsClick=(0,react.useCallback)((async()=>{await Promise.all(suggestedNfts.map((async({requestData:{asset},id})=>{await dispatch((0,actions.a__)(id,null)),trackEvent({event:constants_metametrics.AW.NftAdded,category:constants_metametrics.ci.Wallet,sensitiveProperties:{token_contract_address:asset.address,token_symbol:asset.symbol,token_id:asset.tokenId,token_standard:asset.standard,asset_type:transaction.h3.NFT,source:constants_metametrics.iL.Dapp}})}))),history.push(mostRecentOverviewPage)}),[dispatch,history,trackEvent,mostRecentOverviewPage,suggestedNfts]),handleCancelNftClick=(0,react.useCallback)((async()=>{await Promise.all(suggestedNfts.map((async({id})=>dispatch((0,actions.YCK)(id,(0,eth_rpc_errors_dist.Xy)(eth_rpc_errors_dist.Sy.provider.userRejectedRequest())))))),history.push(mostRecentOverviewPage)}),[dispatch,history,mostRecentOverviewPage,suggestedNfts]);let origin,link;if((0,react.useEffect)((()=>{suggestedNfts.length||history.push(mostRecentOverviewPage)}),[history,mostRecentOverviewPage,suggestedNfts]),suggestedNfts.length)try{const url=new URL(suggestedNfts[0].origin);origin=url.host,link=url.href}catch{origin="dapp"}return react.createElement(component_library.xu,{height:design_system.Sw.Full,width:design_system.Sw.Full,display:design_system.sS.Flex,flexDirection:design_system.Qb.Column},react.createElement(component_library.xu,{paddingBottom:2,className:"confirm-add-suggested-nft__header"},react.createElement(network_account_balance_header.Z,{accountName,accountBalance:primaryCurrencyValue,accountAddress:selectedAddress,networkName,chainId}),react.createElement(component_library.xu,{paddingTop:4,paddingRight:4,paddingLeft:4,display:design_system.sS.Flex,justifyContent:design_system.E0.center},react.createElement(site_origin.Z,{chip:!0,siteOrigin:originMetadata.origin,title:originMetadata.origin,iconSrc:originMetadata.iconUrl,iconName:originMetadata.hostname})),react.createElement(component_library.xv,{variant:design_system.rK.headingLg,textAlign:design_system.PH.Center,margin:2},t("addSuggestedNFTs")),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,textAlign:design_system.PH.Center},t("wantsToAddThisAsset",["dapp"===origin?react.createElement(component_library.xv,{key:origin,variant:design_system.rK.bodyMd,fontWeight:"bold"},origin):react.createElement(component_library.ZP,{key:origin,size:component_library.Gt.INHERIT,href:link,target:"_blank"},origin)]))),react.createElement(component_library.xu,{className:"confirm-add-suggested-nft__content"},react.createElement(component_library.xu,{className:"confirm-add-suggested-nft__card",padding:2,borderRadius:design_system.cM.MD},react.createElement(component_library.xu,{className:classnames_default()({"confirm-add-suggested-nft__nft-list":suggestedNfts.length>1})},suggestedNfts.map((({id,requestData:{asset:{address,tokenId,symbol,image,name}}})=>{const nftImageURL=(0,util.MP)(image,ipfsGateway),blockExplorerLink=(0,etherscan_link_dist.getTokenTrackerLink)(address,chainId,null,null,{blockExplorerUrl:(null==rpcPrefs?void 0:rpcPrefs.blockExplorerUrl)??null});return 1===suggestedNfts.length?react.createElement(component_library.xu,{className:"confirm-add-suggested-nft__nft-single",key:`confirm-add-suggested-nft__nft-single-${id}`,borderRadius:design_system.cM.MD,margin:0,padding:0},nftImageURL?react.createElement("img",{className:"confirm-add-suggested-nft__nft-single-image",src:nftImageURL,alt:name||tokenId}):react.createElement(nft_default_image.Z,{className:"confirm-add-suggested-nft__nft-single-image-default",tokenId,name:name||symbol||(0,util.$Q)(address)}),react.createElement(component_library.xu,{padding:1,display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,justifyContent:design_system.E0.spaceBetween,alignItems:design_system.g1.Center},react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.spaceEvenly,flexWrap:design_system.gP.NoWrap,width:design_system.Sw.Full,className:"confirm-add-suggested-nft__nft-single-sub-details"},rpcPrefs.blockExplorerUrl?react.createElement(component_library.ZP,{className:"confirm-add-suggested-nft__nft-name",href:blockExplorerLink,title:address,target:"_blank",size:component_library.Gt.INHERIT},name||symbol||(0,util.$Q)(address)):react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,className:"confirm-add-suggested-nft__nft-name",title:address},name||symbol||(0,util.$Q)(address)),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,className:"confirm-add-suggested-nft__nft-tokenId"},"#",tokenId)))):react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,flexWrap:design_system.gP.NoWrap,alignItems:design_system.g1.Center,justifyContent:design_system.E0.spaceBetween,marginBottom:4,className:"confirm-add-suggested-nft__nft-list-item",key:`${address}-${tokenId}`},react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,flexWrap:design_system.gP.NoWrap,alignItems:design_system.g1.Center,justifyContent:design_system.E0.spaceBetween},nftImageURL?react.createElement("img",{className:"confirm-add-suggested-nft__nft-image",src:nftImageURL,alt:name||tokenId}):react.createElement(nft_default_image.Z,{className:"confirm-add-suggested-nft__nft-image-default"}),react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.spaceEvenly,flexWrap:design_system.gP.NoWrap,width:design_system.Sw.Full,className:"confirm-add-suggested-nft__nft-sub-details"},rpcPrefs.blockExplorerUrl?react.createElement(component_library.ZP,{className:"confirm-add-suggested-nft__nft-name",href:blockExplorerLink,title:address,target:"_blank",size:component_library.Gt.INHERIT},name||symbol||(0,util.$Q)(address)):react.createElement(component_library.xv,{variant:design_system.rK.bodySm,className:"confirm-add-suggested-nft__nft-name",title:address},name||symbol||(0,util.$Q)(address)),react.createElement(component_library.xv,{variant:design_system.rK.bodySm,className:"confirm-add-suggested-nft__nft-tokenId"},"#",tokenId))),react.createElement(component_library.Ei,{className:"confirm-add-suggested-nft__nft-remove","data-testid":`confirm-add-suggested-nft__nft-remove-${id}`,iconName:component_library.uH.Close,size:component_library.hp.Sm,color:design_system.EY.iconMuted,onClick:e=>{e.preventDefault(),e.stopPropagation(),dispatch((0,actions.YCK)(id,(0,eth_rpc_errors_dist.Xy)(eth_rpc_errors_dist.Sy.provider.userRejectedRequest())))}}))}))))),react.createElement(page_container.g$,{cancelText:t("cancel"),submitText:1===suggestedNfts.length?t("addNft"):t("addNfts"),onCancel:handleCancelNftClick,onSubmit:handleAddNftsClick}))};ConfirmAddSuggestedNFT.__docgenInfo={description:"",methods:[],displayName:"ConfirmAddSuggestedNFT"};const confirm_add_suggested_nft=ConfirmAddSuggestedNFT;var _DefaultStory$paramet,_DefaultStory$paramet2,_WithMultipleSuggeste,_WithMultipleSuggeste2;const pendingNftApprovals={1:{id:"1",origin:"https://www.opensea.io",time:1,type:dist.ApprovalType.WatchAsset,requestData:{asset:{address:"0xb7F7F6C52F2e2fdb1963Eab30438024864c313F6",name:"Wrapped CryptoPunks",tokenId:"1848",standard:"ERC721",image:"https://images.wrappedpunks.com/images/punks/1848.png"}}},2:{id:"2",origin:"https://www.nft-collector.io",time:1,type:dist.ApprovalType.WatchAsset,requestData:{asset:{address:"0xC8c77482e45F1F44dE1745F52C74426C631bDD51",name:"Legends of the Dance Floor",tokenId:"1",standard:"ERC721",image:"https://www.miladymaker.net/milady/736.png"}}}},confirm_add_suggested_nft_stories_store=(0,store.Z)({metamask:{...test_data.default.metamask,pendingApprovals:{1:Object.values(pendingNftApprovals)[0]}}}),confirm_add_suggested_nft_stories={title:"Pages/ConfirmAddSuggestedNFT",decorators:[story=>react.createElement(es.zt,{store:confirm_add_suggested_nft_stories_store},story())]},DefaultStory=()=>react.createElement(confirm_add_suggested_nft,null);DefaultStory.storyName="Default";const WithMultipleSuggestedNFTs=()=>react.createElement(confirm_add_suggested_nft,null),WithDuplicateAddressStore=(0,store.Z)({metamask:{...test_data.default.metamask,pendingApprovals:pendingNftApprovals}});WithMultipleSuggestedNFTs.decorators=[story=>react.createElement(es.zt,{store:WithDuplicateAddressStore},story())],DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"() => <ConfirmAddSuggestedNFT />",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}},WithMultipleSuggestedNFTs.parameters={...WithMultipleSuggestedNFTs.parameters,docs:{...null===(_WithMultipleSuggeste=WithMultipleSuggestedNFTs.parameters)||void 0===_WithMultipleSuggeste?void 0:_WithMultipleSuggeste.docs,source:{originalSource:"() => <ConfirmAddSuggestedNFT />",...null===(_WithMultipleSuggeste2=WithMultipleSuggestedNFTs.parameters)||void 0===_WithMultipleSuggeste2||null===(_WithMultipleSuggeste2=_WithMultipleSuggeste2.docs)||void 0===_WithMultipleSuggeste2?void 0:_WithMultipleSuggeste2.source}}};const __namedExportsOrder=["DefaultStory","WithMultipleSuggestedNFTs"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"},WithMultipleSuggestedNFTs.__docgenInfo={description:"",methods:[],displayName:"WithMultipleSuggestedNFTs"}},"./ui/components/app/network-account-balance-header/network-account-balance-header.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>NetworkAccountBalanceHeader});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_ui_icon_with_fallback__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/ui/icon-with-fallback/index.js"),_ui_identicon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/identicon/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_ui_box_box__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/ui/box/box.js"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/contexts/i18n.js"),_shared_constants_network__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./shared/constants/network.ts"),_component_library__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/component-library/index.ts");function NetworkAccountBalanceHeader({networkName,accountName,accountBalance,tokenName,accountAddress,chainId}){const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_5__.OO),networkIcon=_shared_constants_network__WEBPACK_IMPORTED_MODULE_6__.uM[chainId],networkIconWrapperClass=networkIcon?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.sS.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.Qb.Row,padding:4,className:"network-account-balance-header",alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.g1.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.E0.spaceBetween},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.sS.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.Qb.Row,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.g1.center,gap:2},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.sS.Flex,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.Qb.Row,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.g1.center},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_identicon__WEBPACK_IMPORTED_MODULE_2__.Z,{address:accountAddress,diameter:32}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_icon_with_fallback__WEBPACK_IMPORTED_MODULE_1__.Z,{name:networkName,size:16,icon:networkIcon,wrapperClassName:networkIconWrapperClass})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.g1.flexStart,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.Qb.Column},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_7__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.rK.bodySm,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.d9.textAlternative},networkName),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_7__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.rK.bodySm,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.d9.textDefault,fontWeight:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.U9.Bold},accountName))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.sS.Flex,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.g1.flexEnd,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.Qb.Column},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_7__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.rK.bodySm,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.d9.textAlternative},t("balance")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_7__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.rK.bodySm,as:"h6",color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.d9.textDefault,fontWeight:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.U9.Bold,align:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_3__.PH.End},accountBalance," ",tokenName)))}NetworkAccountBalanceHeader.propTypes={networkName:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,accountName:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,accountBalance:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,tokenName:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,accountAddress:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,chainId:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string},NetworkAccountBalanceHeader.__docgenInfo={description:"",methods:[],displayName:"NetworkAccountBalanceHeader",props:{networkName:{description:"",type:{name:"string"},required:!1},accountName:{description:"",type:{name:"string"},required:!1},accountBalance:{description:"",type:{name:"string"},required:!1},tokenName:{description:"",type:{name:"string"},required:!1},accountAddress:{description:"",type:{name:"string"},required:!1},chainId:{description:"",type:{name:"string"},required:!1}}}},"./ui/components/ui/identicon/blockieIdenticon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/blockieIdenticon.component.js")},"./ui/components/ui/identicon/identicon.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Identicon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),_jazzicon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/jazzicon/index.js"),_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/util.js"),_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const getStyles=diameter=>({height:diameter,width:diameter,borderRadius:diameter/2});class Identicon extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),_defineProperty(this,"state",{imageLoadingError:!1})}renderImage(){const{className,diameter,alt,imageBorder,ipfsGateway}=this.props;let{image}=this.props;return Array.isArray(image)&&image.length&&(image=image[0]),"string"==typeof image&&image.toLowerCase().startsWith("ipfs://")&&(image=(0,_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__.MP)(image,ipfsGateway)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className,{"identicon__image-border":imageBorder}),src:image,style:getStyles(diameter),alt,onError:()=>{this.setState({imageLoadingError:!0})}})}renderJazzicon(){const{address,className,diameter,alt,tokenList}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jazzicon__WEBPACK_IMPORTED_MODULE_3__.Z,{address,diameter,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter),alt,tokenList})}renderBlockie(){const{address,className,diameter,alt}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__.Z,{address,diameter,alt}))}renderBlockieOrJazzIcon(){const{useBlockie}=this.props;return useBlockie?this.renderBlockie():this.renderJazzicon()}shouldComponentUpdate(nextProps,nextState){return!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextProps,this.props)||!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextState,this.state)}render(){const{address,image,addBorder,diameter,tokenList}=this.props,{imageLoadingError}=this.state,size=diameter+8;return imageLoadingError?this.renderBlockieOrJazzIcon():image?this.renderImage():address?null!==(_tokenList$address$to=tokenList[address.toLowerCase()])&&void 0!==_tokenList$address$to&&_tokenList$address$to.iconUrl?this.renderJazzicon():react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"identicon__address-wrapper":addBorder}),style:addBorder?getStyles(size):null},this.renderBlockieOrJazzIcon()):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:getStyles(diameter),className:"identicon__image-border"});var _tokenList$address$to}}_defineProperty(Identicon,"propTypes",{addBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,address:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,diameter:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,image:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,prop_types__WEBPACK_IMPORTED_MODULE_6___default().array]),useBlockie:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,alt:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,imageBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,tokenList:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,ipfsGateway:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string}),_defineProperty(Identicon,"defaultProps",{addBorder:!1,address:void 0,className:void 0,diameter:46,image:void 0,useBlockie:!1,alt:"",tokenList:{}}),Identicon.__docgenInfo={description:"",methods:[{name:"renderImage",docblock:null,modifiers:[],params:[],returns:null},{name:"renderJazzicon",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockie",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockieOrJazzIcon",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Identicon",props:{addBorder:{defaultValue:{value:"false",computed:!1},description:"Adds blue border around the Identicon used for selected account.\nIncreases the width and height of the Identicon by 8px",type:{name:"bool"},required:!1},address:{defaultValue:{value:"undefined",computed:!0},description:"Address used for generating random image",type:{name:"string"},required:!1},className:{defaultValue:{value:"undefined",computed:!0},description:"Add custom css class",type:{name:"string"},required:!1},diameter:{defaultValue:{value:"46",computed:!1},description:"Sets the width and height of the inner img element\nIf addBorder is true will increase components height and width by 8px",type:{name:"number"},required:!1},image:{defaultValue:{value:"undefined",computed:!0},description:"Used as the image source of the Identicon",type:{name:"union",value:[{name:"string"},{name:"array"}]},required:!1},useBlockie:{defaultValue:{value:"false",computed:!1},description:"Use the blockie type random image generator",type:{name:"bool"},required:!1},alt:{defaultValue:{value:"''",computed:!1},description:"The alt text of the image",type:{name:"string"},required:!1},tokenList:{defaultValue:{value:"{}",computed:!1},description:"Add list of token in object",type:{name:"object"},required:!1},imageBorder:{description:"Check if show image border",type:{name:"bool"},required:!1},ipfsGateway:{description:"User preferred IPFS gateway",type:{name:"string"},required:!1}}}},"./ui/components/ui/identicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>identicon_container});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),identicon_component=__webpack_require__("./ui/components/ui/identicon/identicon.component.js");const identicon_container=(0,es.$j)((state=>{const{metamask:{useBlockie,ipfsGateway}}=state;return{useBlockie,tokenList:(0,selectors.HJ)(state),ipfsGateway}}))(identicon_component.Z)},"./ui/components/ui/jazzicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_jazzicon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _jazzicon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/jazzicon/jazzicon.component.js")}}]);