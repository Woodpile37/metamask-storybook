"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[1410],{"./ui/pages/swaps/awaiting-signatures/awaiting-signatures.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>awaiting_signatures_stories});var _DefaultStory$paramet,_DefaultStory$paramet2,react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),isEqual=__webpack_require__("./node_modules/lodash/isEqual.js"),isEqual_default=__webpack_require__.n(isEqual),i18n=__webpack_require__("./ui/contexts/i18n.js"),swaps=__webpack_require__("./ui/ducks/swaps/swaps.js"),selectors=__webpack_require__("./ui/selectors/selectors.js"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),pulse_loader=__webpack_require__("./ui/components/ui/pulse-loader/index.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),swaps_footer=__webpack_require__("./ui/pages/swaps/swaps-footer/index.js"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);function SwapStepIcon({stepNumber=1}){switch(stepNumber){case 1:return react.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),react.createElement("path",{d:"M6.50983 5.192H5.27783L6.14183 4H7.71783V9.68H6.50983V5.192Z",fill:"var(--color-primary-default)"}));case 2:return react.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("circle",{cx:"7",cy:"7",r:"6.25",stroke:"var(--color-primary-default)",strokeWidth:"1.5"}),react.createElement("path",{d:"M8.92 9.776H5V9.368C5 9.048 5.056 8.77067 5.168 8.536C5.28 8.296 5.42133 8.08533 5.592 7.904C5.768 7.71733 5.96267 7.54933 6.176 7.4C6.39467 7.25067 6.608 7.10133 6.816 6.952C6.928 6.872 7.03467 6.78933 7.136 6.704C7.24267 6.61867 7.33333 6.53067 7.408 6.44C7.488 6.34933 7.552 6.256 7.6 6.16C7.648 6.064 7.672 5.96533 7.672 5.864C7.672 5.67733 7.616 5.52 7.504 5.392C7.39733 5.25867 7.22933 5.192 7 5.192C6.88267 5.192 6.776 5.21333 6.68 5.256C6.584 5.29333 6.50133 5.344 6.432 5.408C6.368 5.472 6.31733 5.54667 6.28 5.632C6.248 5.71733 6.232 5.808 6.232 5.904H5.024C5.024 5.62667 5.07467 5.37067 5.176 5.136C5.27733 4.90133 5.41867 4.70133 5.6 4.536C5.78133 4.36533 5.99467 4.23467 6.24 4.144C6.48533 4.048 6.752 4 7.04 4C7.28 4 7.50933 4.03733 7.728 4.112C7.952 4.18667 8.14933 4.29867 8.32 4.448C8.49067 4.59733 8.62667 4.784 8.728 5.008C8.82933 5.22667 8.88 5.48267 8.88 5.776C8.88 6.032 8.85067 6.25867 8.792 6.456C8.73333 6.648 8.65067 6.824 8.544 6.984C8.44267 7.13867 8.32 7.28 8.176 7.408C8.032 7.536 7.87733 7.66133 7.712 7.784C7.64267 7.832 7.55733 7.888 7.456 7.952C7.36 8.016 7.26133 8.08267 7.16 8.152C7.064 8.22133 6.97333 8.29333 6.888 8.368C6.80267 8.44267 6.74133 8.51467 6.704 8.584H8.92V9.776Z",fill:"var(--color-primary-default)"}));default:return}}function AwaitingSignatures(){const t=(0,react.useContext)(i18n.OO),history=(0,react_router.k6)(),dispatch=(0,es.I0)(),fetchParams=(0,es.v9)(swaps.Ky,isEqual_default()),{destinationTokenInfo,sourceTokenInfo}=(null==fetchParams?void 0:fetchParams.metaData)||{},approveTxParams=(0,es.v9)(swaps.MJ,es.wU),hardwareWalletUsed=(0,es.v9)(selectors.E9i),hardwareWalletType=(0,es.v9)(selectors.Jos),smartTransactionsOptInStatus=(0,es.v9)(swaps.oD),smartTransactionsEnabled=(0,es.v9)(swaps.j),currentSmartTransactionsEnabled=(0,es.v9)(swaps.ui),needsTwoConfirmations=Boolean(approveTxParams),trackEvent=(0,react.useContext)(metametrics.Wd);(0,react.useEffect)((()=>{trackEvent({event:"Awaiting Signature(s) on a HW wallet",category:constants_metametrics.ci.Swaps,sensitiveProperties:{needs_two_confirmations:needsTwoConfirmations,token_from:null==sourceTokenInfo?void 0:sourceTokenInfo.symbol,token_from_amount:null==fetchParams?void 0:fetchParams.value,token_to:null==destinationTokenInfo?void 0:destinationTokenInfo.symbol,request_type:null!=fetchParams&&fetchParams.balanceError?"Quote":"Order",slippage:null==fetchParams?void 0:fetchParams.slippage,custom_slippage:2===(null==fetchParams?void 0:fetchParams.slippage),is_hardware_wallet:hardwareWalletUsed,hardware_wallet_type:hardwareWalletType,stx_enabled:smartTransactionsEnabled,current_stx_enabled:currentSmartTransactionsEnabled,stx_user_opt_in:smartTransactionsOptInStatus}})}),[]);const headerText=t(needsTwoConfirmations?"swapTwoTransactions":"swapConfirmWithHwWallet");return react.createElement("div",{className:"awaiting-signatures"},react.createElement(box.ZP,{paddingLeft:8,paddingRight:8,height:design_system.D8.FULL,justifyContent:design_system.E0.center,display:design_system.bA.FLEX,className:"awaiting-signatures__content"},react.createElement(box.ZP,{marginTop:3,marginBottom:4},react.createElement(pulse_loader.Z,null)),react.createElement(component_library.xv,{color:design_system.d9.textDefault,variant:design_system.rK.headingMd,as:"h3"},headerText),needsTwoConfirmations&&react.createElement(react.Fragment,null,react.createElement(component_library.xv,{variant:design_system.rK.bodyMdBold,marginTop:2},t("swapToConfirmWithHwWallet")),react.createElement("ul",{className:"awaiting-signatures__steps"},react.createElement("li",null,react.createElement(SwapStepIcon,{stepNumber:1}),t("swapAllowSwappingOf",[react.createElement(component_library.xv,{as:"span",variant:design_system.rK.bodyMdBold,key:"allowToken"},null==destinationTokenInfo?void 0:destinationTokenInfo.symbol)])),react.createElement("li",null,react.createElement(SwapStepIcon,{stepNumber:2}),t("swapFromTo",[react.createElement(component_library.xv,{as:"span",variant:design_system.rK.bodyMdBold,key:"tokenFrom"},null==sourceTokenInfo?void 0:sourceTokenInfo.symbol),react.createElement(component_library.xv,{as:"span",variation:design_system.rK.bodyMdBold,key:"tokenTo"},null==destinationTokenInfo?void 0:destinationTokenInfo.symbol)]))),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd},t("swapGasFeesSplit")))),react.createElement(swaps_footer.Z,{onSubmit:async()=>{await dispatch((0,swaps.P3)()),history.push(routes.QO),history.push(routes.Pq)},submitText:t("cancel"),hideCancel:!0}))}SwapStepIcon.propTypes={stepNumber:prop_types_default().number},SwapStepIcon.__docgenInfo={description:"",methods:[],displayName:"SwapStepIcon",props:{stepNumber:{defaultValue:{value:"1",computed:!1},description:"",type:{name:"number"},required:!1}}},AwaitingSignatures.__docgenInfo={description:"",methods:[],displayName:"AwaitingSignatures"};const awaiting_signatures_stories={title:"Pages/Swaps/AwaitingSignatures"},DefaultStory=()=>react.createElement(AwaitingSignatures,null);DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"() => {\n  return <AwaitingSignatures />;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/ui/page-container/page-container-footer/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PageContainerFooter});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),ui_button=__webpack_require__("./ui/components/ui/button/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class PageContainerFooter extends react.Component{render(){const{children,onCancel,cancelText,onSubmit,submitText,disabled,submitButtonType,hideCancel,cancelButtonType,buttonSizeLarge=!1,footerClassName,footerButtonClassName}=this.props;return react.createElement("div",{className:classnames_default()("page-container__footer",footerClassName)},react.createElement("footer",null,!hideCancel&&react.createElement(ui_button.Z,{type:cancelButtonType||"secondary",large:buttonSizeLarge,className:classnames_default()("page-container__footer-button","page-container__footer-button__cancel",footerButtonClassName),onClick:e=>onCancel(e),"data-testid":"page-container-footer-cancel"},cancelText||this.context.t("cancel")),react.createElement(ui_button.Z,{type:submitButtonType||"primary",large:buttonSizeLarge,className:classnames_default()("page-container__footer-button",footerButtonClassName),disabled,onClick:e=>onSubmit(e),"data-testid":"page-container-footer-next"},submitText||this.context.t("next"))),children&&react.createElement("div",{className:"page-container__footer-secondary"},children))}}_defineProperty(PageContainerFooter,"propTypes",{children:prop_types_default().node,onCancel:prop_types_default().func,cancelText:prop_types_default().string,cancelButtonType:prop_types_default().string,onSubmit:prop_types_default().func,submitText:prop_types_default().string,disabled:prop_types_default().bool,submitButtonType:prop_types_default().string,hideCancel:prop_types_default().bool,buttonSizeLarge:prop_types_default().bool,footerClassName:prop_types_default().string,footerButtonClassName:prop_types_default().string}),_defineProperty(PageContainerFooter,"contextTypes",{t:prop_types_default().func}),PageContainerFooter.__docgenInfo={description:"",methods:[],displayName:"PageContainerFooter",props:{children:{description:"",type:{name:"node"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1},cancelButtonType:{description:"",type:{name:"string"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1},submitText:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},submitButtonType:{description:"",type:{name:"string"},required:!1},hideCancel:{description:"",type:{name:"bool"},required:!1},buttonSizeLarge:{description:"",type:{name:"bool"},required:!1},footerClassName:{description:"",type:{name:"string"},required:!1},footerButtonClassName:{description:"",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!1}}}},"./ui/components/ui/pulse-loader/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_pulse_loader__WEBPACK_IMPORTED_MODULE_0__.Z});var _pulse_loader__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/pulse-loader/pulse-loader.js")},"./ui/pages/swaps/swaps-footer/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SwapsFooter});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),i18n=__webpack_require__("./ui/contexts/i18n.js"),page_container_footer=__webpack_require__("./ui/components/ui/page-container/page-container-footer/index.js");function SwapsFooter({onCancel,hideCancel,onSubmit,submitText,disabled,showTermsOfService,showTopBorder,className="",cancelText}){const t=(0,react.useContext)(i18n.OO);return react.createElement("div",{className:"swaps-footer"},react.createElement("div",{className:classnames_default()("swaps-footer__buttons",className,{"swaps-footer__buttons--border":showTopBorder})},react.createElement(page_container_footer.Z,{onCancel,hideCancel,cancelText:cancelText||t("back"),onSubmit,submitText,footerClassName:classnames_default()("swaps-footer__custom-page-container-footer-class",className),footerButtonClassName:classnames_default()("swaps-footer__custom-page-container-footer-button-class",{"swaps-footer__custom-page-container-footer-button-class--single":hideCancel}),disabled})),showTermsOfService&&react.createElement("div",{className:"swaps-footer__bottom-text",onClick:()=>__webpack_require__.g.platform.openTab({url:"https://metamask.io/terms.html"})},t("termsOfService")))}SwapsFooter.propTypes={onCancel:prop_types_default().func,hideCancel:prop_types_default().bool,onSubmit:prop_types_default().func,submitText:prop_types_default().string,disabled:prop_types_default().bool,showTermsOfService:prop_types_default().bool,showTopBorder:prop_types_default().bool,className:prop_types_default().string,cancelText:prop_types_default().string},SwapsFooter.__docgenInfo={description:"",methods:[],displayName:"SwapsFooter",props:{className:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},hideCancel:{description:"",type:{name:"bool"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1},submitText:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},showTermsOfService:{description:"",type:{name:"bool"},required:!1},showTopBorder:{description:"",type:{name:"bool"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1}}}}}]);