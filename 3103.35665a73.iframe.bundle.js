"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[3103],{"./ui/components/app/modals/nickname-popovers/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>nickname_popovers_component});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),dist=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/index.js"),actions=__webpack_require__("./ui/store/actions.ts"),selectors=__webpack_require__("./ui/selectors/index.js"),nickname_popover=__webpack_require__("./ui/components/ui/nickname-popover/index.js"),update_nickname_popover=__webpack_require__("./ui/components/ui/update-nickname-popover/update-nickname-popover.js");const NicknamePopovers=({address,onClose})=>{const dispatch=(0,es.I0)(),[popoverToDisplay,setPopoverToDisplay]=(0,react.useState)("SHOW_NICKNAME_POPOVER"),addressBook=(0,es.v9)(selectors.vZs),chainId=(0,es.v9)(selectors.BVZ),addressBookEntryObject=addressBook.find((entry=>entry.address===address)),recipientNickname=null==addressBookEntryObject?void 0:addressBookEntryObject.name,rpcPrefs=(0,es.v9)(selectors.Kzx),explorerLink=(0,dist.getAccountLink)(address,chainId,{blockExplorerUrl:(null==rpcPrefs?void 0:rpcPrefs.blockExplorerUrl)??null},null);return"ADD_NICKNAME_POPOVER"===popoverToDisplay?react.createElement(update_nickname_popover.Z,{address,nickname:recipientNickname||null,memo:(null==addressBookEntryObject?void 0:addressBookEntryObject.memo)||null,onClose:()=>setPopoverToDisplay("SHOW_NICKNAME_POPOVER"),onAdd:(recipient,nickname,memo)=>dispatch((0,actions.Wbu)(recipient,nickname,memo))}):react.createElement(nickname_popover.Z,{address,nickname:recipientNickname||null,onClose,onAdd:()=>setPopoverToDisplay("ADD_NICKNAME_POPOVER"),explorerLink})};NicknamePopovers.propTypes={address:prop_types_default().string,onClose:prop_types_default().func},NicknamePopovers.__docgenInfo={description:"",methods:[],displayName:"NicknamePopovers",props:{address:{description:"",type:{name:"string"},required:!1},onClose:{description:"",type:{name:"func"},required:!1}}};const nickname_popovers_component=NicknamePopovers},"./ui/components/ui/identicon/blockieIdenticon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/blockieIdenticon.component.js")},"./ui/components/ui/identicon/identicon.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Identicon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),_jazzicon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/jazzicon/index.js"),_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/util.js"),_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const getStyles=diameter=>({height:diameter,width:diameter,borderRadius:diameter/2});class Identicon extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),_defineProperty(this,"state",{imageLoadingError:!1})}renderImage(){const{className,diameter,alt,imageBorder,ipfsGateway}=this.props;let{image}=this.props;return Array.isArray(image)&&image.length&&(image=image[0]),"string"==typeof image&&image.toLowerCase().startsWith("ipfs://")&&(image=(0,_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__.MP)(image,ipfsGateway)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className,{"identicon__image-border":imageBorder}),src:image,style:getStyles(diameter),alt,onError:()=>{this.setState({imageLoadingError:!0})}})}renderJazzicon(){const{address,className,diameter,alt,tokenList}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jazzicon__WEBPACK_IMPORTED_MODULE_3__.Z,{address,diameter,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter),alt,tokenList})}renderBlockie(){const{address,className,diameter,alt}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__.Z,{address,diameter,alt}))}renderBlockieOrJazzIcon(){const{useBlockie}=this.props;return useBlockie?this.renderBlockie():this.renderJazzicon()}shouldComponentUpdate(nextProps,nextState){return!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextProps,this.props)||!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextState,this.state)}render(){const{address,image,addBorder,diameter,tokenList}=this.props,{imageLoadingError}=this.state,size=diameter+8;return imageLoadingError?this.renderBlockieOrJazzIcon():image?this.renderImage():address?null!==(_tokenList$address$to=tokenList[address.toLowerCase()])&&void 0!==_tokenList$address$to&&_tokenList$address$to.iconUrl?this.renderJazzicon():react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"identicon__address-wrapper":addBorder}),style:addBorder?getStyles(size):null},this.renderBlockieOrJazzIcon()):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:getStyles(diameter),className:"identicon__image-border"});var _tokenList$address$to}}_defineProperty(Identicon,"propTypes",{addBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,address:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,diameter:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,image:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,prop_types__WEBPACK_IMPORTED_MODULE_6___default().array]),useBlockie:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,alt:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,imageBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,tokenList:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,ipfsGateway:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string}),_defineProperty(Identicon,"defaultProps",{addBorder:!1,address:void 0,className:void 0,diameter:46,image:void 0,useBlockie:!1,alt:"",tokenList:{}}),Identicon.__docgenInfo={description:"",methods:[{name:"renderImage",docblock:null,modifiers:[],params:[],returns:null},{name:"renderJazzicon",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockie",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockieOrJazzIcon",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Identicon",props:{addBorder:{defaultValue:{value:"false",computed:!1},description:"Adds blue border around the Identicon used for selected account.\nIncreases the width and height of the Identicon by 8px",type:{name:"bool"},required:!1},address:{defaultValue:{value:"undefined",computed:!0},description:"Address used for generating random image",type:{name:"string"},required:!1},className:{defaultValue:{value:"undefined",computed:!0},description:"Add custom css class",type:{name:"string"},required:!1},diameter:{defaultValue:{value:"46",computed:!1},description:"Sets the width and height of the inner img element\nIf addBorder is true will increase components height and width by 8px",type:{name:"number"},required:!1},image:{defaultValue:{value:"undefined",computed:!0},description:"Used as the image source of the Identicon",type:{name:"union",value:[{name:"string"},{name:"array"}]},required:!1},useBlockie:{defaultValue:{value:"false",computed:!1},description:"Use the blockie type random image generator",type:{name:"bool"},required:!1},alt:{defaultValue:{value:"''",computed:!1},description:"The alt text of the image",type:{name:"string"},required:!1},tokenList:{defaultValue:{value:"{}",computed:!1},description:"Add list of token in object",type:{name:"object"},required:!1},imageBorder:{description:"Check if show image border",type:{name:"bool"},required:!1},ipfsGateway:{description:"User preferred IPFS gateway",type:{name:"string"},required:!1}}}},"./ui/components/ui/identicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>identicon_container});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),identicon_component=__webpack_require__("./ui/components/ui/identicon/identicon.component.js");const identicon_container=(0,es.$j)((state=>{const{metamask:{useBlockie,ipfsGateway}}=state;return{useBlockie,tokenList:(0,selectors.HJ)(state),ipfsGateway}}))(identicon_component.Z)},"./ui/components/ui/jazzicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_jazzicon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _jazzicon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/jazzicon/jazzicon.component.js")},"./ui/components/ui/nickname-popover/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>nickname_popover_component});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),i18n=__webpack_require__("./ui/contexts/i18n.js"),tooltip=__webpack_require__("./ui/components/ui/tooltip/index.js"),popover=__webpack_require__("./ui/components/ui/popover/index.js"),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),identicon=__webpack_require__("./ui/components/ui/identicon/index.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),useCopyToClipboard=__webpack_require__("./ui/hooks/useCopyToClipboard.js"),selectors=__webpack_require__("./ui/selectors/index.js"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),component_library=__webpack_require__("./ui/components/component-library/index.js");const NicknamePopover=({address,nickname,onClose=null,onAdd=null,explorerLink})=>{var _tokenList$address$to;const t=(0,react.useContext)(i18n.OO),history=(0,react_router.k6)(),onAddClick=(0,react.useCallback)((()=>{onAdd()}),[onAdd]),[copied,handleCopy]=(0,useCopyToClipboard.m)(),tokenList=(0,es.v9)(selectors.HJ),blockExplorerLinkText=(0,es.v9)(selectors.L$2);return react.createElement("div",{className:"nickname-popover"},react.createElement(popover.Z,{onClose,className:"nickname-popover__popover-wrap"},react.createElement(identicon.Z,{address,diameter:36,className:"nickname-popover__identicon",image:null===(_tokenList$address$to=tokenList[address.toLowerCase()])||void 0===_tokenList$address$to?void 0:_tokenList$address$to.iconUrl}),react.createElement("div",{className:"nickname-popover__address"},nickname||(0,util.$Q)(address)),react.createElement("div",{className:"nickname-popover__public-address"},react.createElement("div",{className:"nickname-popover__public-address__constant"},address),react.createElement(tooltip.Z,{position:"bottom",title:t(copied?"copiedExclamation":"copyToClipboard")},react.createElement(component_library.Ei,{iconName:copied?component_library.uH.CopySuccess:component_library.uH.Copy,size:component_library.Jh.Sm,onClick:()=>handleCopy(address)}))),react.createElement("div",{className:"nickname-popover__view-on-block-explorer"},react.createElement(ui_button.Z,{type:"link",className:"nickname-popover__etherscan-link",onClick:"addBlockExplorer"===blockExplorerLinkText.firstPart?()=>{history.push(`${routes.Mx}#blockExplorerUrl`)}:()=>{__webpack_require__.g.platform.openTab({url:explorerLink})},target:"_blank",rel:"noopener noreferrer",title:"addBlockExplorer"===blockExplorerLinkText.firstPart?t("addBlockExplorer"):t("etherscanView")},"addBlockExplorer"===blockExplorerLinkText.firstPart?t("addBlockExplorer"):t("viewOnBlockExplorer"))),react.createElement(ui_button.Z,{type:"primary",className:"nickname-popover__footer-button",onClick:onAddClick},t(nickname?"editANickname":"addANickname"))))};NicknamePopover.propTypes={address:prop_types_default().string,nickname:prop_types_default().string,onClose:prop_types_default().func,onAdd:prop_types_default().func,explorerLink:prop_types_default().string},NicknamePopover.__docgenInfo={description:"",methods:[],displayName:"NicknamePopover",props:{onClose:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onAdd:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},address:{description:"",type:{name:"string"},required:!1},nickname:{description:"",type:{name:"string"},required:!1},explorerLink:{description:"",type:{name:"string"},required:!1}}};const nickname_popover_component=NicknamePopover},"./ui/components/ui/update-nickname-popover/update-nickname-popover.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>UpdateNicknamePopover});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),_popover__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/popover/index.js"),_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/button/index.js"),_text_field__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/ui/text-field/index.js"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/contexts/i18n.js"),_identicon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/ui/identicon/index.js"),_selectors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/selectors/index.js");function UpdateNicknamePopover({address,nickname="",memo="",onAdd,onClose}){var _tokenList$address$to;const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_5__.OO),[nicknameInput,setNicknameInput]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null===nickname?"":nickname),[memoInput,setMemoInput]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null===memo?"":memo),closePopover=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{onClose()}),[onClose]),tokenList=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_7__.HJ);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_popover__WEBPACK_IMPORTED_MODULE_2__.Z,{title:t(nickname?"editAddressNickname":"addANickname"),onClose:closePopover,className:"update-nickname__wrapper",footer:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_3__.Z,{className:"update-nickname__cancel",type:"secondary",onClick:()=>{onClose()}},t("cancel")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_button__WEBPACK_IMPORTED_MODULE_3__.Z,{className:"update-nickname__save",type:"primary",onClick:()=>{onAdd(address,nicknameInput,memoInput),onClose()},disabled:!nicknameInput},t("save")))},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"update-nickname__content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_identicon__WEBPACK_IMPORTED_MODULE_6__.Z,{className:"update-nickname__content__indenticon",address,diameter:36,image:null===(_tokenList$address$to=tokenList[address.toLowerCase()])||void 0===_tokenList$address$to?void 0:_tokenList$address$to.iconUrl}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"update-nickname__content__label--capitalized"},t("address")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"update-nickname__content__address"},address),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"update-nickname__content__nickname-label"},t("nickname")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_text_field__WEBPACK_IMPORTED_MODULE_4__.Z,{className:"update-nickname__content__text-field",value:nicknameInput,onChange:event=>{setNicknameInput(event.target.value)},placeholder:t("addANickname"),fullWidth:!0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"update-nickname__content__label--capitalized"},t("memo")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_text_field__WEBPACK_IMPORTED_MODULE_4__.Z,{type:"text",id:"memo",value:memoInput,onChange:event=>{setMemoInput(event.target.value)},placeholder:t("addMemo"),fullWidth:!0,margin:"dense",multiline:!0,rows:3,classes:{inputMultiline:"update-nickname__content__text-area",inputRoot:"update-nickname__content__text-area-wrapper"}})))}UpdateNicknamePopover.propTypes={nickname:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,address:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,memo:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string,onAdd:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func,onClose:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func},UpdateNicknamePopover.__docgenInfo={description:"",methods:[],displayName:"UpdateNicknamePopover",props:{nickname:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},memo:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},address:{description:"",type:{name:"string"},required:!1},onAdd:{description:"",type:{name:"func"},required:!1},onClose:{description:"",type:{name:"func"},required:!1}}}}}]);