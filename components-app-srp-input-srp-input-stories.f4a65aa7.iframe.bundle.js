"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[3104],{"./ui/components/app/srp-input/srp-input.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DefaultStory$paramet,_DefaultStory$paramet2,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/app/srp-input/index.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/App/SrpInput",component:___WEBPACK_IMPORTED_MODULE_1__.Z,argTypes:{onChange:{action:"changed"}}},DefaultStory=(args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_1__.Z,args)).bind({});DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => {\n  return <SrpInput {...args} />;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"]},"./ui/components/app/srp-input/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SrpInput});var lib_esm=__webpack_require__("./node_modules/@ethersproject/hdnode/lib.esm/index.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),text_field=__webpack_require__("./ui/components/ui/text-field/index.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),dropdown=__webpack_require__("./ui/components/ui/dropdown/index.js"),show_hide_toggle=__webpack_require__("./ui/components/ui/show-hide-toggle/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");const parseSecretRecoveryPhrase=seedPhrase=>{var _trim$toLowerCase$mat;return(null===(_trim$toLowerCase$mat=(seedPhrase||"").trim().toLowerCase().match(/\w+/gu))||void 0===_trim$toLowerCase$mat?void 0:_trim$toLowerCase$mat.join(" "))||""},defaultNumberOfWords=12,hasUpperCase=draftSrp=>draftSrp!==draftSrp.toLowerCase();function SrpInput({onChange,srpText}){const[srpError,setSrpError]=(0,react.useState)(""),[pasteFailed,setPasteFailed]=(0,react.useState)(!1),[draftSrp,setDraftSrp]=(0,react.useState)(new Array(defaultNumberOfWords).fill("")),[showSrp,setShowSrp]=(0,react.useState)(new Array(defaultNumberOfWords).fill(!1)),[numberOfWords,setNumberOfWords]=(0,react.useState)(defaultNumberOfWords),t=(0,useI18nContext.C)(),onSrpChange=(0,react.useCallback)((newDraftSrp=>{let newSrpError="";const joinedDraftSrp=newDraftSrp.join(" ").trim();newDraftSrp.some((word=>""!==word))&&(newDraftSrp.some((word=>""===word))?newSrpError=t("seedPhraseReq"):hasUpperCase(joinedDraftSrp)?newSrpError=t("invalidSeedPhraseCaseSensitive"):(0,lib_esm.xh)(joinedDraftSrp)||(newSrpError=t("invalidSeedPhrase"))),setDraftSrp(newDraftSrp),setSrpError(newSrpError),onChange(newSrpError?"":joinedDraftSrp)}),[setDraftSrp,setSrpError,t,onChange]),toggleShowSrp=(0,react.useCallback)((index=>{setShowSrp((currentShowSrp=>{const newShowSrp=currentShowSrp.slice();return newShowSrp[index]?newShowSrp[index]=!1:(newShowSrp.fill(!1),newShowSrp[index]=!0),newShowSrp}))}),[]),onSrpWordChange=(0,react.useCallback)(((index,newWord)=>{pasteFailed&&setPasteFailed(!1);const newSrp=draftSrp.slice();newSrp[index]=newWord.trim(),onSrpChange(newSrp)}),[draftSrp,onSrpChange,pasteFailed]),onSrpPaste=(0,react.useCallback)((rawSrp=>{let newDraftSrp=parseSecretRecoveryPhrase(rawSrp).split(" ");if(newDraftSrp.length>24)return void setPasteFailed(!0);pasteFailed&&setPasteFailed(!1);let newNumberOfWords=numberOfWords;newDraftSrp.length!==numberOfWords&&(newNumberOfWords=newDraftSrp.length<12?12:newDraftSrp.length%3==0?newDraftSrp.length:newDraftSrp.length+(3-newDraftSrp.length%3),setNumberOfWords(newNumberOfWords)),newDraftSrp.length<newNumberOfWords&&(newDraftSrp=newDraftSrp.concat(new Array(newNumberOfWords-newDraftSrp.length).fill(""))),setShowSrp(new Array(newNumberOfWords).fill(!1)),onSrpChange(newDraftSrp),(0,util.FU)()}),[numberOfWords,onSrpChange,pasteFailed,setPasteFailed]),numberOfWordsOptions=[];for(let i=12;i<=24;i+=3)numberOfWordsOptions.push({name:t("srpInputNumberOfWords",[`${i}`]),value:`${i}`});return react.createElement("div",{className:"import-srp__container"},react.createElement("label",{className:"import-srp__srp-label"},react.createElement(component_library.xv,{align:design_system.PH.Left,variant:design_system.rK.headingSm,as:"h4"},srpText)),react.createElement(component_library.wB,{className:"import-srp__paste-tip",severity:design_system.zb.Info,description:t("srpPasteTip"),descriptionProps:{className:"import-srp__banner-alert-text"}}),react.createElement(dropdown.Z,{className:"import-srp__number-of-words-dropdown",onChange:newSelectedOption=>{const newNumberOfWords=parseInt(newSelectedOption,10);if(Number.isNaN(newNumberOfWords))throw new Error("Unable to parse option as integer");let newDraftSrp=draftSrp.slice(0,newNumberOfWords);newDraftSrp.length<newNumberOfWords&&(newDraftSrp=newDraftSrp.concat(new Array(newNumberOfWords-newDraftSrp.length).fill(""))),setNumberOfWords(newNumberOfWords),setShowSrp(new Array(newNumberOfWords).fill(!1)),onSrpChange(newDraftSrp)},options:numberOfWordsOptions,selectedOption:`${numberOfWords}`}),react.createElement("div",{className:"import-srp__srp"},[...Array(numberOfWords).keys()].map((index=>{const id=`import-srp__srp-word-${index}`;return react.createElement("div",{key:index,className:"import-srp__srp-word"},react.createElement("label",{htmlFor:id,className:"import-srp__srp-word-label"},react.createElement(component_library.xv,null,`${index+1}.`)),react.createElement(text_field.Z,{id,"data-testid":id,type:showSrp[index]?"text":"password",onChange:e=>{e.preventDefault(),onSrpWordChange(index,e.target.value)},value:draftSrp[index],autoComplete:"off",onPaste:event=>{const newSrp=event.clipboardData.getData("text");newSrp.trim().match(/\s/u)&&(event.preventDefault(),onSrpPaste(newSrp))}}),react.createElement(show_hide_toggle.Z,{id:`${id}-checkbox`,ariaLabelHidden:t("srpWordHidden"),ariaLabelShown:t("srpWordShown"),shown:showSrp[index],"data-testid":`${id}-checkbox`,onChange:()=>toggleShowSrp(index),title:t("srpToggleShow")}))}))),srpError?react.createElement(component_library.wB,{className:"import-srp__srp-error",severity:design_system.zb.Danger,description:srpError,descriptionProps:{className:"import-srp__banner-alert-text"}}):null,pasteFailed?react.createElement(component_library.wB,{className:"import-srp__srp-too-many-words-error",severity:design_system.zb.Danger,actionButtonLabel:t("dismiss"),actionButtonOnClick:()=>setPasteFailed(!1),description:t("srpPasteFailedTooManyWords"),descriptionProps:{className:"import-srp__banner-alert-text"}}):null)}SrpInput.propTypes={onChange:prop_types_default().func.isRequired,srpText:prop_types_default().string.isRequired},SrpInput.__docgenInfo={description:"",methods:[],displayName:"SrpInput",props:{onChange:{description:"Event handler for SRP changes.\n\nThis is only called with a valid, well-formated (i.e. exactly one space\nbetween each word) SRP or with an empty string.\n\nThis is called each time the draft SRP is updated. If the draft SRP is\nvalid, this is called with a well-formatted version of that draft SRP.\nOtherwise, this is called with an empty string.",type:{name:"func"},required:!0},srpText:{description:"Text to show on the left of the Dropdown component. Wrapped in Typography component.",type:{name:"string"},required:!0}}}},"./ui/components/ui/icon/icon-eye-slash.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);const IconEyeSlash=({size=24,color="currentColor",ariaLabel,className})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:size,height:size,fill:color,className,"aria-label":ariaLabel,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z"}));IconEyeSlash.propTypes={size:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,color:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,ariaLabel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string},IconEyeSlash.__docgenInfo={description:"@deprecated This has been deprecated in favor of the `<Icon />` component in ./ui/components/component-library/icon/icon.js\nSee storybook documentation for Icon here https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-icon--default-story#icon",methods:[],displayName:"IconEyeSlash",props:{size:{defaultValue:{value:"24",computed:!1},description:"The size of the Icon follows an 8px grid 2 = 16px, 3 = 24px etc",type:{name:"number"},required:!1},color:{defaultValue:{value:"'currentColor'",computed:!1},description:"The color of the icon accepts design token css variables",type:{name:"string"},required:!1},className:{description:"An additional className to assign the Icon",type:{name:"string"},required:!1},ariaLabel:{description:"The aria-label of the icon for accessibility purposes",type:{name:"string"},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=IconEyeSlash},"./ui/components/ui/icon/icon-eye.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);const IconEye=({size=24,color="currentColor",ariaLabel,className})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:size,height:size,fill:color,className,"aria-label":ariaLabel,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"}));IconEye.propTypes={size:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,color:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,ariaLabel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string},IconEye.__docgenInfo={description:"@deprecated This has been deprecated in favor of the `<Icon />` component in ./ui/components/component-library/icon/icon.js\nSee storybook documentation for Icon here https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-icon--default-story#icon",methods:[],displayName:"IconEye",props:{size:{defaultValue:{value:"24",computed:!1},description:"The size of the Icon follows an 8px grid 2 = 16px, 3 = 24px etc",type:{name:"number"},required:!1},color:{defaultValue:{value:"'currentColor'",computed:!1},description:"The color of the icon accepts design token css variables",type:{name:"string"},required:!1},className:{description:"An additional className to assign the Icon",type:{name:"string"},required:!1},ariaLabel:{description:"The aria-label of the icon for accessibility purposes",type:{name:"string"},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=IconEye},"./ui/components/ui/show-hide-toggle/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>show_hide_toggle});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),icon_eye=__webpack_require__("./ui/components/ui/icon/icon-eye.js"),icon_eye_slash=__webpack_require__("./ui/components/ui/icon/icon-eye-slash.js");const ShowHideToggle=({id,shown,onChange,ariaLabelHidden,ariaLabelShown,className,"data-testid":dataTestId,disabled,title})=>react.createElement("div",{className:classnames_default()("show-hide-toggle",className)},react.createElement("input",{className:"show-hide-toggle__input",id,type:"checkbox",checked:shown,onChange,"data-testid":dataTestId,disabled}),react.createElement("label",{htmlFor:id,className:"show-hide-toggle__label",title},shown?react.createElement(icon_eye.Z,{ariaLabel:ariaLabelShown,className:"show-hide-toggle__icon"}):react.createElement(icon_eye_slash.Z,{ariaLabel:ariaLabelHidden,className:"show-hide-toggle__icon"})));ShowHideToggle.propTypes={id:prop_types_default().string.isRequired,shown:prop_types_default().bool.isRequired,onChange:prop_types_default().func.isRequired,ariaLabelHidden:prop_types_default().string.isRequired,ariaLabelShown:prop_types_default().string.isRequired,className:prop_types_default().string,"data-testid":prop_types_default().string,disabled:prop_types_default().bool,title:prop_types_default().string},ShowHideToggle.__docgenInfo={description:"",methods:[],displayName:"ShowHideToggle",props:{id:{description:"The id of the ShowHideToggle for htmlFor",type:{name:"string"},required:!0},shown:{description:'If the ShowHideToggle is in the "shown" state or not',type:{name:"bool"},required:!0},onChange:{description:"The onChange handler of the ShowHideToggle",type:{name:"func"},required:!0},ariaLabelHidden:{description:'The aria-label of the icon representing the "hidden" state',type:{name:"string"},required:!0},ariaLabelShown:{description:'The aria-label of the icon representing the "shown" state',type:{name:"string"},required:!0},className:{description:"An additional className to give the ShowHideToggle",type:{name:"string"},required:!1},"data-testid":{description:"The data test id of the input",type:{name:"string"},required:!1},disabled:{description:"Whether the input is disabled or not",type:{name:"bool"},required:!1},title:{description:"The title for the toggle. This is shown in a tooltip on hover.",type:{name:"string"},required:!1}}};const show_hide_toggle=ShowHideToggle}}]);