"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[1022],{"./ui/components/app/modals/confirm-remove-account/confirm-remove-account.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>confirm_remove_account_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),redux=__webpack_require__("./node_modules/redux/es/redux.js"),with_modal_props=__webpack_require__("./ui/helpers/higher-order-components/with-modal-props/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),actions=__webpack_require__("./ui/store/actions.ts"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),dist=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/index.js"),modal=__webpack_require__("./ui/components/app/modal/index.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),identicon=__webpack_require__("./ui/components/ui/identicon/index.js"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),zendesk_url=__webpack_require__("./ui/helpers/constants/zendesk-url.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class ConfirmRemoveAccount extends react.Component{constructor(...args){super(...args),_defineProperty(this,"handleRemove",(()=>{this.props.removeAccount(this.props.identity.address).then((()=>this.props.hideModal()))})),_defineProperty(this,"handleCancel",(()=>{this.props.hideModal()}))}renderSelectedAccount(){const{t}=this.context,{identity,rpcPrefs,chainId}=this.props;return react.createElement("div",{className:"confirm-remove-account__account"},react.createElement("div",{className:"confirm-remove-account__account__identicon"},react.createElement(identicon.Z,{address:identity.address,diameter:32})),react.createElement("div",{className:"confirm-remove-account__account__name"},react.createElement("span",{className:"confirm-remove-account__account__label"},t("name")),react.createElement("span",{className:"account_value"},identity.name)),react.createElement("div",{className:"confirm-remove-account__account__address"},react.createElement("span",{className:"confirm-remove-account__account__label"},t("publicAddress")),react.createElement("span",{className:"account_value"},(0,util.Oy)(identity.address,4,4))),react.createElement("div",{className:"confirm-remove-account__account__link"},react.createElement("a",{onClick:()=>{const accountLink=(0,dist.getAccountLink)(identity.address,chainId,rpcPrefs);this.context.trackEvent({category:metametrics.ci.Accounts,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,util.Cs)(accountLink)}}),__webpack_require__.g.platform.openTab({url:accountLink})},target:"_blank",rel:"noopener noreferrer",title:t("etherscanView")},react.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:t("etherscanView")}))))}render(){const{t}=this.context;return react.createElement(modal.Z,{headerText:`${t("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:t("remove"),cancelText:t("nevermind")},react.createElement("div",null,this.renderSelectedAccount(),react.createElement("div",{className:"confirm-remove-account__description"},t("removeAccountDescription"),react.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:zendesk_url.Z.IMPORTED_ACCOUNTS},t("learnMore")))))}}_defineProperty(ConfirmRemoveAccount,"propTypes",{hideModal:prop_types_default().func.isRequired,removeAccount:prop_types_default().func.isRequired,identity:prop_types_default().object.isRequired,chainId:prop_types_default().string.isRequired,rpcPrefs:prop_types_default().object.isRequired}),_defineProperty(ConfirmRemoveAccount,"contextTypes",{t:prop_types_default().func,trackEvent:prop_types_default().func}),ConfirmRemoveAccount.__docgenInfo={description:"",methods:[{name:"handleRemove",docblock:null,modifiers:[],params:[],returns:null},{name:"handleCancel",docblock:null,modifiers:[],params:[],returns:null},{name:"renderSelectedAccount",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ConfirmRemoveAccount",props:{hideModal:{description:"",type:{name:"func"},required:!0},removeAccount:{description:"",type:{name:"func"},required:!0},identity:{description:"",type:{name:"object"},required:!0},chainId:{description:"",type:{name:"string"},required:!0},rpcPrefs:{description:"",type:{name:"object"},required:!0}},context:{t:{type:{name:"func"},required:!1},trackEvent:{type:{name:"func"},required:!1}}};const confirm_remove_account_container=(0,redux.compose)(with_modal_props.Z,(0,es.$j)((state=>({chainId:(0,selectors.BVZ)(state),rpcPrefs:(0,selectors.Kzx)(state)})),(dispatch=>({removeAccount:address=>dispatch((0,actions.Zdn)(address))}))))(ConfirmRemoveAccount);var _DefaultStory$paramet,_DefaultStory$paramet2;const confirm_remove_account_stories={title:"Components/App/Modals/ConfirmRemoveAccount",component:confirm_remove_account_container,argTypes:{identity:{control:"object"}},args:{identity:{control:"object"}}},DefaultStory=(args=>react.createElement(confirm_remove_account_container,args)).bind({});DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => {\n  return <ConfirmRemoveAccount {...args} />;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"]},"./ui/components/app/modal/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Modal});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),ui_button=__webpack_require__("./ui/components/ui/button/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class Modal extends react.PureComponent{render(){const{children,headerText,onClose,onSubmit,submitType,submitText,submitDisabled,onCancel,cancelType,cancelText,contentClass,containerClass,hideFooter}=this.props;return react.createElement("div",{className:classnames_default()("modal-container",containerClass)},headerText&&react.createElement("div",{className:"modal-container__header"},react.createElement("div",{className:"modal-container__header-text"},headerText),react.createElement("div",{className:"modal-container__header-close","data-testid":"modal-header-close",onClick:onClose})),react.createElement("div",{className:classnames_default()("modal-container__content",contentClass)},children),hideFooter?null:react.createElement("div",{className:"modal-container__footer"},onCancel&&react.createElement(ui_button.Z,{type:cancelType,onClick:onCancel,className:"modal-container__footer-button"},cancelText),react.createElement(ui_button.Z,{type:submitType,onClick:onSubmit,disabled:submitDisabled,className:"modal-container__footer-button"},submitText)))}}_defineProperty(Modal,"propTypes",{children:prop_types_default().node,contentClass:prop_types_default().string,containerClass:prop_types_default().string,headerText:prop_types_default().string,onClose:prop_types_default().func,onSubmit:prop_types_default().func,submitType:prop_types_default().string,submitText:prop_types_default().string,submitDisabled:prop_types_default().bool,hideFooter:prop_types_default().bool,onCancel:prop_types_default().func,cancelType:prop_types_default().string,cancelText:prop_types_default().string}),_defineProperty(Modal,"defaultProps",{submitType:"primary",cancelType:"secondary"}),Modal.__docgenInfo={description:"@deprecated The `<Modal />` component has been deprecated in favor of the new `<Modal>` component from the component-library.\nPlease update your code to use the new `<Modal>` component instead, which can be found at ui/components/component-library/modal/modal.tsx.\nYou can find documentation for the new Modal component in the MetaMask Storybook:\n{@link https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-modal--docs}\nIf you would like to help with the replacement of the old Modal component, please submit a pull request",methods:[],displayName:"Modal",props:{submitType:{defaultValue:{value:"'primary'",computed:!1},description:"",type:{name:"string"},required:!1},cancelType:{defaultValue:{value:"'secondary'",computed:!1},description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"node"},required:!1},contentClass:{description:"",type:{name:"string"},required:!1},containerClass:{description:"",type:{name:"string"},required:!1},headerText:{description:"",type:{name:"string"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1},submitText:{description:"",type:{name:"string"},required:!1},submitDisabled:{description:"",type:{name:"bool"},required:!1},hideFooter:{description:"",type:{name:"bool"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1}}};class ModalContent extends react.PureComponent{render(){const{title,description}=this.props;return react.createElement("div",{className:"modal-content"},title?react.createElement("div",{className:"modal-content__title"},title):null,description&&react.createElement("div",{className:"modal-content__description"},description))}}!function modal_content_component_defineProperty(obj,key,value){return(key=function modal_content_component_toPropertyKey(arg){var key=function modal_content_component_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(ModalContent,"propTypes",{title:prop_types_default().string,description:prop_types_default().string}),ModalContent.__docgenInfo={description:"",methods:[],displayName:"ModalContent",props:{title:{description:"",type:{name:"string"},required:!1},description:{description:"",type:{name:"string"},required:!1}}}},"./ui/components/ui/identicon/blockieIdenticon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/blockieIdenticon.component.js")},"./ui/components/ui/identicon/identicon.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Identicon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),_jazzicon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/jazzicon/index.js"),_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/util.js"),_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const getStyles=diameter=>({height:diameter,width:diameter,borderRadius:diameter/2});class Identicon extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),_defineProperty(this,"state",{imageLoadingError:!1})}renderImage(){const{className,diameter,alt,imageBorder,ipfsGateway}=this.props;let{image}=this.props;return Array.isArray(image)&&image.length&&(image=image[0]),"string"==typeof image&&image.toLowerCase().startsWith("ipfs://")&&(image=(0,_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__.MP)(image,ipfsGateway)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className,{"identicon__image-border":imageBorder}),src:image,style:getStyles(diameter),alt,onError:()=>{this.setState({imageLoadingError:!0})}})}renderJazzicon(){const{address,className,diameter,alt,tokenList}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jazzicon__WEBPACK_IMPORTED_MODULE_3__.Z,{address,diameter,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter),alt,tokenList})}renderBlockie(){const{address,className,diameter,alt}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__.Z,{address,diameter,alt}))}renderBlockieOrJazzIcon(){const{useBlockie}=this.props;return useBlockie?this.renderBlockie():this.renderJazzicon()}shouldComponentUpdate(nextProps,nextState){return!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextProps,this.props)||!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextState,this.state)}render(){const{address,image,addBorder,diameter,tokenList}=this.props,{imageLoadingError}=this.state,size=diameter+8;return imageLoadingError?this.renderBlockieOrJazzIcon():image?this.renderImage():address?null!==(_tokenList$address$to=tokenList[address.toLowerCase()])&&void 0!==_tokenList$address$to&&_tokenList$address$to.iconUrl?this.renderJazzicon():react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"identicon__address-wrapper":addBorder}),style:addBorder?getStyles(size):null},this.renderBlockieOrJazzIcon()):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:getStyles(diameter),className:"identicon__image-border"});var _tokenList$address$to}}_defineProperty(Identicon,"propTypes",{addBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,address:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,diameter:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,image:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,prop_types__WEBPACK_IMPORTED_MODULE_6___default().array]),useBlockie:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,alt:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,imageBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,tokenList:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,ipfsGateway:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string}),_defineProperty(Identicon,"defaultProps",{addBorder:!1,address:void 0,className:void 0,diameter:46,image:void 0,useBlockie:!1,alt:"",tokenList:{}}),Identicon.__docgenInfo={description:"",methods:[{name:"renderImage",docblock:null,modifiers:[],params:[],returns:null},{name:"renderJazzicon",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockie",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockieOrJazzIcon",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Identicon",props:{addBorder:{defaultValue:{value:"false",computed:!1},description:"Adds blue border around the Identicon used for selected account.\nIncreases the width and height of the Identicon by 8px",type:{name:"bool"},required:!1},address:{defaultValue:{value:"undefined",computed:!0},description:"Address used for generating random image",type:{name:"string"},required:!1},className:{defaultValue:{value:"undefined",computed:!0},description:"Add custom css class",type:{name:"string"},required:!1},diameter:{defaultValue:{value:"46",computed:!1},description:"Sets the width and height of the inner img element\nIf addBorder is true will increase components height and width by 8px",type:{name:"number"},required:!1},image:{defaultValue:{value:"undefined",computed:!0},description:"Used as the image source of the Identicon",type:{name:"union",value:[{name:"string"},{name:"array"}]},required:!1},useBlockie:{defaultValue:{value:"false",computed:!1},description:"Use the blockie type random image generator",type:{name:"bool"},required:!1},alt:{defaultValue:{value:"''",computed:!1},description:"The alt text of the image",type:{name:"string"},required:!1},tokenList:{defaultValue:{value:"{}",computed:!1},description:"Add list of token in object",type:{name:"object"},required:!1},imageBorder:{description:"Check if show image border",type:{name:"bool"},required:!1},ipfsGateway:{description:"User preferred IPFS gateway",type:{name:"string"},required:!1}}}},"./ui/components/ui/identicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>identicon_container});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),identicon_component=__webpack_require__("./ui/components/ui/identicon/identicon.component.js");const identicon_container=(0,es.$j)((state=>{const{metamask:{useBlockie,ipfsGateway}}=state;return{useBlockie,tokenList:(0,selectors.HJ)(state),ipfsGateway}}))(identicon_component.Z)},"./ui/components/ui/jazzicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_jazzicon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _jazzicon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/jazzicon/jazzicon.component.js")},"./ui/helpers/higher-order-components/with-modal-props/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>withModalProps});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),actions=__webpack_require__("./ui/store/actions.ts");const mapStateToProps=state=>{const{appState}=state,{props:modalProps}=appState.modal.modalState;return{...modalProps}},mapDispatchToProps=dispatch=>({hideModal:()=>dispatch((0,actions.VGc)())});function withModalProps(Component){return(0,es.$j)(mapStateToProps,mapDispatchToProps)(Component)}}}]);