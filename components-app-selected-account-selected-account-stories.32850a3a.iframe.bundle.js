"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[4798],{"./ui/components/app/selected-account/selected-account.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>selected_account_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),institutional_selectors=__webpack_require__("./ui/selectors/institutional/selectors.js"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),copy_to_clipboard=__webpack_require__("./node_modules/copy-to-clipboard/index.js"),copy_to_clipboard_default=__webpack_require__.n(copy_to_clipboard),util=__webpack_require__("./ui/helpers/utils/util.js"),tooltip=__webpack_require__("./ui/components/ui/tooltip/index.js"),hexstring_utils=__webpack_require__("./shared/modules/hexstring-utils.ts"),time=__webpack_require__("./shared/constants/time.ts"),lib_util=__webpack_require__("./app/scripts/lib/util.ts"),app=__webpack_require__("./shared/constants/app.ts"),custody_labels=__webpack_require__("./ui/components/institutional/custody-labels/custody-labels.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),copy=__webpack_require__("./shared/constants/copy.ts");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SelectedAccount extends react.Component{constructor(...args){super(...args),_defineProperty(this,"state",{copied:!1})}componentDidMount(){this.copyTimeout=null}componentWillUnmount(){this.copyTimeout&&(clearTimeout(this.copyTimeout),this.copyTimeout=null)}render(){var _accountDetails$check;const{t}=this.context,{selectedAccount,accountType,accountDetails,provider,isCustodianSupportedChain}=this.props,checksummedAddress=(0,hexstring_utils.QG)(selectedAccount.address);let title=this.state.copied?t("copiedExclamation"):t("copyToClipboard"),showAccountCopyIcon=!0;const custodyLabels=accountDetails?null===(_accountDetails$check=accountDetails[checksummedAddress])||void 0===_accountDetails$check?void 0:_accountDetails$check.labels:{},showCustodyLabels=(0,lib_util.kD)()!==app.bE&&"custody"===accountType&&custodyLabels,tooltipText=this.state.copied?t("copiedExclamation"):t("copyToClipboard");return title=isCustodianSupportedChain?tooltipText:t("custodyWrongChain",[provider.nickname||provider.type]),showAccountCopyIcon=isCustodianSupportedChain,react.createElement("div",{className:"selected-account"},react.createElement(tooltip.Z,{wrapperClassName:"selected-account__tooltip-wrapper",position:"bottom",title},react.createElement("button",{className:"selected-account__clickable","data-testid":"selected-account-click",disabled:!isCustodianSupportedChain,onClick:()=>{this.setState({copied:!0}),this.copyTimeout=setTimeout((()=>this.setState({copied:!1})),3*time.sh),copy_to_clipboard_default()(checksummedAddress,copy.K)}},react.createElement("div",{className:"selected-account__name"},selectedAccount.metadata.name),react.createElement("div",{className:"selected-account__address"},showCustodyLabels&&react.createElement(custody_labels.Z,{labels:custodyLabels}),(0,util.$Q)(checksummedAddress),showAccountCopyIcon&&react.createElement("div",{"data-testid":"selected-account-copy",className:"selected-account__copy"},react.createElement(component_library.JO,{name:this.state.copied?component_library.uH.CopySuccess:component_library.uH.Copy,size:component_library.Jh.Sm,color:design_system.EY.iconAlternative}))))))}}_defineProperty(SelectedAccount,"contextTypes",{t:prop_types_default().func}),_defineProperty(SelectedAccount,"propTypes",{selectedAccount:prop_types_default().object.isRequired,accountType:prop_types_default().string,accountDetails:prop_types_default().object,provider:prop_types_default().object,isCustodianSupportedChain:prop_types_default().bool}),SelectedAccount.__docgenInfo={description:"",methods:[],displayName:"SelectedAccount",props:{selectedAccount:{description:"",type:{name:"object"},required:!0},accountType:{description:"",type:{name:"string"},required:!1},accountDetails:{description:"",type:{name:"object"},required:!1},provider:{description:"",type:{name:"object"},required:!1},isCustodianSupportedChain:{description:"",type:{name:"bool"},required:!1}},context:{t:{type:{name:"func"},required:!1}}};const selected_account_component=SelectedAccount,selected_account=(0,es.$j)((state=>({selectedAccount:(0,selectors.E7u)(state),accountType:(0,selectors.lxc)(state),accountDetails:(0,institutional_selectors.q9)(state),provider:(0,metamask.Vu)(state),isCustodianSupportedChain:(0,institutional_selectors.xL)(state)})))(selected_account_component);var _DefaultStory$paramet,_DefaultStory$paramet2;const selected_account_stories={title:"Components/App/SelectedAccount",argTypes:{copied:{control:"boolean"}}},DefaultStory=args=>react.createElement(selected_account,args);DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => <SelectedAccount {...args} />",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/institutional/custody-labels/custody-labels.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),_component_library__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/component-library/index.ts"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts");const CustodyLabels=props=>{const{labels,index,background,hideNetwork}=props,filteredLabels=hideNetwork?labels.filter((item=>"network_name"!==item.key)):labels;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.__,{display:["flex"],flexDirection:["row"],htmlFor:`address-${index||0}`},filteredLabels.map((item=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_1__.xv,{key:item.key,textTransform:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__._5.Capitalize,className:"custody-label",style:background?{background}:{},marginTop:1,marginRight:1,marginBottom:2,paddingTop:1,paddingBottom:1,paddingLeft:2,paddingRight:2,backgroundColor:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.lP.backgroundAlternative,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.d9.textDefault,fontWeight:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.U9.Normal,borderRadius:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.cM.SM,variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.rK.bodyXs},item.value))))};CustodyLabels.propTypes={labels:prop_types__WEBPACK_IMPORTED_MODULE_3___default().array,index:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,background:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,hideNetwork:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool},CustodyLabels.__docgenInfo={description:"",methods:[],displayName:"CustodyLabels",props:{labels:{description:"",type:{name:"array"},required:!1},index:{description:"",type:{name:"string"},required:!1},background:{description:"",type:{name:"string"},required:!1},hideNetwork:{description:"",type:{name:"bool"},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=CustodyLabels}}]);