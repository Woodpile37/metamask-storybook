/*! For license information please see components-app-signature-request-siwe-signature-request-siwe-stories.1e34d7f6.iframe.bundle.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[3659],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./ui/components/app/signature-request-siwe/signature-request-siwe.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BadAddressStory:()=>BadAddressStory,BadDomainAndAddressStory:()=>BadDomainAndAddressStory,BadDomainStory:()=>BadDomainStory,DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>signature_request_siwe_stories});var react=__webpack_require__("./node_modules/react/index.js"),test_data=__webpack_require__("./.storybook/test-data.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),lib=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-docs/dist/index.mjs"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel_default=__webpack_require__.n(loglevel),controller_utils_dist=__webpack_require__("./node_modules/@metamask/controller-utils/dist/index.js"),eth_rpc_errors_dist=__webpack_require__("./node_modules/eth-rpc-errors/dist/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),popover=__webpack_require__("./ui/components/ui/popover/index.js"),check_box=__webpack_require__("./ui/components/ui/check-box/index.js"),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),i18n=__webpack_require__("./ui/contexts/i18n.js"),page_container=__webpack_require__("./ui/components/ui/page-container/index.js"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),selectors=__webpack_require__("./ui/selectors/index.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),security_provider_utils=__webpack_require__("./shared/modules/security-provider.utils.ts");const formatMessageParams=(parsedMessage,t)=>{const output=[],{statement,uri,version,chainId,nonce,issuedAt,expirationTime,notBefore,requestId,resources}=parsedMessage;return statement&&output.push({label:t("SIWELabelMessage"),value:statement}),uri&&output.push({label:t("SIWELabelURI"),value:uri}),version&&output.push({label:t("SIWELabelVersion"),value:version}),chainId&&output.push({label:t("SIWELabelChainID"),value:chainId}),nonce&&output.push({label:t("SIWELabelNonce"),value:nonce}),issuedAt&&output.push({label:t("SIWELabelIssuedAt"),value:issuedAt}),expirationTime&&output.push({label:t("SIWELabelExpirationTime"),value:expirationTime}),notBefore&&output.push({label:t("SIWELabelNotBefore"),value:notBefore}),requestId&&output.push({label:t("SIWELabelRequestID"),value:requestId}),resources&&resources.length>0&&output.push({label:t("SIWELabelResources",[resources.length]),value:resources.reduce(((previous,resource)=>`${previous}${resource}\n`),"").trim()}),output};var confirm_transaction_duck=__webpack_require__("./ui/ducks/confirm-transaction/confirm-transaction.duck.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),actions=__webpack_require__("./ui/store/actions.ts"),security_provider_banner_message=__webpack_require__("./ui/components/app/security-provider-banner-message/security-provider-banner-message.js"),confirm_page_container_navigation=__webpack_require__("./ui/components/app/confirm-page-container/confirm-page-container-navigation/index.js"),history_history=__webpack_require__("./ui/ducks/history/history.js"),blockaid_banner_alert=__webpack_require__("./ui/components/app/security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert.js"),metrics=__webpack_require__("./ui/helpers/utils/metrics.js"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts"),ledger_instruction_field=__webpack_require__("./ui/components/app/ledger-instruction-field/index.js"),signature_request_header=__webpack_require__("./ui/components/app/signature-request-header/index.js"),signature_request_siwe_header=__webpack_require__("./ui/components/app/signature-request-siwe/signature-request-siwe-header/index.js"),signature_request_siwe_message=__webpack_require__("./ui/components/app/signature-request-siwe/signature-request-siwe-message/index.js");function SignatureRequestSIWE({txData}){const dispatch=(0,es.I0)(),history=(0,react_router.k6)(),t=(0,react.useContext)(i18n.OO),allAccounts=(0,es.v9)(selectors.QT),subjectMetadata=(0,es.v9)(selectors.YRT),messagesCount=(0,es.v9)(selectors.eWO),messagesList=(0,es.v9)(selectors.Mkt),mostRecentOverviewPage=(0,es.v9)(history_history.H7),trackEvent=(0,react.useContext)(metametrics.Wd);(0,react.useEffect)((()=>{if(txData.securityAlertResponse){const blockaidMetricsParams=(0,metrics.jx)(txData.securityAlertResponse);trackEvent({category:constants_metametrics.ci.Transactions,event:constants_metametrics.AW.SignatureRequested,properties:{action:"Sign Request",...blockaidMetricsParams}})}}),[]);const{msgParams:{from,origin,siwe:{parsedMessage}},id}=txData,isLedgerWallet=(0,es.v9)((state=>(0,metamask.Dc)(state,from))),fromAccount=(0,util.t)(allAccounts,from),targetSubjectMetadata=subjectMetadata[origin],isMatchingAddress=from.toLowerCase()===parsedMessage.address.toLowerCase(),isSIWEDomainValid=(0,controller_utils_dist.isValidSIWEOrigin)(txData.msgParams),[isShowingDomainWarning,setIsShowingDomainWarning]=(0,react.useState)(!1),[hasAgreedToDomainWarning,setHasAgreedToDomainWarning]=(0,react.useState)(!1),showSecurityProviderBanner=(0,security_provider_utils.D)(null==txData?void 0:txData.securityProviderResponse),onSign=(0,react.useCallback)((async()=>{try{await dispatch((0,actions.a__)(id,null)),dispatch((0,actions.Ab9)(id))}catch(e){loglevel_default().error(e)}}),[id,dispatch]),onCancel=(0,react.useCallback)((async()=>{try{await dispatch((0,actions.YCK)(id,(0,eth_rpc_errors_dist.Xy)(eth_rpc_errors_dist.Sy.provider.userRejectedRequest())))}catch(e){loglevel_default().error(e)}}),[dispatch,id]),rejectNText=t("rejectRequestsN",[messagesCount]);return react.createElement("div",{className:"signature-request-siwe"},react.createElement("div",{className:"request-signature__navigation"},react.createElement(confirm_page_container_navigation.Z,null)),react.createElement(signature_request_header.Z,{txData}),react.createElement(blockaid_banner_alert.Z,{txData,margin:4}),showSecurityProviderBanner&&react.createElement(security_provider_banner_message.Z,{securityProviderResponse:txData.securityProviderResponse}),react.createElement(signature_request_siwe_header.Z,{fromAccount,domain:origin,isSIWEDomainValid,subjectMetadata:targetSubjectMetadata}),react.createElement(signature_request_siwe_message.Z,{data:formatMessageParams(parsedMessage,t)}),!isMatchingAddress&&react.createElement(component_library.wB,{severity:design_system.t3.WARNING,marginLeft:4,marginRight:4,marginBottom:4},t("SIWEAddressInvalid",[parsedMessage.address,fromAccount.address])),isLedgerWallet&&react.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},react.createElement(ledger_instruction_field.Z,{showDataInstruction:!0})),!isSIWEDomainValid&&react.createElement(component_library.wB,{severity:design_system.t3.DANGER,marginLeft:4,marginRight:4,marginBottom:4},react.createElement(component_library.xv,{variant:design_system.rK.bodyMdBold},t("SIWEDomainInvalidTitle"))," ",react.createElement(component_library.xv,null,t("SIWEDomainInvalidText"))),react.createElement(page_container.g$,{footerClassName:"signature-request-siwe__page-container-footer",onCancel,onSubmit:isSIWEDomainValid?onSign:()=>setIsShowingDomainWarning(!0),cancelText:t("cancel"),submitText:t("signin"),submitButtonType:isSIWEDomainValid?"primary":"danger-primary"}),messagesCount>1?react.createElement(ui_button.Z,{type:"link",className:"request-signature__container__reject",onClick:e=>{e.preventDefault(),(()=>{const unapprovedTxCount=messagesCount;dispatch((0,actions.K4b)({name:"REJECT_TRANSACTIONS",unapprovedTxCount,onSubmit:async()=>{await dispatch((0,actions.tEJ)((0,util.gs)(messagesList))),dispatch((0,confirm_transaction_duck.vi)()),history.push(mostRecentOverviewPage)}}))})()}},rejectNText):null,isShowingDomainWarning&&react.createElement(popover.Z,{onClose:()=>setIsShowingDomainWarning(!1),title:t("SIWEWarningTitle"),subtitle:t("SIWEWarningSubtitle"),className:"signature-request-siwe__warning-popover",footerClassName:"signature-request-siwe__warning-popover__footer",footer:react.createElement(page_container.g$,{footerClassName:"signature-request-siwe__warning-popover__footer__warning-footer",onCancel:()=>setIsShowingDomainWarning(!1),cancelText:t("cancel"),cancelButtonType:"default",onSubmit:onSign,submitText:t("confirm"),submitButtonType:"danger-primary",disabled:!hasAgreedToDomainWarning})},react.createElement("div",{className:"signature-request-siwe__warning-popover__checkbox-wrapper"},react.createElement(check_box.ZP,{id:"signature-request-siwe_domain-checkbox",checked:hasAgreedToDomainWarning,className:"signature-request-siwe__warning-popover__checkbox-wrapper__checkbox",onClick:()=>setHasAgreedToDomainWarning((checked=>!checked))}),react.createElement("label",{className:"signature-request-siwe__warning-popover__checkbox-wrapper__label",htmlFor:"signature-request-siwe_domain-checkbox"},t("SIWEDomainWarningBody",[parsedMessage.domain])))))}function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",h2:"h2"},(0,lib.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{id:"signature-request-siwe",children:"Signature Request SIWE"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"dApp requesting the user to Sign in with Ethereum."}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{id:"components-app-signaturerequestsiwe--default-story"})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"component-api",children:"Component API"}),"\n",(0,jsx_runtime.jsx)(dist.$4,{of:SignatureRequestSIWE})]})}SignatureRequestSIWE.propTypes={txData:prop_types_default().object.isRequired},SignatureRequestSIWE.__docgenInfo={description:"",methods:[],displayName:"SignatureRequestSIWE",props:{txData:{description:"The display content of transaction data",type:{name:"object"},required:!0}}};const README=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,lib.ah)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)};var _DefaultStory$paramet,_DefaultStory$paramet2,_BadDomainStory$param,_BadDomainStory$param2,_BadAddressStory$para,_BadAddressStory$para2,_BadDomainAndAddressS,_BadDomainAndAddressS2;const{identities,selectedAddress}=test_data.default.metamask,otherIdentity=Object.values(identities)[0],signature_request_siwe_stories={title:"Components/App/SignatureRequestSIWE",component:SignatureRequestSIWE,parameters:{docs:{page:README}},argTypes:{txData:{control:"object"},cancelPersonalMessage:{action:"Cancel"},signPersonalMessage:{action:"Sign"}}},msgParams={from:selectedAddress,data:"0x6c6f63616c686f73743a383038302077616e747320796f7520746f207369676e20696e207769746820796f757220457468657265756d206163636f756e743a0a3078466232433135303034333433393034653566343038323537386334653865313131303563463765330a0a436c69636b20746f207369676e20696e20616e642061636365707420746865205465726d73206f6620536572766963653a2068747470733a2f2f636f6d6d756e6974792e6d6574616d61736b2e696f2f746f730a0a5552493a20687474703a2f2f6c6f63616c686f73743a383038300a56657273696f6e3a20310a436861696e2049443a20310a4e6f6e63653a2053544d74364b514d7777644f58453330360a4973737565642041743a20323032322d30332d31385432313a34303a34302e3832335a0a5265736f75726365733a0a2d20697066733a2f2f516d653773733341525667787636725871565069696b4d4a3875324e4c676d67737a673133705972444b456f69750a2d2068747470733a2f2f6578616d706c652e636f6d2f6d792d776562322d636c61696d2e6a736f6e",origin:"http://localhost:8080",siwe:{isSIWEMessage:!0,isSIWEDomainValid:!0,parsedMessage:{domain:"localhost:8080",address:selectedAddress,statement:"Click to sign in and accept the Terms of Service: https://community.metamask.io/tos",uri:"http://localhost:8080",version:"1",nonce:"STMt6KQMwwdOXE306",chainId:1,issuedAt:"2022-03-18T21:40:40.823Z",resources:["ipfs://Qme7ss3ARVgxv6rXqVPiikMJ8u2NLgmgszg13pYrDKEoiu","https://example.com/my-web2-claim.json"]}}},badDomainParams={from:selectedAddress,data:"0x6c6f63616c686f73743a383038302077616e747320796f7520746f207369676e20696e207769746820796f757220457468657265756d206163636f756e743a0a3078466232433135303034333433393034653566343038323537386334653865313131303563463765330a0a436c69636b20746f207369676e20696e20616e642061636365707420746865205465726d73206f6620536572766963653a2068747470733a2f2f636f6d6d756e6974792e6d6574616d61736b2e696f2f746f730a0a5552493a20687474703a2f2f6c6f63616c686f73743a383038300a56657273696f6e3a20310a436861696e2049443a20310a4e6f6e63653a2053544d74364b514d7777644f58453330360a4973737565642041743a20323032322d30332d31385432313a34303a34302e3832335a0a5265736f75726365733a0a2d20697066733a2f2f516d653773733341525667787636725871565069696b4d4a3875324e4c676d67737a673133705972444b456f69750a2d2068747470733a2f2f6578616d706c652e636f6d2f6d792d776562322d636c61696d2e6a736f6e",origin:"http://localhost:8080",siwe:{isSIWEMessage:!0,isSIWEDomainValid:!1,parsedMessage:{domain:"baddomain.com",address:selectedAddress,statement:"Click to sign in and accept the Terms of Service: https://community.metamask.io/tos",uri:"http://localhost:8080",version:"1",nonce:"STMt6KQMwwdOXE306",chainId:1,issuedAt:"2022-03-18T21:40:40.823Z",resources:["ipfs://Qme7ss3ARVgxv6rXqVPiikMJ8u2NLgmgszg13pYrDKEoiu","https://example.com/my-web2-claim.json"]}}},badAddressParams={from:otherIdentity.address,data:"0x6c6f63616c686f73743a383038302077616e747320796f7520746f207369676e20696e207769746820796f757220457468657265756d206163636f756e743a0a3078466232433135303034333433393034653566343038323537386334653865313131303563463765330a0a436c69636b20746f207369676e20696e20616e642061636365707420746865205465726d73206f6620536572766963653a2068747470733a2f2f636f6d6d756e6974792e6d6574616d61736b2e696f2f746f730a0a5552493a20687474703a2f2f6c6f63616c686f73743a383038300a56657273696f6e3a20310a436861696e2049443a20310a4e6f6e63653a2053544d74364b514d7777644f58453330360a4973737565642041743a20323032322d30332d31385432313a34303a34302e3832335a0a5265736f75726365733a0a2d20697066733a2f2f516d653773733341525667787636725871565069696b4d4a3875324e4c676d67737a673133705972444b456f69750a2d2068747470733a2f2f6578616d706c652e636f6d2f6d792d776562322d636c61696d2e6a736f6e",origin:"http://localhost:8080",siwe:{isSIWEMessage:!0,isSIWEDomainValid:!0,parsedMessage:{domain:"localhost:8080",address:selectedAddress,statement:"Click to sign in and accept the Terms of Service: https://community.metamask.io/tos",uri:"http://localhost:8080",version:"1",nonce:"STMt6KQMwwdOXE306",chainId:1,issuedAt:"2022-03-18T21:40:40.823Z",resources:["ipfs://Qme7ss3ARVgxv6rXqVPiikMJ8u2NLgmgszg13pYrDKEoiu","https://example.com/my-web2-claim.json"]}}},badDomainAndAddressParams={from:otherIdentity.address,data:"0x6c6f63616c686f73743a383038302077616e747320796f7520746f207369676e20696e207769746820796f757220457468657265756d206163636f756e743a0a3078466232433135303034333433393034653566343038323537386334653865313131303563463765330a0a436c69636b20746f207369676e20696e20616e642061636365707420746865205465726d73206f6620536572766963653a2068747470733a2f2f636f6d6d756e6974792e6d6574616d61736b2e696f2f746f730a0a5552493a20687474703a2f2f6c6f63616c686f73743a383038300a56657273696f6e3a20310a436861696e2049443a20310a4e6f6e63653a2053544d74364b514d7777644f58453330360a4973737565642041743a20323032322d30332d31385432313a34303a34302e3832335a0a5265736f75726365733a0a2d20697066733a2f2f516d653773733341525667787636725871565069696b4d4a3875324e4c676d67737a673133705972444b456f69750a2d2068747470733a2f2f6578616d706c652e636f6d2f6d792d776562322d636c61696d2e6a736f6e",origin:"http://localhost:8080",siwe:{isSIWEMessage:!0,isSIWEDomainValid:!1,parsedMessage:{domain:"baddomain.com",address:selectedAddress,statement:"Click to sign in and accept the Terms of Service: https://community.metamask.io/tos",uri:"http://localhost:8080",version:"1",nonce:"STMt6KQMwwdOXE306",chainId:1,issuedAt:"2022-03-18T21:40:40.823Z",resources:["ipfs://Qme7ss3ARVgxv6rXqVPiikMJ8u2NLgmgszg13pYrDKEoiu","https://example.com/my-web2-claim.json"]}}},DefaultStory=args=>react.createElement(SignatureRequestSIWE,args);DefaultStory.storyName="Default",DefaultStory.args={txData:{msgParams}};const BadDomainStory=args=>react.createElement(SignatureRequestSIWE,args);BadDomainStory.args={txData:{msgParams:badDomainParams}};const BadAddressStory=args=>react.createElement(SignatureRequestSIWE,args);BadAddressStory.args={txData:{msgParams:badAddressParams}};const BadDomainAndAddressStory=args=>react.createElement(SignatureRequestSIWE,args);BadDomainAndAddressStory.args={txData:{msgParams:badDomainAndAddressParams}},DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => {\n  return <SignatureRequestSIWE {...args} />;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}},BadDomainStory.parameters={...BadDomainStory.parameters,docs:{...null===(_BadDomainStory$param=BadDomainStory.parameters)||void 0===_BadDomainStory$param?void 0:_BadDomainStory$param.docs,source:{originalSource:"args => {\n  return <SignatureRequestSIWE {...args} />;\n}",...null===(_BadDomainStory$param2=BadDomainStory.parameters)||void 0===_BadDomainStory$param2||null===(_BadDomainStory$param2=_BadDomainStory$param2.docs)||void 0===_BadDomainStory$param2?void 0:_BadDomainStory$param2.source}}},BadAddressStory.parameters={...BadAddressStory.parameters,docs:{...null===(_BadAddressStory$para=BadAddressStory.parameters)||void 0===_BadAddressStory$para?void 0:_BadAddressStory$para.docs,source:{originalSource:"args => {\n  return <SignatureRequestSIWE {...args} />;\n}",...null===(_BadAddressStory$para2=BadAddressStory.parameters)||void 0===_BadAddressStory$para2||null===(_BadAddressStory$para2=_BadAddressStory$para2.docs)||void 0===_BadAddressStory$para2?void 0:_BadAddressStory$para2.source}}},BadDomainAndAddressStory.parameters={...BadDomainAndAddressStory.parameters,docs:{...null===(_BadDomainAndAddressS=BadDomainAndAddressStory.parameters)||void 0===_BadDomainAndAddressS?void 0:_BadDomainAndAddressS.docs,source:{originalSource:"args => {\n  return <SignatureRequestSIWE {...args} />;\n}",...null===(_BadDomainAndAddressS2=BadDomainAndAddressStory.parameters)||void 0===_BadDomainAndAddressS2||null===(_BadDomainAndAddressS2=_BadDomainAndAddressS2.docs)||void 0===_BadDomainAndAddressS2?void 0:_BadDomainAndAddressS2.source}}};const __namedExportsOrder=["DefaultStory","BadDomainStory","BadAddressStory","BadDomainAndAddressStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"},BadDomainStory.__docgenInfo={description:"",methods:[],displayName:"BadDomainStory"},BadAddressStory.__docgenInfo={description:"",methods:[],displayName:"BadAddressStory"},BadDomainAndAddressStory.__docgenInfo={description:"",methods:[],displayName:"BadDomainAndAddressStory"}},"./shared/modules/security-provider.utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>isSuspiciousResponse});var _constants_security_provider__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./shared/constants/security-provider.ts");function isSuspiciousResponse(securityProviderResponse){if(!securityProviderResponse)return!1;const isFlagged=void 0!==securityProviderResponse.flagAsDangerous&&securityProviderResponse.flagAsDangerous!==_constants_security_provider__WEBPACK_IMPORTED_MODULE_0__.C_.NOT_MALICIOUS,isNotVerified=0===Object.keys(securityProviderResponse).length;return isFlagged||isNotVerified}},"./ui/components/app/signature-request-header/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_signature_request_header__WEBPACK_IMPORTED_MODULE_0__.Z});var _signature_request_header__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/app/signature-request-header/signature-request-header.js")},"./ui/components/app/signature-request-header/signature-request-header.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>signature_request_header});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),es=__webpack_require__("./node_modules/react-redux/es/index.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),selectors=__webpack_require__("./ui/selectors/index.js"),confirm_tx_util=__webpack_require__("./ui/helpers/utils/confirm-tx.util.ts"),util=__webpack_require__("./ui/helpers/utils/util.js"),common=__webpack_require__("./shared/constants/common.ts"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts"),Numeric=__webpack_require__("./shared/modules/Numeric.ts"),network_account_balance_header=__webpack_require__("./ui/components/app/network-account-balance-header/network-account-balance-header.js");const SignatureRequestHeader=({txData})=>{const t=(0,useI18nContext.C)(),{msgParams:{from}}=txData,allAccounts=(0,es.v9)(selectors.QT),fromAccount=(0,util.t)(allAccounts,from),nativeCurrency=(0,es.v9)(metamask.JK),currentCurrency=(0,es.v9)(selectors.TV3),currentChainId=(0,es.v9)(selectors.BVZ),providerConfig=(0,es.v9)(metamask.Vu),networkName=(0,util.Wf)(providerConfig.type),{useNativeCurrencyAsPrimaryCurrency}=(0,es.v9)(selectors.Izy),conversionRateFromSelector=(0,es.v9)(selectors.tOe),conversionRate=useNativeCurrencyAsPrimaryCurrency?null:conversionRateFromSelector,currentNetwork=""===networkName?providerConfig.nickname||t("unknownNetwork"):t(networkName),balanceInBaseAsset=conversionRate?(0,confirm_tx_util.xG)((0,conversion_utils.nu)({value:fromAccount.balance,fromCurrency:nativeCurrency,toCurrency:currentCurrency,conversionRate,numberOfDecimals:6,toDenomination:common.E.ETH}),currentCurrency):new Numeric.D(fromAccount.balance,16,common.E.WEI).toDenomination(common.E.ETH).round(6).toBase(10).toString();return react.createElement(network_account_balance_header.Z,{networkName:currentNetwork,accountName:fromAccount.name,accountBalance:balanceInBaseAsset,tokenName:conversionRate?null==currentCurrency?void 0:currentCurrency.toUpperCase():nativeCurrency,accountAddress:fromAccount.address,chainId:currentChainId})};SignatureRequestHeader.propTypes={txData:prop_types_default().object.isRequired},SignatureRequestHeader.__docgenInfo={description:"",methods:[],displayName:"SignatureRequestHeader",props:{txData:{description:"The display content of transaction data",type:{name:"object"},required:!0}}};const signature_request_header=SignatureRequestHeader},"./ui/components/app/signature-request-siwe/signature-request-siwe-message/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>signature_request_siwe_message});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),box=__webpack_require__("./ui/components/ui/box/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");const SignatureRequestSIWEMessage=({data})=>react.createElement(box.ZP,{className:"signature-request-siwe-message"},react.createElement(box.ZP,{flexDirection:design_system.uM.COLUMN},data.map((({label,value},i)=>react.createElement(box.ZP,{key:i.toString(),marginTop:2,marginBottom:2},react.createElement(component_library.xv,{as:"h4",variant:design_system.rK.bodyLgMedium,marginTop:2,marginBottom:2},label),react.createElement(component_library.xv,{className:"signature-request-siwe-message__sub-text",overflowWrap:design_system.kC.BREAK_WORD,marginTop:2,marginBottom:2},value))))));SignatureRequestSIWEMessage.propTypes={data:prop_types_default().arrayOf(prop_types_default().shape({label:prop_types_default().string,value:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number])}))},SignatureRequestSIWEMessage.__docgenInfo={description:"",methods:[],displayName:"SignatureRequestSIWEMessage",props:{data:{description:"The data array that contains objects of data about the message",type:{name:"arrayOf",value:{name:"shape",value:{label:{name:"string",description:"The label or title of the value data",required:!1},value:{name:"union",value:[{name:"string"},{name:"number"}],description:"The value of the data",required:!1}}}},required:!1}}};const signature_request_siwe_message=react.memo(SignatureRequestSIWEMessage)},"./ui/components/ui/check-box/check-box.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Km:()=>INDETERMINATE,ZP:()=>__WEBPACK_DEFAULT_EXPORT__,ri:()=>CHECKED,wT:()=>UNCHECKED});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);const CHECKBOX_STATE={CHECKED:"CHECKED",INDETERMINATE:"INDETERMINATE",UNCHECKED:"UNCHECKED"},{CHECKED,INDETERMINATE,UNCHECKED}=CHECKBOX_STATE,CheckBox=({className,disabled,id,onClick,checked,title,dataTestId})=>{"boolean"==typeof checked&&(checked=checked?CHECKBOX_STATE.CHECKED:CHECKBOX_STATE.UNCHECKED);const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{ref.current.indeterminate=checked===CHECKBOX_STATE.INDETERMINATE}),[checked]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{checked:checked===CHECKBOX_STATE.CHECKED,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("check-box",className,{"far fa-square":checked===CHECKBOX_STATE.UNCHECKED,"fa fa-check-square check-box__checked":checked===CHECKBOX_STATE.CHECKED,"fa fa-minus-square check-box__indeterminate":checked===CHECKBOX_STATE.INDETERMINATE}),disabled,id,onClick:onClick?event=>{event.preventDefault(),onClick()}:null,readOnly:!0,ref,title,"data-testid":dataTestId,type:"checkbox"})};CheckBox.propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,id:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func,checked:prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOf([...Object.keys(CHECKBOX_STATE),!0,!1]).isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,dataTestId:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string},CheckBox.defaultProps={className:void 0,disabled:!1,id:void 0},CheckBox.__docgenInfo={description:"@deprecated The `<CheckBox />` component has been deprecated in favor of the new `<Checkbox>` component from the component-library.\nPlease update your code to use the new `<Checkbox>` component instead, which can be found at ui/components/component-library/checkbox/checkbox.tsx.\nYou can find documentation for the new Checkbox component in the MetaMask Storybook:\n{@link https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-checkbox--docs}\nIf you would like to help with the replacement of the old CheckBox component, please submit a pull request against this GitHub issue:\n{@link https://github.com/MetaMask/metamask-extension/issues/20163}",methods:[],displayName:"CheckBox",props:{className:{defaultValue:{value:"undefined",computed:!0},description:"Add custom classname css",type:{name:"string"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"Check if checkbox disabled or not",type:{name:"bool"},required:!1},id:{defaultValue:{value:"undefined",computed:!0},description:"Checkbox ID",type:{name:"string"},required:!1},onClick:{description:"Click handler",type:{name:"func"},required:!1},checked:{description:"Check if the checkbox are checked or not",type:{name:"enum",value:[{value:"...Object.keys(CHECKBOX_STATE)",computed:!0},{value:"true",computed:!1},{value:"false",computed:!1}]},required:!0},title:{description:"Show title",type:{name:"string"},required:!1},dataTestId:{description:"Data test ID for checkbox Component",type:{name:"string"},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=CheckBox},"./ui/components/ui/check-box/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Km:()=>_check_box_component__WEBPACK_IMPORTED_MODULE_0__.Km,ZP:()=>_check_box_component__WEBPACK_IMPORTED_MODULE_0__.ZP,ri:()=>_check_box_component__WEBPACK_IMPORTED_MODULE_0__.ri,wT:()=>_check_box_component__WEBPACK_IMPORTED_MODULE_0__.wT});var _check_box_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/check-box/check-box.component.js")},"./ui/components/ui/disclosure/disclosure.constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>DisclosureVariant});let DisclosureVariant=function(DisclosureVariant){return DisclosureVariant.Default="default",DisclosureVariant.Arrow="arrow",DisclosureVariant}({})},"./ui/components/ui/disclosure/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>disclosure});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),disclosure_constants=__webpack_require__("./ui/components/ui/disclosure/disclosure.constants.ts");const Disclosure=({children,title,size,variant})=>{const disclosureFooterEl=(0,react.useRef)(null),[open,setOpen]=(0,react.useState)(!1);return(0,react.useEffect)((()=>{open&&disclosureFooterEl&&disclosureFooterEl.current&&disclosureFooterEl.current.scrollIntoView({behavior:"smooth"})}),[open]),react.createElement("div",{className:"disclosure",onClick:()=>setOpen((state=>!state))},title?react.createElement("details",null,((variant,title,size)=>{if(variant===disclosure_constants.m.Arrow){const textVariant="small"===size?design_system.rK.bodySm:design_system.rK.bodyMd;return react.createElement("summary",{className:"disclosure__summary is-arrow"},react.createElement(component_library.xv,{color:design_system.Il.primaryDefault,variant:textVariant},title),react.createElement(component_library.JO,{className:"disclosure__summary--icon",color:design_system.Il.primaryDefault,name:component_library.uH.ArrowUp,size:component_library.Jh.Sm,marginInlineStart:2}))}return react.createElement("summary",{className:"disclosure__summary"},react.createElement(component_library.JO,{className:"disclosure__summary--icon",name:component_library.uH.Add,size:component_library.Jh.Sm,marginInlineEnd:2}),title)})(variant,title),react.createElement("div",{className:classnames_default()("disclosure__content",size)},children),react.createElement("div",{ref:disclosureFooterEl,className:"disclosure__footer"})):children)};Disclosure.propTypes={children:prop_types_default().node.isRequired,size:prop_types_default().string,title:prop_types_default().string,variant:prop_types_default().string},Disclosure.defaultProps={size:"normal",title:null,variant:disclosure_constants.m.Default},Disclosure.__docgenInfo={description:"",methods:[],displayName:"Disclosure",props:{size:{defaultValue:{value:"'normal'",computed:!1},description:"",type:{name:"string"},required:!1},title:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},variant:{defaultValue:{value:"DisclosureVariant.Default",computed:!0},description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"node"},required:!0}}};const disclosure=Disclosure},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),g=60103;if(exports.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var h=Symbol.for;g=h("react.element"),exports.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,k){var b,d={},e=null,l=null;for(b in void 0!==k&&(e=""+k),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./node_modules/@blockaid/ppom_release/package.json":module=>{module.exports={i8:"1.4.0"}}}]);