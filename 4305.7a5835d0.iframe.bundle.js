"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[4305],{"./ui/components/app/advanced-gas-controls/advanced-gas-controls.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>AdvancedGasControls});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),_contexts_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/contexts/i18n.js"),_ui_form_field__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/form-field/index.js"),_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/helpers/constants/gas.js");function AdvancedGasControls({onManualChange,gasLimit,setGasLimit,gasPrice,setGasPrice,gasErrors,minimumGasLimit}){const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_1__.OO);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"advanced-gas-controls"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_form_field__WEBPACK_IMPORTED_MODULE_2__.Z,{titleText:t("gasLimit"),error:null!=gasErrors&&gasErrors.gasLimit?(0,_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_3__.V3)(gasErrors.gasLimit,t,{minimumGasLimit}):null,onChange:value=>{null==onManualChange||onManualChange(),setGasLimit(value)},tooltipText:t("editGasLimitTooltip"),value:gasLimit,allowDecimals:!1,numeric:!0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_form_field__WEBPACK_IMPORTED_MODULE_2__.Z,{titleText:t("advancedGasPriceTitle"),titleUnit:"(GWEI)",onChange:value=>{null==onManualChange||onManualChange(),setGasPrice(value)},tooltipText:t("editGasPriceTooltip"),value:gasPrice,numeric:!0,allowDecimals:!0,error:null!=gasErrors&&gasErrors.gasPrice?(0,_helpers_constants_gas__WEBPACK_IMPORTED_MODULE_3__.V3)(gasErrors.gasPrice,t):null})))}AdvancedGasControls.propTypes={onManualChange:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,gasLimit:prop_types__WEBPACK_IMPORTED_MODULE_4___default().number,setGasLimit:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,gasPrice:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,setGasPrice:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func,minimumGasLimit:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,gasErrors:prop_types__WEBPACK_IMPORTED_MODULE_4___default().object},AdvancedGasControls.__docgenInfo={description:"",methods:[],displayName:"AdvancedGasControls",props:{onManualChange:{description:"",type:{name:"func"},required:!1},gasLimit:{description:"",type:{name:"number"},required:!1},setGasLimit:{description:"",type:{name:"func"},required:!1},gasPrice:{description:"",type:{name:"string"},required:!1},setGasPrice:{description:"",type:{name:"func"},required:!1},minimumGasLimit:{description:"",type:{name:"string"},required:!1},gasErrors:{description:"",type:{name:"object"},required:!1}}}},"./ui/components/app/edit-gas-display/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>EditGasDisplay});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),bignumber=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_default=__webpack_require__.n(bignumber),gas=__webpack_require__("./shared/constants/gas.ts"),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.js"),confirm_tx_util=__webpack_require__("./ui/helpers/utils/confirm-tx.util.ts"),info_tooltip=__webpack_require__("./ui/components/ui/info-tooltip/index.js"),error_message=__webpack_require__("./ui/components/ui/error-message/index.js"),advanced_gas_controls_component=__webpack_require__("./ui/components/app/advanced-gas-controls/advanced-gas-controls.component.js"),actionable_message=__webpack_require__("./ui/components/ui/actionable-message/actionable-message.js"),i18n=__webpack_require__("./ui/contexts/i18n.js");function EditGasDisplay({mode=gas.G_.modifyInPlace,estimatedMinimumNative,transaction,gasPrice,setGasPrice,gasLimit,setGasLimit,properGasLimit,dappSuggestedGasFeeAcknowledged,setDappSuggestedGasFeeAcknowledged,onManualChange,minimumGasLimit,balanceError,gasErrors,txParamsHaveBeenCustomized}){const t=(0,react.useContext)(i18n.OO),scrollRef=(0,react.useRef)(null),dappSuggestedAndTxParamGasFeesAreTheSame=(0,confirm_tx_util.n$)(transaction),requireDappAcknowledgement=Boolean((null==transaction?void 0:transaction.dappSuggestedGasFees)&&!dappSuggestedGasFeeAcknowledged&&dappSuggestedAndTxParamGasFeesAreTheSame);let warningMessage;void 0!==gasLimit&&void 0!==properGasLimit&&new(bignumber_default())(gasLimit).lessThan(new(bignumber_default())(properGasLimit))&&(warningMessage=t("gasLimitRecommended",[properGasLimit]));const showTopError=balanceError&&txParamsHaveBeenCustomized;let errorKey;return balanceError&&(errorKey="insufficientFunds"),react.createElement("div",{className:"edit-gas-display"},react.createElement("div",{className:"edit-gas-display__content"},showTopError&&react.createElement("div",{className:"edit-gas-display__warning"},react.createElement(error_message.Z,{errorKey})),warningMessage&&react.createElement("div",{className:"edit-gas-display__warning"},react.createElement(actionable_message.Z,{className:"actionable-message--warning",message:warningMessage,iconFillColor:"var(--color-warning-default)",useIcon:!0})),requireDappAcknowledgement&&react.createElement("div",{className:"edit-gas-display__dapp-acknowledgement-warning"},react.createElement(actionable_message.Z,{className:"actionable-message--warning",message:t("gasDisplayDappWarning",[transaction.origin]),iconFillColor:"var(--color-warning-default)",useIcon:!0})),mode===gas.G_.speedUp&&react.createElement("div",{className:"edit-gas-display__top-tooltip"},react.createElement(component_library.xv,{color:design_system.d9.textDefault,variant:design_system.rK.bodySm,as:"h6",fontWeight:design_system.U9.Bold},t("speedUpTooltipText")," ",react.createElement(info_tooltip.Z,{position:"top",contentText:t("speedUpExplanation")}))),react.createElement(component_library.xv,{color:design_system.d9.textDefault,variant:design_system.rK.displayMd,as:"h1",textAlign:design_system.PH.Center},estimatedMinimumNative),requireDappAcknowledgement&&react.createElement(ui_button.Z,{className:"edit-gas-display__dapp-acknowledgement-button",onClick:()=>setDappSuggestedGasFeeAcknowledged(!0)},t("gasDisplayAcknowledgeDappButtonText")),!requireDappAcknowledgement&&react.createElement(advanced_gas_controls_component.Z,{gasLimit,setGasLimit,gasPrice,setGasPrice,onManualChange,minimumGasLimit,gasErrors})),react.createElement("div",{ref:scrollRef,className:"edit-gas-display__scroll-bottom"}))}EditGasDisplay.propTypes={mode:prop_types_default().oneOf(Object.values(gas.G_)),estimatedMinimumNative:prop_types_default().string,gasPrice:prop_types_default().string,setGasPrice:prop_types_default().func,gasLimit:prop_types_default().number,setGasLimit:prop_types_default().func,properGasLimit:prop_types_default().number,dappSuggestedGasFeeAcknowledged:prop_types_default().bool,setDappSuggestedGasFeeAcknowledged:prop_types_default().func,transaction:prop_types_default().object,onManualChange:prop_types_default().func,minimumGasLimit:prop_types_default().string,balanceError:prop_types_default().bool,gasErrors:prop_types_default().object,txParamsHaveBeenCustomized:prop_types_default().bool},EditGasDisplay.__docgenInfo={description:"",methods:[],displayName:"EditGasDisplay",props:{mode:{defaultValue:{value:"EditGasModes.modifyInPlace",computed:!0},description:"",type:{name:"enum",computed:!0,value:"Object.values(EditGasModes)"},required:!1},estimatedMinimumNative:{description:"",type:{name:"string"},required:!1},gasPrice:{description:"",type:{name:"string"},required:!1},setGasPrice:{description:"",type:{name:"func"},required:!1},gasLimit:{description:"",type:{name:"number"},required:!1},setGasLimit:{description:"",type:{name:"func"},required:!1},properGasLimit:{description:"",type:{name:"number"},required:!1},dappSuggestedGasFeeAcknowledged:{description:"",type:{name:"bool"},required:!1},setDappSuggestedGasFeeAcknowledged:{description:"",type:{name:"func"},required:!1},transaction:{description:"",type:{name:"object"},required:!1},onManualChange:{description:"",type:{name:"func"},required:!1},minimumGasLimit:{description:"",type:{name:"string"},required:!1},balanceError:{description:"",type:{name:"bool"},required:!1},gasErrors:{description:"",type:{name:"object"},required:!1},txParamsHaveBeenCustomized:{description:"",type:{name:"bool"},required:!1}}}},"./ui/components/ui/actionable-message/actionable-message.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ActionableMessage,v:()=>typeHash});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_info_tooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/info-tooltip/index.js"),_info_tooltip_info_tooltip_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/info-tooltip/info-tooltip-icon.js");const CLASSNAME_WITH_RIGHT_BUTTON="actionable-message--with-right-button",typeHash={warning:"actionable-message--warning",danger:"actionable-message--danger",success:"actionable-message--success",default:""};function ActionableMessage({message="",primaryAction=null,primaryActionV2=null,secondaryAction=null,className="",infoTooltipText="",withRightButton=!1,type="default",useIcon=!1,icon,iconFillColor="",roundedButtons,dataTestId,autoHideTime=0,onAutoHide}){const[shouldDisplay,setShouldDisplay]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(0===autoHideTime)return;const timeout=setTimeout((()=>{null==onAutoHide||onAutoHide(),setShouldDisplay(!1)}),autoHideTime);return function(){clearTimeout(timeout)}}),[autoHideTime,onAutoHide]);const actionableMessageClassName=classnames__WEBPACK_IMPORTED_MODULE_1___default()("actionable-message",typeHash[type],withRightButton?CLASSNAME_WITH_RIGHT_BUTTON:null,className,{"actionable-message--with-icon":useIcon}),onlyOneAction=primaryAction&&!secondaryAction||secondaryAction&&!primaryAction;return shouldDisplay?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:actionableMessageClassName,"data-testid":dataTestId},useIcon?icon||react__WEBPACK_IMPORTED_MODULE_0__.createElement(_info_tooltip_info_tooltip_icon__WEBPACK_IMPORTED_MODULE_3__.Z,{fillColor:iconFillColor}):null,infoTooltipText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_info_tooltip__WEBPACK_IMPORTED_MODULE_2__.Z,{position:"left",contentText:infoTooltipText,wrapperClassName:"actionable-message__info-tooltip-wrapper"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actionable-message__message"},message),primaryActionV2&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"actionable-message__action-v2",onClick:primaryActionV2.onClick},primaryActionV2.label),(primaryAction||secondaryAction)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("actionable-message__actions",{"actionable-message__actions--single":onlyOneAction})},primaryAction&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("actionable-message__action","actionable-message__action--primary",`actionable-message__action-${type}`,{"actionable-message__action--rounded":roundedButtons}),onClick:primaryAction.onClick},primaryAction.label),secondaryAction&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("actionable-message__action","actionable-message__action--secondary",`actionable-message__action-${type}`,{"actionable-message__action--rounded":roundedButtons}),onClick:secondaryAction.onClick},secondaryAction.label))):null}ActionableMessage.propTypes={message:prop_types__WEBPACK_IMPORTED_MODULE_4___default().node.isRequired,primaryAction:prop_types__WEBPACK_IMPORTED_MODULE_4___default().shape({label:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func}),primaryActionV2:prop_types__WEBPACK_IMPORTED_MODULE_4___default().shape({label:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func}),secondaryAction:prop_types__WEBPACK_IMPORTED_MODULE_4___default().shape({label:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func}),className:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,type:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOf(Object.keys(typeHash)),withRightButton:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,infoTooltipText:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,useIcon:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,icon:prop_types__WEBPACK_IMPORTED_MODULE_4___default().node,iconFillColor:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,roundedButtons:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,dataTestId:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,autoHideTime:prop_types__WEBPACK_IMPORTED_MODULE_4___default().number,onAutoHide:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func},ActionableMessage.__docgenInfo={description:"@deprecated `<ActionableMessage />` has been deprecated in favor of the `<BannerAlert />`\ncomponent in ./ui/components/component-library/banner-alert/banner-alert.js.\nSee storybook documentation for BannerAlert here:\n{@see {@link https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-banneralert--default-story#banneralert}}\n\nHelp to replace `ActionableMessage` with `BannerAlert` by submitting a PR against\n{@link https://github.com/MetaMask/metamask-extension/issues/19528}",methods:[],displayName:"ActionableMessage",props:{message:{defaultValue:{value:"''",computed:!1},description:"Text inside actionable message",type:{name:"node"},required:!1},primaryAction:{defaultValue:{value:"null",computed:!1},description:"First button props that have label and onClick props",type:{name:"shape",value:{label:{name:"string",required:!1},onClick:{name:"func",required:!1}}},required:!1},primaryActionV2:{defaultValue:{value:"null",computed:!1},description:"Another style of primary action.\nThis probably shouldn't have been added. A `children` prop might have been more appropriate.",type:{name:"shape",value:{label:{name:"string",required:!1},onClick:{name:"func",required:!1}}},required:!1},secondaryAction:{defaultValue:{value:"null",computed:!1},description:"Second button props that have label and onClick props",type:{name:"shape",value:{label:{name:"string",required:!1},onClick:{name:"func",required:!1}}},required:!1},className:{defaultValue:{value:"''",computed:!1},description:"Additional css className for the component based on the parent css",type:{name:"string"},required:!1},infoTooltipText:{defaultValue:{value:"''",computed:!1},description:"Add tooltip and custom message",type:{name:"string"},required:!1},withRightButton:{defaultValue:{value:"false",computed:!1},description:"change text align to left and button to bottom right",type:{name:"bool"},required:!1},type:{defaultValue:{value:"'default'",computed:!1},description:"change color theme for the component that already predefined in css",type:{name:"enum",value:[{value:'"warning"',computed:!1},{value:'"danger"',computed:!1},{value:'"success"',computed:!1},{value:'"default"',computed:!1}]},required:!1},useIcon:{defaultValue:{value:"false",computed:!1},description:"Add tooltip icon in the left component without message",type:{name:"bool"},required:!1},iconFillColor:{defaultValue:{value:"''",computed:!1},description:"change tooltip icon color",type:{name:"string"},required:!1},autoHideTime:{defaultValue:{value:"0",computed:!1},description:"Whether the actionable message should auto-hide itself after a given amount of time",type:{name:"number"},required:!1},icon:{description:"Custom icon component",type:{name:"node"},required:!1},roundedButtons:{description:"Whether the buttons are rounded",type:{name:"bool"},required:!1},dataTestId:{description:"",type:{name:"string"},required:!1},onAutoHide:{description:"Callback when autoHide time expires",type:{name:"func"},required:!1}}}},"./ui/components/ui/error-message/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>error_message_component});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),component_library=__webpack_require__("./ui/components/component-library/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");const ErrorMessage=(props,context)=>{const{errorMessage,errorKey}=props,error=errorKey?context.t(errorKey):errorMessage;return react.createElement("div",{className:"error-message"},react.createElement(component_library.JO,{className:"error-message__icon",name:component_library.uH.Warning,size:component_library.Jh.Sm,color:design_system.EY.errorDefault,marginRight:2}),react.createElement("div",{className:"error-message__text"},error))};ErrorMessage.propTypes={errorMessage:prop_types_default().string,errorKey:prop_types_default().string},ErrorMessage.contextTypes={t:prop_types_default().func},ErrorMessage.__docgenInfo={description:"@deprecated - Please use ActionableMessage type danger\n@see ActionableMessage\n@param {object} props\n@param {string} props.errorMessage\n@param {string} props.errorKey\n@param {object} context",methods:[],displayName:"ErrorMessage",props:{errorMessage:{description:"The text content for the error message",type:{name:"string"},required:!1},errorKey:{description:"The translate key for localization. Uses context.t(). Will override the error message",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!1}}};const error_message_component=ErrorMessage}}]);