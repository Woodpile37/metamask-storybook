"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[5722],{"./ui/pages/confirm-import-token/confirm-import-token.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>confirm_import_token_stories_namedExportsOrder,default:()=>confirm_import_token_stories});var react=__webpack_require__("./node_modules/react/index.js"),preview=__webpack_require__("./.storybook/preview.js");var actions=__webpack_require__("./ui/store/actions.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),identicon=__webpack_require__("./ui/components/ui/identicon/index.js"),token_balance=__webpack_require__("./ui/components/ui/token-balance/index.js"),i18n=__webpack_require__("./ui/contexts/i18n.js"),metametrics=__webpack_require__("./ui/contexts/metametrics.js"),history_history=__webpack_require__("./ui/ducks/history/history.js"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),constants_metametrics=__webpack_require__("./shared/constants/metametrics.ts"),transaction=__webpack_require__("./shared/constants/transaction.ts");const ConfirmImportToken=()=>{const t=(0,react.useContext)(i18n.OO),dispatch=(0,es.I0)(),history=(0,react_router.k6)(),trackEvent=(0,react.useContext)(metametrics.Wd),mostRecentOverviewPage=(0,es.v9)(history_history.H7),pendingTokens=(0,es.v9)(metamask.ng),handleAddTokens=(0,react.useCallback)((async()=>{var _addedTokenValues$0$a;await dispatch((0,actions.oLl)(pendingTokens));const addedTokenValues=Object.values(pendingTokens),firstTokenAddress=null==addedTokenValues||null===(_addedTokenValues$0$a=addedTokenValues[0].address)||void 0===_addedTokenValues$0$a?void 0:_addedTokenValues$0$a.toLowerCase();addedTokenValues.forEach((pendingToken=>{trackEvent({event:constants_metametrics.AW.TokenAdded,category:constants_metametrics.ci.Wallet,sensitiveProperties:{token_symbol:pendingToken.symbol,token_contract_address:pendingToken.address,token_decimal_precision:pendingToken.decimals,unlisted:pendingToken.unlisted,source_connection_method:pendingToken.isCustom?constants_metametrics.iL.Custom:constants_metametrics.iL.List,token_standard:transaction.Yn.ERC20,asset_type:transaction.h3.token}})})),dispatch((0,actions.GyR)()),firstTokenAddress?history.push(`${routes.Qv}/${firstTokenAddress}`):history.push(mostRecentOverviewPage)}),[dispatch,history,mostRecentOverviewPage,pendingTokens,trackEvent]);return(0,react.useEffect)((()=>{0===Object.keys(pendingTokens).length&&history.push(mostRecentOverviewPage)}),[]),react.createElement("div",{className:"page-container"},react.createElement("div",{className:"page-container__header"},react.createElement("div",{className:"page-container__title"},t("importTokensCamelCase")),react.createElement("div",{className:"page-container__subtitle"},t("likeToImportTokens"))),react.createElement("div",{className:"page-container__content"},react.createElement("div",{className:"confirm-import-token"},react.createElement("div",{className:"confirm-import-token__header"},react.createElement("div",{className:"confirm-import-token__token"},t("token")),react.createElement("div",{className:"confirm-import-token__balance"},t("balance"))),react.createElement("div",{className:"confirm-import-token__token-list"},Object.entries(pendingTokens).map((([address,token])=>{const{name,symbol}=token;return react.createElement("div",{className:"confirm-import-token__token-list-item",key:address},react.createElement("div",{className:"confirm-import-token__token confirm-import-token__data"},react.createElement(identicon.Z,{className:"confirm-import-token__token-icon",diameter:48,address}),react.createElement("div",{className:"confirm-import-token__name"},((name,symbol)=>void 0===name?symbol:`${name} (${symbol})`)(name,symbol))),react.createElement("div",{className:"confirm-import-token__balance"},react.createElement(token_balance.Z,{token})))}))))),react.createElement("div",{className:"page-container__footer"},react.createElement("footer",null,react.createElement(ui_button.Z,{type:"secondary",large:!0,className:"page-container__footer-button",onClick:()=>{dispatch((0,actions.GyR)()),history.push(routes.qv)}},t("back")),react.createElement(ui_button.Z,{type:"primary",large:!0,className:"page-container__footer-button",onClick:handleAddTokens},t("importTokensCamelCase")))))};ConfirmImportToken.__docgenInfo={description:"",methods:[],displayName:"ConfirmImportToken"};const pages_confirm_import_token=ConfirmImportToken;var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3;const confirm_import_token_stories={title:"Pages/ConfirmImportToken",argTypes:{pendingTokens:{control:"object",table:{category:"Data"}}}},PageSet=({children,pendingTokens})=>{const{metamask:state}=preview.store.getState();return(0,react.useEffect)((()=>{preview.store.dispatch((0,actions.MK2)((0,preview.getNewState)(state,{pendingTokens})))}),[state,pendingTokens]),children},DefaultStory=({pendingTokens})=>react.createElement(PageSet,{pendingTokens},react.createElement(pages_confirm_import_token,null));DefaultStory.args={pendingTokens:{"0x33f90dee07c6e8b9682dd20f73e6c358b2ed0f03":{address:"0x33f90dee07c6e8b9682dd20f73e6c358b2ed0f03",symbol:"TRDT",decimals:18,unlisted:!1},"0x39013f961c378f02c2b82a6e1d31e9812786fd9d":{address:"0x39013f961c378f02c2b82a6e1d31e9812786fd9d",symbol:"SMS",decimals:18,unlisted:!1},"0x78b7fada55a64dd895d8c8c35779dd8b67fa8a05":{address:"0x78b7fada55a64dd895d8c8c35779dd8b67fa8a05",symbol:"ATL",decimals:18,unlisted:!1},"0xfd8971d5e8e1740ce2d0a84095fca4de729d0c16":{address:"0xfd8971d5e8e1740ce2d0a84095fca4de729d0c16",symbol:"ZLA",decimals:18,unlisted:!1},"0xe83cccfabd4ed148903bf36d4283ee7c8b3494d1":{address:"0xe83cccfabd4ed148903bf36d4283ee7c8b3494d1",symbol:"BTT",decimals:18,unlisted:!1},"0x7a07e1a0c2514d51132183ecfea2a880ec3b7648":{address:"0x7a07e1a0c2514d51132183ecfea2a880ec3b7648",symbol:"IXE",decimals:18,unlisted:!1},"0x467Bccd9d29f223BcE8043b84E8C8B282827790F":{address:"0x467Bccd9d29f223BcE8043b84E8C8B282827790F",symbol:"TEL",decimals:18,unlisted:!1},"0xff20817765cb7f73d4bde2e66e067e58d11095c2":{address:"0xff20817765cb7f73d4bde2e66e067e58d11095c2",symbol:"AMP",decimals:18,unlisted:!1},"0x15bda08c3afbf5955d6e9b235fd55a1fd0dbc829":{address:"0x15bda08c3afbf5955d6e9b235fd55a1fd0dbc829",symbol:"APC",decimals:18,unlisted:!1}}},DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"({\n  pendingTokens\n}) => {\n  return <PageSet pendingTokens={pendingTokens}>\n      <ConfirmAddToken />\n    </PageSet>;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}};const confirm_import_token_stories_namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/ui/currency-display/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>CurrencyDisplay});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),useCurrencyDisplay=__webpack_require__("./ui/hooks/useCurrencyDisplay.js"),common=__webpack_require__("./shared/constants/common.ts");function CurrencyDisplay({value,displayValue,"data-testid":dataTestId,style,className,prefix,prefixComponent,hideLabel,hideTitle,numberOfDecimals,denomination,currency,suffix}){const[title,parts]=(0,useCurrencyDisplay._)(value,{displayValue,prefix,numberOfDecimals,hideLabel,denomination,currency,suffix});return react.createElement("div",{className:classnames_default()("currency-display-component",className),"data-testid":dataTestId,style,title:!hideTitle&&title||null},react.createElement("span",{className:"currency-display-component__prefix"},prefixComponent),react.createElement("span",{className:"currency-display-component__text"},parts.prefix,parts.value),parts.suffix&&react.createElement("span",{className:"currency-display-component__suffix"},parts.suffix))}CurrencyDisplay.propTypes={className:prop_types_default().string,currency:prop_types_default().string,"data-testid":prop_types_default().string,denomination:prop_types_default().oneOf([common.E.GWEI,common.E.ETH]),displayValue:prop_types_default().string,hideLabel:prop_types_default().bool,hideTitle:prop_types_default().bool,numberOfDecimals:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),prefix:prop_types_default().string,prefixComponent:prop_types_default().node,style:prop_types_default().object,suffix:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().bool]),value:prop_types_default().string},CurrencyDisplay.__docgenInfo={description:"",methods:[],displayName:"CurrencyDisplay",props:{className:{description:"",type:{name:"string"},required:!1},currency:{description:"",type:{name:"string"},required:!1},"data-testid":{description:"",type:{name:"string"},required:!1},denomination:{description:"",type:{name:"enum",value:[{value:"EtherDenomination.GWEI",computed:!0},{value:"EtherDenomination.ETH",computed:!0}]},required:!1},displayValue:{description:"",type:{name:"string"},required:!1},hideLabel:{description:"",type:{name:"bool"},required:!1},hideTitle:{description:"",type:{name:"bool"},required:!1},numberOfDecimals:{description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},prefix:{description:"",type:{name:"string"},required:!1},prefixComponent:{description:"",type:{name:"node"},required:!1},style:{description:"",type:{name:"object"},required:!1},suffix:{description:"",type:{name:"union",value:[{name:"string"},{name:"bool"}]},required:!1},value:{description:"",type:{name:"string"},required:!1}}}},"./ui/components/ui/identicon/blockieIdenticon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/blockieIdenticon.component.js")},"./ui/components/ui/identicon/identicon.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Identicon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),_jazzicon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/jazzicon/index.js"),_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/util.js"),_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const getStyles=diameter=>({height:diameter,width:diameter,borderRadius:diameter/2});class Identicon extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),_defineProperty(this,"state",{imageLoadingError:!1})}renderImage(){const{className,diameter,alt,imageBorder,ipfsGateway}=this.props;let{image}=this.props;return Array.isArray(image)&&image.length&&(image=image[0]),"string"==typeof image&&image.toLowerCase().startsWith("ipfs://")&&(image=(0,_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__.MP)(image,ipfsGateway)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className,{"identicon__image-border":imageBorder}),src:image,style:getStyles(diameter),alt,onError:()=>{this.setState({imageLoadingError:!0})}})}renderJazzicon(){const{address,className,diameter,alt,tokenList}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jazzicon__WEBPACK_IMPORTED_MODULE_3__.Z,{address,diameter,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter),alt,tokenList})}renderBlockie(){const{address,className,diameter,alt}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__.Z,{address,diameter,alt}))}renderBlockieOrJazzIcon(){const{useBlockie}=this.props;return useBlockie?this.renderBlockie():this.renderJazzicon()}shouldComponentUpdate(nextProps,nextState){return!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextProps,this.props)||!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextState,this.state)}render(){const{address,image,addBorder,diameter,tokenList}=this.props,{imageLoadingError}=this.state,size=diameter+8;return imageLoadingError?this.renderBlockieOrJazzIcon():image?this.renderImage():address?null!==(_tokenList$address$to=tokenList[address.toLowerCase()])&&void 0!==_tokenList$address$to&&_tokenList$address$to.iconUrl?this.renderJazzicon():react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"identicon__address-wrapper":addBorder}),style:addBorder?getStyles(size):null},this.renderBlockieOrJazzIcon()):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:getStyles(diameter),className:"identicon__image-border"});var _tokenList$address$to}}_defineProperty(Identicon,"propTypes",{addBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,address:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,diameter:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,image:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,prop_types__WEBPACK_IMPORTED_MODULE_6___default().array]),useBlockie:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,alt:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,imageBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,tokenList:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,ipfsGateway:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string}),_defineProperty(Identicon,"defaultProps",{addBorder:!1,address:void 0,className:void 0,diameter:46,image:void 0,useBlockie:!1,alt:"",tokenList:{}}),Identicon.__docgenInfo={description:"",methods:[{name:"renderImage",docblock:null,modifiers:[],params:[],returns:null},{name:"renderJazzicon",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockie",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockieOrJazzIcon",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Identicon",props:{addBorder:{defaultValue:{value:"false",computed:!1},description:"Adds blue border around the Identicon used for selected account.\nIncreases the width and height of the Identicon by 8px",type:{name:"bool"},required:!1},address:{defaultValue:{value:"undefined",computed:!0},description:"Address used for generating random image",type:{name:"string"},required:!1},className:{defaultValue:{value:"undefined",computed:!0},description:"Add custom css class",type:{name:"string"},required:!1},diameter:{defaultValue:{value:"46",computed:!1},description:"Sets the width and height of the inner img element\nIf addBorder is true will increase components height and width by 8px",type:{name:"number"},required:!1},image:{defaultValue:{value:"undefined",computed:!0},description:"Used as the image source of the Identicon",type:{name:"union",value:[{name:"string"},{name:"array"}]},required:!1},useBlockie:{defaultValue:{value:"false",computed:!1},description:"Use the blockie type random image generator",type:{name:"bool"},required:!1},alt:{defaultValue:{value:"''",computed:!1},description:"The alt text of the image",type:{name:"string"},required:!1},tokenList:{defaultValue:{value:"{}",computed:!1},description:"Add list of token in object",type:{name:"object"},required:!1},imageBorder:{description:"Check if show image border",type:{name:"bool"},required:!1},ipfsGateway:{description:"User preferred IPFS gateway",type:{name:"string"},required:!1}}}},"./ui/components/ui/identicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>identicon_container});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),identicon_component=__webpack_require__("./ui/components/ui/identicon/identicon.component.js");const identicon_container=(0,es.$j)((state=>{const{metamask:{useBlockie,ipfsGateway}}=state;return{useBlockie,tokenList:(0,selectors.HJ)(state),ipfsGateway}}))(identicon_component.Z)},"./ui/components/ui/jazzicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_jazzicon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _jazzicon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/jazzicon/jazzicon.component.js")},"./ui/components/ui/token-balance/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>TokenBalance});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),currency_display=__webpack_require__("./ui/components/ui/currency-display/index.js"),useTokenTracker=__webpack_require__("./ui/hooks/useTokenTracker.js");function TokenBalance({className,token}){const{tokensWithBalances}=(0,useTokenTracker.S)([token]),{string,symbol}=tokensWithBalances[0]||{};return react.createElement(currency_display.Z,{className,displayValue:string||"",suffix:symbol||""})}TokenBalance.propTypes={className:prop_types_default().string,token:prop_types_default().shape({address:prop_types_default().string.isRequired,decimals:prop_types_default().number,symbol:prop_types_default().string}).isRequired},TokenBalance.defaultProps={className:void 0},TokenBalance.__docgenInfo={description:"",methods:[],displayName:"TokenBalance",props:{className:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"string"},required:!1},token:{description:"",type:{name:"shape",value:{address:{name:"string",required:!0},decimals:{name:"number",required:!1},symbol:{name:"string",required:!1}}},required:!0}}}},"./ui/hooks/useCurrencyDisplay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>useCurrencyDisplay});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_helpers_utils_confirm_tx_util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/utils/confirm-tx.util.ts"),_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/selectors/index.js"),_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/ducks/metamask/metamask.js"),_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./shared/modules/conversion.utils.ts"),_shared_constants_network__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./shared/constants/network.ts"),_shared_modules_Numeric__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./shared/modules/Numeric.ts"),_shared_constants_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./shared/constants/common.ts");function useCurrencyDisplay(inputValue,{displayValue,prefix,numberOfDecimals,denomination,currency,...opts}){const currentCurrency=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_3__.TV3),nativeCurrency=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_4__.JK),conversionRate=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_4__.PC),isUserPreferredCurrency=currency===currentCurrency,value=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>displayValue||(currency===nativeCurrency||!isUserPreferredCurrency&&!nativeCurrency?new _shared_modules_Numeric__WEBPACK_IMPORTED_MODULE_7__.D(inputValue,16,_shared_constants_common__WEBPACK_IMPORTED_MODULE_8__.E.WEI).toDenomination(denomination||_shared_constants_common__WEBPACK_IMPORTED_MODULE_8__.E.ETH).round(numberOfDecimals||2).toBase(10).toString():isUserPreferredCurrency&&conversionRate?(0,_helpers_utils_confirm_tx_util__WEBPACK_IMPORTED_MODULE_2__.xG)((0,_shared_modules_conversion_utils__WEBPACK_IMPORTED_MODULE_5__.nu)({value:inputValue,fromCurrency:nativeCurrency,toCurrency:currency,conversionRate,numberOfDecimals:numberOfDecimals||2,toDenomination:denomination}),currency):null)),[inputValue,nativeCurrency,conversionRate,displayValue,numberOfDecimals,denomination,currency,isUserPreferredCurrency]);let suffix;if(!opts.hideLabel){const currencyTickerSymbol=Object.values(_shared_constants_network__WEBPACK_IMPORTED_MODULE_6__.VL).includes(currency)?currency:null==currency?void 0:currency.toUpperCase();suffix=opts.suffix||currencyTickerSymbol}return[`${prefix||""}${value}${suffix?` ${suffix}`:""}`,{prefix,value,suffix}]}},"./ui/hooks/useEqualityCheck.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>useEqualityCheck});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js");function useEqualityCheck(value,equalityFn=lodash__WEBPACK_IMPORTED_MODULE_1__.isEqual){const[computedValue,setComputedValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{equalityFn(value,computedValue)||setComputedValue(value)}),[value,equalityFn,computedValue]),computedValue}},"./ui/hooks/useTokenTracker.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>useTokenTracker});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_metamask_eth_token_tracker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@metamask/eth-token-tracker/dist/index.js"),_metamask_eth_token_tracker__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_metamask_eth_token_tracker__WEBPACK_IMPORTED_MODULE_1__),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-redux/es/index.js"),_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/selectors/index.js"),_shared_constants_time__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/constants/time.ts"),_shared_modules_string_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./shared/modules/string-utils.ts"),_useEqualityCheck__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/hooks/useEqualityCheck.js");function useTokenTracker(tokens,includeFailedTokens=!1,hideZeroBalanceTokens=!1){const chainId=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_3__.BVZ),userAddress=(0,react_redux__WEBPACK_IMPORTED_MODULE_2__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_3__.GJg,react_redux__WEBPACK_IMPORTED_MODULE_2__.wU),[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>(null==tokens?void 0:tokens.length)>=0)),[tokensWithBalances,setTokensWithBalances]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),tokenTracker=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),memoizedTokens=(0,_useEqualityCheck__WEBPACK_IMPORTED_MODULE_5__.F)(tokens),updateBalances=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((tokenWithBalances=>{const matchingTokensWithIsERC721Flag=(hideZeroBalanceTokens?tokenWithBalances.filter((token=>Number(token.balance)>0)):tokenWithBalances).map((token=>{const additionalTokenData=memoizedTokens.find((t=>(0,_shared_modules_string_utils__WEBPACK_IMPORTED_MODULE_6__.J)(t.address,token.address)));return{...token,isERC721:null==additionalTokenData?void 0:additionalTokenData.isERC721,image:null==additionalTokenData?void 0:additionalTokenData.image}}));setTokensWithBalances(matchingTokensWithIsERC721Flag),setLoading(!1),setError(null)}),[hideZeroBalanceTokens,memoizedTokens]),showError=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((err=>{setError(err),setLoading(!1)}),[]),teardownTracker=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{tokenTracker.current&&(tokenTracker.current.stop(),tokenTracker.current.removeAllListeners("update"),tokenTracker.current.removeAllListeners("error"),tokenTracker.current=null)}),[]),buildTracker=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((address,tokenList)=>{teardownTracker(),tokenTracker.current=new(_metamask_eth_token_tracker__WEBPACK_IMPORTED_MODULE_1___default())({userAddress:address,provider:__webpack_require__.g.ethereumProvider,tokens:tokenList,includeFailedTokens,pollingInterval:8*_shared_constants_time__WEBPACK_IMPORTED_MODULE_4__.sh,balanceDecimals:5}),tokenTracker.current.on("update",updateBalances),tokenTracker.current.on("error",showError),tokenTracker.current.updateBalances()}),[updateBalances,includeFailedTokens,showError,teardownTracker]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>teardownTracker),[teardownTracker]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setLoading(!0),userAddress&&void 0!==chainId&&__webpack_require__.g.ethereumProvider?(0===memoizedTokens.length&&updateBalances([]),buildTracker(userAddress,memoizedTokens)):teardownTracker()}),[userAddress,teardownTracker,chainId,memoizedTokens,updateBalances,buildTracker]),{loading,tokensWithBalances,error}}}}]);