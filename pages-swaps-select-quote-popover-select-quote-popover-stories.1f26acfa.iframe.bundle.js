/*! For license information please see pages-swaps-select-quote-popover-select-quote-popover-stories.1f26acfa.iframe.bundle.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[9138],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{NF:()=>withMDXComponents,Zo:()=>MDXProvider,ah:()=>useMDXComponents,pC:()=>MDXContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./ui/pages/swaps/select-quote-popover/select-quote-popover.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>select_quote_popover_stories});var react=__webpack_require__("./node_modules/react/index.js"),ui_button=__webpack_require__("./ui/components/ui/button/index.js");const mock_quote_data=[{aggId:"Agg1",amountReceiving:"100 DAI",destinationTokenDecimals:18,destinationTokenSymbol:"DAI",destinationTokenValue:"100000000000000000000",isBestQuote:!1,networkFees:"$15.25",quoteSource:"AGG",rawNetworkFees:"10.25",slippage:"1%",sourceTokenDecimals:18,sourceTokenSymbol:"ETH",sourceTokenValue:"250000000000000000"},{aggId:"Agg2",amountReceiving:"101 DAI",destinationTokenDecimals:18,destinationTokenSymbol:"DAI",destinationTokenValue:"101000000000000000000",isBestQuote:!1,networkFees:"$14.26",quoteSource:"RFQ",rawNetworkFees:"10.26",slippage:"1%",sourceTokenDecimals:18,sourceTokenSymbol:"ETH",sourceTokenValue:"250000000000000000"},{aggId:"Agg3",amountReceiving:"102 DAI",destinationTokenDecimals:18,destinationTokenSymbol:"DAI",destinationTokenValue:"102000000000000000000",isBestQuote:!1,networkFees:"$13.27",quoteSource:"DEX",rawNetworkFees:"10.27",slippage:"1%",sourceTokenDecimals:18,sourceTokenSymbol:"ETH",sourceTokenValue:"250000000000000000"},{aggId:"Agg4",amountReceiving:"150 DAI",destinationTokenDecimals:18,destinationTokenSymbol:"DAI",destinationTokenValue:"150000000000000000000",isBestQuote:!0,networkFees:"$12.28",quoteSource:"AGG",rawNetworkFees:"10.28",slippage:"1%",sourceTokenDecimals:18,sourceTokenSymbol:"ETH",sourceTokenValue:"250000000000000000"},{aggId:"Agg5",amountReceiving:"104 DAI",destinationTokenDecimals:18,destinationTokenSymbol:"DAI",destinationTokenValue:"104000000000000000000",isBestQuote:!1,networkFees:"$11.29",quoteSource:"RFQ",rawNetworkFees:"10.29",slippage:"1%",sourceTokenDecimals:18,sourceTokenSymbol:"ETH",sourceTokenValue:"250000000000000000"},{aggId:"Agg6",amountReceiving:"105 DAI",destinationTokenDecimals:18,destinationTokenSymbol:"DAI",destinationTokenValue:"105000000000000000000",isBestQuote:!1,networkFees:"$10.30",quoteSource:"DEX",rawNetworkFees:"10.3",slippage:"1%",sourceTokenDecimals:18,sourceTokenSymbol:"ETH",sourceTokenValue:"250000000000000000"}];var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),lib=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-docs/dist/index.mjs"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),i18n=__webpack_require__("./ui/contexts/i18n.js"),popover=__webpack_require__("./ui/components/ui/popover/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),info_tooltip=__webpack_require__("./ui/components/ui/info-tooltip/index.js"),exchange_rate_display=__webpack_require__("./ui/pages/swaps/exchange-rate-display/index.js"),selectors=__webpack_require__("./ui/selectors/index.js");const QuoteDetails=({slippage,sourceTokenValue,sourceTokenSymbol,destinationTokenValue,destinationTokenSymbol,liquiditySourceKey,minimumAmountReceived,feeInEth,networkFees,metaMaskFee,hideEstimatedGasFee})=>{const t=(0,react.useContext)(i18n.OO),useCurrencyRateCheck=(0,es.v9)(selectors.nsI);return react.createElement("div",{className:"quote-details"},react.createElement("div",{className:"quote-details__row"},react.createElement("div",{className:"quote-details__detail-header"},t("swapRate")),react.createElement("div",{className:"quote-details__detail-content"},react.createElement(exchange_rate_display.Z,{primaryTokenValue:sourceTokenValue,primaryTokenDecimals:1,primaryTokenSymbol:sourceTokenSymbol,secondaryTokenValue:destinationTokenValue,secondaryTokenDecimals:1,secondaryTokenSymbol:destinationTokenSymbol}))),react.createElement("div",{className:"quote-details__row"},react.createElement("div",{className:"quote-details__detail-header"},t("swapMaxSlippage"),react.createElement(info_tooltip.Z,{position:"bottom",contentText:t("swapSlippageTooltip")})),react.createElement("div",{className:"quote-details__detail-content"},`${slippage}%`)),react.createElement("div",{className:"quote-details__row"},react.createElement("div",{className:"quote-details__detail-header"},t("swapAmountReceived"),react.createElement(info_tooltip.Z,{position:"bottom",contentText:t("swapAmountReceivedInfo")})),react.createElement("div",{className:"quote-details__detail-content"},react.createElement("span",null,minimumAmountReceived),react.createElement("span",{className:"quote-details__bold"},` ${destinationTokenSymbol}`))),!hideEstimatedGasFee&&react.createElement("div",{className:"quote-details__row"},react.createElement("div",{className:"quote-details__detail-header"},t("swapEstimatedNetworkFees"),react.createElement(info_tooltip.Z,{position:"bottom",contentText:t("swapEstimatedNetworkFeesInfo")})),react.createElement("div",{className:"quote-details__detail-content"},react.createElement("span",null,feeInEth),react.createElement("span",{className:"quote-details__light-grey"},useCurrencyRateCheck&&` (${networkFees})`))),react.createElement("div",{className:"quote-details__row"},react.createElement("div",{className:"quote-details__detail-header"},t("swapSource"),react.createElement(info_tooltip.Z,{position:"bottom",contentText:t("swapLiquiditySourceInfo")})),react.createElement("div",{className:"quote-details__detail-content"},t(liquiditySourceKey))),react.createElement("div",{className:"quote-details__row quote-details__row--high"},react.createElement("div",{className:"quote-details__detail-header"},react.createElement("img",{src:"./images/logo/metamask-fox.svg",className:"quote-details__metafox-logo",alt:""}),t("swapMetaMaskFee")),react.createElement("div",{className:"quote-details__detail-content"},t("swapMetaMaskFeeDescription",[metaMaskFee]))))};QuoteDetails.propTypes={slippage:prop_types_default().number.isRequired,sourceTokenValue:prop_types_default().string.isRequired,sourceTokenSymbol:prop_types_default().string.isRequired,destinationTokenValue:prop_types_default().string.isRequired,destinationTokenSymbol:prop_types_default().string.isRequired,liquiditySourceKey:prop_types_default().string.isRequired,minimumAmountReceived:prop_types_default().string.isRequired,feeInEth:prop_types_default().string.isRequired,networkFees:prop_types_default().string.isRequired,metaMaskFee:prop_types_default().number.isRequired,hideEstimatedGasFee:prop_types_default().bool},QuoteDetails.__docgenInfo={description:"",methods:[],displayName:"QuoteDetails",props:{slippage:{description:"",type:{name:"number"},required:!0},sourceTokenValue:{description:"",type:{name:"string"},required:!0},sourceTokenSymbol:{description:"",type:{name:"string"},required:!0},destinationTokenValue:{description:"",type:{name:"string"},required:!0},destinationTokenSymbol:{description:"",type:{name:"string"},required:!0},liquiditySourceKey:{description:"",type:{name:"string"},required:!0},minimumAmountReceived:{description:"",type:{name:"string"},required:!0},feeInEth:{description:"",type:{name:"string"},required:!0},networkFees:{description:"",type:{name:"string"},required:!0},metaMaskFee:{description:"",type:{name:"number"},required:!0},hideEstimatedGasFee:{description:"",type:{name:"bool"},required:!1}}};const quote_details=QuoteDetails;var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),bignumber=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_default=__webpack_require__.n(bignumber),sun_check_icon_component=__webpack_require__("./ui/components/ui/icon/sun-check-icon.component.js");const QUOTE_DATA_ROWS_PROPTYPES_SHAPE=prop_types_default().shape({aggId:prop_types_default().string.isRequired,amountReceiving:prop_types_default().string.isRequired,destinationTokenDecimals:prop_types_default().number.isRequired,destinationTokenSymbol:prop_types_default().string.isRequired,destinationTokenValue:prop_types_default().string.isRequired,isBestQuote:prop_types_default().bool,networkFees:prop_types_default().string.isRequired,quoteSource:prop_types_default().string.isRequired,rawNetworkFees:prop_types_default().string.isRequired,slippage:prop_types_default().number.isRequired,sourceTokenDecimals:prop_types_default().number.isRequired,sourceTokenSymbol:prop_types_default().string.isRequired,sourceTokenValue:prop_types_default().string.isRequired}),ToggleArrows=()=>react.createElement("svg",{width:"6",height:"9",viewBox:"0 0 6 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react.createElement("path",{d:"M0.7948 4.96973C0.365112 4.96973 0.150269 5.47754 0.462769 5.77051L2.78699 8.09473C2.96277 8.29004 3.25574 8.29004 3.45105 8.09473L5.77527 5.77051C6.06824 5.47754 5.85339 4.96973 5.44324 4.96973H0.7948ZM5.77527 2.91895L3.45105 0.594727C3.25574 0.418945 2.96277 0.418945 2.78699 0.594727L0.462769 2.91895C0.150269 3.23145 0.365112 3.71973 0.7948 3.71973H5.44324C5.85339 3.71973 6.06824 3.23145 5.77527 2.91895Z",fill:"var(--color-primary-default)"}));function SortList({quoteDataRows,selectedAggId,onSelect,onCaretClick,swapToSymbol,sortDirection,setSortDirection,sortColumn=null,setSortColumn,hideEstimatedGasFee}){const t=(0,react.useContext)(i18n.OO),[noRowHover,setRowNowHover]=(0,react.useState)(!1),useCurrencyRateCheck=(0,es.v9)(selectors.nsI),onColumnHeaderClick=nextSortColumn=>{nextSortColumn===sortColumn?setSortDirection(-1*sortDirection):setSortColumn(nextSortColumn)},sortedRows=(0,react.useMemo)((()=>[...quoteDataRows].sort(((rowDataA,rowDataB)=>{if(null===sortColumn&&rowDataA.isBestQuote)return-1;if(null===sortColumn&&rowDataB.isBestQuote)return 1;if(null===sortColumn){const aHex=new(bignumber_default())(rowDataA.destinationTokenValue).toString(16),bHex=new(bignumber_default())(rowDataB.destinationTokenValue).toString(16);return aHex[aHex.length-1]<bHex[bHex.length-1]?-1:1}return"quoteSource"===sortColumn?rowDataA[sortColumn]>rowDataB[sortColumn]?-1*sortDirection:sortDirection:new(bignumber_default())(rowDataA[sortColumn]).gt(rowDataB[sortColumn])?-1*sortDirection:sortDirection}))),[quoteDataRows,sortColumn,sortDirection]),selectedRow=sortedRows.findIndex((({aggId})=>selectedAggId===aggId));return react.createElement("div",{className:"select-quote-popover__sort-list"},react.createElement("div",{className:"select-quote-popover__column-headers"},react.createElement("div",{className:"select-quote-popover__column-header select-quote-popover__receiving","data-testid":"select-quote-popover__receiving",onClick:()=>onColumnHeaderClick("destinationTokenValue")},react.createElement("span",{className:"select-quote-popover__receiving-symbol"},swapToSymbol),react.createElement("div",{className:"select-quote-popover__receiving-label"},react.createElement("span",null,t("swapReceiving")),react.createElement(info_tooltip.Z,{position:"bottom",contentText:t("swapReceivingInfoTooltip")}),react.createElement(ToggleArrows,null))),react.createElement("div",{className:"select-quote-popover__column-header select-quote-popover__network-fees select-quote-popover__network-fees-header","data-testid":"select-quote-popover__network-fees-header",onClick:()=>onColumnHeaderClick("rawNetworkFees")},!hideEstimatedGasFee&&useCurrencyRateCheck&&react.createElement(react.Fragment,null,react.createElement("span",null,t("swapEstimatedNetworkFees")),react.createElement(info_tooltip.Z,{position:"bottom",contentText:t("swapEstimatedNetworkFeesInfo")}),react.createElement(ToggleArrows,null))),react.createElement("div",{className:"select-quote-popover__column-header select-quote-popover__quote-source","data-testid":"select-quote-popover__quote-source",onClick:()=>onColumnHeaderClick("quoteSource")},t("swapQuoteSource"),react.createElement("div",{className:"select-quote-popover__quote-source-toggle"},react.createElement(ToggleArrows,null)))),sortedRows.map((({destinationTokenValue,networkFees,isBestQuote,quoteSource,aggId},i)=>react.createElement("div",{className:classnames_default()("select-quote-popover__row",{"select-quote-popover__row--selected":selectedRow===i,"select-quote-popover__row--no-hover":noRowHover}),onClick:()=>onSelect(aggId),key:`select-quote-popover-row-${i}`,"data-testid":`select-quote-popover-row-${i}`},react.createElement("div",{className:"select-quote-popover__receiving"},react.createElement("div",{className:"select-quote-popover__receiving-value"},isBestQuote&&react.createElement(sun_check_icon_component.Z,{reverseColors:selectedRow!==i}),react.createElement("div",{className:"select-quote-popover__receiving-value-text",title:destinationTokenValue},destinationTokenValue)),"RFQ"===quoteSource&&react.createElement("span",{className:"select-quote-popover__zero-slippage"},t("swapZeroSlippage"))),react.createElement("div",{className:"select-quote-popover__network-fees"},!hideEstimatedGasFee&&useCurrencyRateCheck&&networkFees),react.createElement("div",{className:"select-quote-popover__quote-source"},react.createElement("div",{className:classnames_default()("select-quote-popover__quote-source-label",{"select-quote-popover__quote-source-label--green":"AGG"===quoteSource,"select-quote-popover__quote-source-label--orange":"RFQ"===quoteSource,"select-quote-popover__quote-source-label--blue":"DEX"===quoteSource})},quoteSource)),react.createElement("div",{className:"select-quote-popover__caret-right","data-testid":`select-quote-popover__caret-right-${i}`,onClick:event=>{event.stopPropagation(),onCaretClick(aggId)},onMouseEnter:()=>setRowNowHover(!0),onMouseLeave:()=>setRowNowHover(!1)},react.createElement("i",{className:"fa fa-angle-up"}))))))}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}SortList.propTypes={selectedAggId:prop_types_default().string.isRequired,onSelect:prop_types_default().func.isRequired,onCaretClick:prop_types_default().func.isRequired,swapToSymbol:prop_types_default().string.isRequired,quoteDataRows:prop_types_default().arrayOf(QUOTE_DATA_ROWS_PROPTYPES_SHAPE).isRequired,sortDirection:prop_types_default().number.isRequired,setSortDirection:prop_types_default().func.isRequired,sortColumn:prop_types_default().string,setSortColumn:prop_types_default().func.isRequired,hideEstimatedGasFee:prop_types_default().bool.isRequired},SortList.__docgenInfo={description:"",methods:[],displayName:"SortList",props:{sortColumn:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},selectedAggId:{description:"",type:{name:"string"},required:!0},onSelect:{description:"",type:{name:"func"},required:!0},onCaretClick:{description:"",type:{name:"func"},required:!0},swapToSymbol:{description:"",type:{name:"string"},required:!0},quoteDataRows:{description:"",type:{name:"arrayOf",value:{name:"custom",raw:"QUOTE_DATA_ROWS_PROPTYPES_SHAPE"}},required:!0},sortDirection:{description:"",type:{name:"number"},required:!0},setSortDirection:{description:"",type:{name:"func"},required:!0},setSortColumn:{description:"",type:{name:"func"},required:!0},hideEstimatedGasFee:{description:"",type:{name:"bool"},required:!0}}};const SelectQuotePopover=({quoteDataRows=[],onClose=null,onSubmit=null,swapToSymbol,initialAggId,onQuoteDetailsIsOpened,hideEstimatedGasFee})=>{const t=(0,react.useContext)(i18n.OO),[sortDirection,setSortDirection]=(0,react.useState)(1),[sortColumn,setSortColumn]=(0,react.useState)(null),[selectedAggId,setSelectedAggId]=(0,react.useState)(initialAggId),[contentView,setContentView]=(0,react.useState)("sortList"),[viewingAgg,setViewingAgg]=(0,react.useState)(null),onSubmitClick=(0,react.useCallback)((()=>{onSubmit(selectedAggId),onClose()}),[selectedAggId,onClose,onSubmit]),closeQuoteDetails=(0,react.useCallback)((()=>{setViewingAgg(null),setContentView("sortList")}),[]),onRowClick=(0,react.useCallback)((aggId=>setSelectedAggId(aggId)),[setSelectedAggId]),onCaretClick=(0,react.useCallback)((aggId=>{const agg=quoteDataRows.find((quote=>quote.aggId===aggId));setContentView("quoteDetails"),onQuoteDetailsIsOpened(),setViewingAgg(agg)}),[quoteDataRows,onQuoteDetailsIsOpened]),CustomBackground=(0,react.useCallback)((()=>react.createElement("div",{className:"select-quote-popover__popover-bg",onClick:onClose})),[onClose]),footer=react.createElement(react.Fragment,null,react.createElement(ui_button.Z,{type:"secondary",className:"page-container__footer-button select-quote-popover__button",onClick:onClose},t("close")),react.createElement(ui_button.Z,{type:"primary",className:"page-container__footer-button select-quote-popover__button",onClick:onSubmitClick},t("swapSelect")));return react.createElement("div",{className:"select-quote-popover"},react.createElement(popover.Z,{title:t("quoteDetails"===contentView?"swapSelectAQuote":"swapQuoteDetails"),subtitle:"sortList"===contentView?t("swapSelectQuotePopoverDescription"):null,onClose,CustomBackground,className:"select-quote-popover__popover-wrap",footerClassName:"swaps__footer",footer:"quoteDetails"===contentView?null:footer,onBack:"quoteDetails"===contentView?closeQuoteDetails:null},"sortList"===contentView&&react.createElement(SortList,{quoteDataRows,selectedAggId,onSelect:onRowClick,onCaretClick,swapToSymbol,sortDirection,setSortDirection,sortColumn,setSortColumn,hideEstimatedGasFee}),"quoteDetails"===contentView&&viewingAgg&&react.createElement(quote_details,_extends({},viewingAgg,{hideEstimatedGasFee}))))};SelectQuotePopover.propTypes={onClose:prop_types_default().func,onSubmit:prop_types_default().func,swapToSymbol:prop_types_default().string,quoteDataRows:prop_types_default().arrayOf(QUOTE_DATA_ROWS_PROPTYPES_SHAPE),initialAggId:prop_types_default().string,onQuoteDetailsIsOpened:prop_types_default().func,hideEstimatedGasFee:prop_types_default().bool.isRequired},SelectQuotePopover.__docgenInfo={description:"",methods:[],displayName:"SelectQuotePopover",props:{quoteDataRows:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"custom",raw:"QUOTE_DATA_ROWS_PROPTYPES_SHAPE"}},required:!1},onClose:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},onSubmit:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"func"},required:!1},swapToSymbol:{description:"",type:{name:"string"},required:!1},initialAggId:{description:"",type:{name:"string"},required:!1},onQuoteDetailsIsOpened:{description:"",type:{name:"func"},required:!1},hideEstimatedGasFee:{description:"",type:{name:"bool"},required:!0}}};const select_quote_popover=SelectQuotePopover;function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,lib.ah)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(_components.h1,{id:"selectquotepopover",children:"SelectQuotePopover"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:[(0,jsx_runtime.jsx)(_components.code,{children:"SelectQuotePopover"})," is a modal that displays information gathered from multiple liquidity sources."]}),"\n",(0,jsx_runtime.jsx)(dist.Xz,{children:(0,jsx_runtime.jsx)(dist.oG,{id:"pages-swaps-selectquotepopover--default-story"})}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"component-api",children:"Component API"}),"\n",(0,jsx_runtime.jsx)(dist.$4,{of:select_quote_popover}),"\n",(0,jsx_runtime.jsx)(_components.h2,{id:"usage",children:"Usage"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"The following describes the props and example usage for this component."}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"onclose",children:"onClose"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Action called when close button is clicked. It's also called on submit action."}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"onsubmit",children:"onSubmit"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Action called when Select button is clicked"}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"swaptosymbol",children:"swapToSymbol"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Name of the receiving symbol"}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"quotedatarows",children:"quoteDataRows"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"data provided with the following properties:"}),"\n",(0,jsx_runtime.jsxs)(_components.table,{children:[(0,jsx_runtime.jsx)(_components.thead,{children:(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.th,{children:"type"}),(0,jsx_runtime.jsx)(_components.th,{children:"Types"})]})}),(0,jsx_runtime.jsxs)(_components.tbody,{children:[(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"aggId"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"string"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"amountReceiving"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"string"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"destinationTokenDecimals"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"number"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"destinationTokenSymbol"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"string"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"destinationTokenValue"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"string"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"isBestQuote--primary"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"boolean"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"networkFees"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"string"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"quoteSource"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"string"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"rawNetworkFees"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"string"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"slippage"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"string"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"sourceTokenDecimals"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"number"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"sourceTokenSymbol"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"string"})})]}),(0,jsx_runtime.jsxs)(_components.tr,{children:[(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"sourceTokenValue"})}),(0,jsx_runtime.jsx)(_components.td,{children:(0,jsx_runtime.jsx)(_components.code,{children:"string"})})]})]})]}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"initialaggid",children:"initialAggId"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["When ",(0,jsx_runtime.jsx)(_components.code,{children:"initialAggId"})," is defined, the corresponding quote is pre-selected in sort-list"]}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"onquotedetailsisopened",children:"onQuoteDetailsIsOpened"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Detail opened when click on caret of a specific quote."}),"\n",(0,jsx_runtime.jsx)(_components.h3,{id:"hideestimatedgasfee",children:"hideEstimatedGasFee"}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["When the ",(0,jsx_runtime.jsx)(_components.code,{children:"hideEstimatedGasFee"})," is set to ",(0,jsx_runtime.jsx)(_components.code,{children:"true"})," it hides the Estimated network fees column"]})]})}var _DefaultStory$paramet,_DefaultStory$paramet2;const select_quote_popover_stories={title:"Pages/Swaps/SelectQuotePopover",component:select_quote_popover,parameters:{docs:{page:function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,lib.ah)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}}},argTypes:{swapToSymbol:{control:{type:"select"},options:["ETH","DAI"]},initialAggId:{control:{type:"select"},options:["Agg1","Agg2","Agg3","Agg4","Agg5","Agg6"]},quoteDataRows:{control:{type:"object"}},hideEstimatedGasFee:{control:"boolean"},onSubmit:{action:"onSubmit"}},args:{quoteDataRows:mock_quote_data}},DefaultStory=args=>{const[showPopover,setShowPopover]=(0,react.useState)(!1);return react.createElement("div",null,react.createElement(ui_button.Z,{onClick:()=>setShowPopover(!0)},"Open Popover"),showPopover&&react.createElement(select_quote_popover,{quoteDataRows:args.quoteDataRows,onClose:()=>setShowPopover(!1),onSubmit:()=>{setShowPopover(!1),args.onSubmit()},swapToSymbol:args.swapToSymbol||"DAI",initialAggId:args.initialAggId||"Agg4",hideEstimatedGasFee:args.hideEstimatedGasFee||!1}))};DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => {\n  const [showPopover, setShowPopover] = useState(false);\n  const handleSubmit = () => {\n    setShowPopover(false);\n    args.onSubmit();\n  };\n  return <div>\n      <Button onClick={() => setShowPopover(true)}>Open Popover</Button>\n      {showPopover && <SelectQuotePopover quoteDataRows={args.quoteDataRows} onClose={() => setShowPopover(false)} onSubmit={handleSubmit} swapToSymbol={args.swapToSymbol || 'DAI'} initialAggId={args.initialAggId || 'Agg4'} hideEstimatedGasFee={args.hideEstimatedGasFee || false} />}\n    </div>;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/ui/icon/sun-check-icon.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SunCheck});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);function SunCheck({reverseColors}){const sunColor=reverseColors?"var(--color-primary-default)":"var(--color-primary-inverse)",checkColor=reverseColors?"var(--color-primary-inverse)":"var(--color-primary-default)";return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M13.2148 9.05384C13.432 8.40203 14.8878 7.92403 14.8878 7.20703C14.8878 6.49003 13.432 6.01204 13.2148 5.36022C12.9975 4.68668 13.8883 3.44823 13.4755 2.88332C13.0627 2.31842 11.607 2.77469 11.0421 2.3836C10.4771 1.97078 10.4771 0.449879 9.80361 0.232608C9.15179 0.0153358 8.26098 1.25378 7.54398 1.25378C6.82698 1.25378 5.91444 0.0153358 5.28435 0.232608C4.61081 0.449879 4.61081 1.99251 4.04591 2.3836C3.481 2.79641 2.02528 2.31842 1.61246 2.88332C1.19965 3.44823 2.09046 4.68668 1.87319 5.36022C1.65592 6.01204 0.200195 6.49003 0.200195 7.20703C0.200195 7.92403 1.65592 8.40203 1.87319 9.05384C2.09046 9.72738 1.19965 10.9658 1.61246 11.5307C2.02528 12.0956 3.481 11.6394 4.04591 12.0305C4.61081 12.4433 4.61081 13.9642 5.28435 14.1815C5.93617 14.3987 6.82698 13.1603 7.54398 13.1603C8.26098 13.1603 9.17352 14.3987 9.80361 14.1815C10.4771 13.9642 10.4771 12.4216 11.0421 12.0305C11.607 11.6176 13.0627 12.0956 13.4755 11.5307C13.8883 10.9658 12.9975 9.70566 13.2148 9.05384Z",fill:sunColor}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M6.42285 10.084L4.13965 7.81445C4.07585 7.75065 4.04395 7.66862 4.04395 7.56836C4.04395 7.4681 4.07585 7.38607 4.13965 7.32227L4.64551 6.83008C4.70931 6.75716 4.78678 6.7207 4.87793 6.7207C4.97819 6.7207 5.06478 6.75716 5.1377 6.83008L6.66895 8.36133L9.9502 5.08008C10.0231 5.00716 10.1051 4.9707 10.1963 4.9707C10.2965 4.9707 10.3786 5.00716 10.4424 5.08008L10.9482 5.57227C11.012 5.63607 11.0439 5.7181 11.0439 5.81836C11.0439 5.91862 11.012 6.00065 10.9482 6.06445L6.91504 10.084C6.85124 10.1569 6.76921 10.1934 6.66895 10.1934C6.56868 10.1934 6.48665 10.1569 6.42285 10.084Z",fill:checkColor}))}SunCheck.propTypes={reverseColors:prop_types__WEBPACK_IMPORTED_MODULE_1___default().bool},SunCheck.__docgenInfo={description:"@deprecated This has been deprecated in favor of the `<Icon />` component in ./ui/components/component-library/icon/icon.js\nSee storybook documentation for Icon here https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-icon--default-story#icon",methods:[],displayName:"SunCheck",props:{reverseColors:{description:"If true reverses the colors of the SunCheck icon",type:{name:"bool"},required:!1}}}},"./ui/pages/swaps/exchange-rate-display/exchange-rate-display.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ExchangeRateDisplay});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),bignumber_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/bignumber.js/bignumber.js"),bignumber_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_1__),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_swaps_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/pages/swaps/swaps.util.ts"),_shared_lib_transactions_controller_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/lib/transactions-controller-utils.js"),_components_ui_box__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/box/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_components_component_library__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/component-library/index.ts"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/contexts/i18n.js");function ExchangeRateDisplay({primaryTokenValue,primaryTokenDecimals=18,primaryTokenSymbol,secondaryTokenValue,secondaryTokenDecimals=18,secondaryTokenSymbol,boldSymbols=!0,showIconForSwappingTokens=!0,className,onQuotesClick}){const[showPrimaryToSecondary,setShowPrimaryToSecondary]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_8__.OO),primaryTokenAmount=(0,_shared_lib_transactions_controller_utils__WEBPACK_IMPORTED_MODULE_4__.cp)(primaryTokenValue,primaryTokenDecimals),secondaryTokenAmount=(0,_shared_lib_transactions_controller_utils__WEBPACK_IMPORTED_MODULE_4__.cp)(secondaryTokenValue,secondaryTokenDecimals),conversionRateFromPrimaryToSecondary=new(bignumber_js__WEBPACK_IMPORTED_MODULE_1___default())(secondaryTokenAmount).div(primaryTokenAmount).round(9).toString(10),conversionRateFromSecondaryToPrimary=new(bignumber_js__WEBPACK_IMPORTED_MODULE_1___default())(primaryTokenAmount).div(secondaryTokenAmount).round(9).toString(10),baseSymbol=showPrimaryToSecondary?primaryTokenSymbol:secondaryTokenSymbol,ratiodSymbol=showPrimaryToSecondary?secondaryTokenSymbol:primaryTokenSymbol,rate=showPrimaryToSecondary?conversionRateFromPrimaryToSecondary:conversionRateFromSecondaryToPrimary;let rateToDisplay,comparisonSymbol="=";new(bignumber_js__WEBPACK_IMPORTED_MODULE_1___default())(rate,10).lt("0.00000001",10)?(rateToDisplay="0.000000001",comparisonSymbol="<"):rateToDisplay=new(bignumber_js__WEBPACK_IMPORTED_MODULE_1___default())(rate,10).lt("0.000001",10)?rate:(0,_swaps_util__WEBPACK_IMPORTED_MODULE_3__.Oz)(rate);const quoteRateClassName=onQuotesClick?"exchange-rate-display__quote-rate":"exchange-rate-display__quote-rate--no-link",quoteRateColor=onQuotesClick?_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_6__.d9.primaryDefault:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_6__.d9.textDefault;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("exchange-rate-display",className)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box__WEBPACK_IMPORTED_MODULE_5__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_6__.bA.FLEX,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_6__.E0.center,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_6__.g1.center,onClick:onQuotesClick,color:quoteRateColor,className:quoteRateClassName,"data-testid":"exchange-rate-display-quote-rate"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,"1"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()({"exchange-rate-display__bold":boldSymbols}),"data-testid":"exchange-rate-display-base-symbol"},baseSymbol),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,comparisonSymbol),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,rateToDisplay),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()({"exchange-rate-display__bold":boldSymbols})},ratiodSymbol)),showIconForSwappingTokens&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_7__.JO,{name:_components_component_library__WEBPACK_IMPORTED_MODULE_7__.uH.SwapHorizontal,onClick:()=>{setShowPrimaryToSecondary(!showPrimaryToSecondary)},color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_6__.EY.iconAlternative,style:{cursor:"pointer"},title:t("switch"),"data-testid":"exchange-rate-display-switch"}))}ExchangeRateDisplay.propTypes={primaryTokenValue:prop_types__WEBPACK_IMPORTED_MODULE_9___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,prop_types__WEBPACK_IMPORTED_MODULE_9___default().instanceOf(bignumber_js__WEBPACK_IMPORTED_MODULE_1___default())]).isRequired,primaryTokenDecimals:prop_types__WEBPACK_IMPORTED_MODULE_9___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,prop_types__WEBPACK_IMPORTED_MODULE_9___default().number]),primaryTokenSymbol:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string.isRequired,secondaryTokenValue:prop_types__WEBPACK_IMPORTED_MODULE_9___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,prop_types__WEBPACK_IMPORTED_MODULE_9___default().instanceOf(bignumber_js__WEBPACK_IMPORTED_MODULE_1___default())]).isRequired,secondaryTokenDecimals:prop_types__WEBPACK_IMPORTED_MODULE_9___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,prop_types__WEBPACK_IMPORTED_MODULE_9___default().number]),secondaryTokenSymbol:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string.isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_9___default().string,boldSymbols:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,showIconForSwappingTokens:prop_types__WEBPACK_IMPORTED_MODULE_9___default().bool,onQuotesClick:prop_types__WEBPACK_IMPORTED_MODULE_9___default().func},ExchangeRateDisplay.__docgenInfo={description:"",methods:[],displayName:"ExchangeRateDisplay",props:{primaryTokenDecimals:{defaultValue:{value:"18",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},secondaryTokenDecimals:{defaultValue:{value:"18",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},boldSymbols:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},showIconForSwappingTokens:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},primaryTokenValue:{description:"",type:{name:"union",value:[{name:"string"},{name:"instanceOf",value:"BigNumber"}]},required:!0},primaryTokenSymbol:{description:"",type:{name:"string"},required:!0},secondaryTokenValue:{description:"",type:{name:"union",value:[{name:"string"},{name:"instanceOf",value:"BigNumber"}]},required:!0},secondaryTokenSymbol:{description:"",type:{name:"string"},required:!0},className:{description:"",type:{name:"string"},required:!1},onQuotesClick:{description:"",type:{name:"func"},required:!1}}}},"./ui/pages/swaps/exchange-rate-display/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_exchange_rate_display__WEBPACK_IMPORTED_MODULE_0__.Z});var _exchange_rate_display__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/pages/swaps/exchange-rate-display/exchange-rate-display.js")},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),g=60103;if(exports.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var h=Symbol.for;g=h("react.element"),exports.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,k){var b,d={},e=null,l=null;for(b in void 0!==k&&(e=""+k),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);