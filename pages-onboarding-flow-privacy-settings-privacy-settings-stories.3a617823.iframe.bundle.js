"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[1302],{"./ui/pages/onboarding-flow/privacy-settings/privacy-settings.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>privacy_settings_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),util=__webpack_require__("./app/scripts/lib/util.ts"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),ui_utils=__webpack_require__("./shared/lib/ui-utils.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),box=__webpack_require__("./ui/components/ui/box/box.js"),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),typography=__webpack_require__("./ui/components/ui/typography/index.js"),contexts_metametrics=__webpack_require__("./ui/contexts/metametrics.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),selectors=__webpack_require__("./ui/selectors/index.js"),actions=__webpack_require__("./ui/store/actions.ts"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),ui_box=__webpack_require__("./ui/components/ui/box/index.js"),toggle_button=__webpack_require__("./ui/components/ui/toggle-button/index.js");const Setting=({value,setValue,title,description,showToggle=!0})=>react.createElement(ui_box.ZP,{justifyContent:design_system.E0.center,margin:3},react.createElement("div",{className:"privacy-settings__setting"},react.createElement(typography.Z,{variant:design_system.TypographyVariant.H5,fontWeight:design_system.m5.BOLD},title),react.createElement(typography.Z,{variant:design_system.TypographyVariant.H6},description)),showToggle?react.createElement("div",{className:"privacy-settings__setting__toggle"},react.createElement(toggle_button.Z,{value,onToggle:val=>setValue(!val)})):null);function PrivacySettings(){var _currentNetwork$rpcPr;const t=(0,useI18nContext.C)(),dispatch=(0,es.I0)(),history=(0,react_router.k6)(),[usePhishingDetection,setUsePhishingDetection]=(0,react.useState)(!0),[turnOnTokenDetection,setTurnOnTokenDetection]=(0,react.useState)(!0),[turnOnCurrencyRateCheck,setTurnOnCurrencyRateCheck]=(0,react.useState)(!0),[showIncomingTransactions,setShowIncomingTransactions]=(0,react.useState)(!0),[isMultiAccountBalanceCheckerEnabled,setMultiAccountBalanceCheckerEnabled]=(0,react.useState)(!0),[ipfsURL,setIPFSURL]=(0,react.useState)(""),[ipfsError,setIPFSError]=(0,react.useState)(null),trackEvent=(0,react.useContext)(contexts_metametrics.Wd),currentNetwork=(0,es.v9)(selectors.t4u);return react.createElement(react.Fragment,null,react.createElement("div",{className:"privacy-settings","data-testid":"privacy-settings"},react.createElement("div",{className:"privacy-settings__header"},react.createElement(typography.Z,{variant:design_system.TypographyVariant.H2,fontWeight:design_system.m5.BOLD},t("advancedConfiguration")),react.createElement(typography.Z,{variant:design_system.TypographyVariant.H4},t("setAdvancedPrivacySettingsDetails"))),react.createElement("div",{className:"privacy-settings__settings","data-testid":"privacy-settings-settings"},react.createElement(Setting,{value:showIncomingTransactions,setValue:setShowIncomingTransactions,title:t("showIncomingTransactions"),description:t("onboardingShowIncomingTransactionsDescription",[react.createElement("a",{key:"etherscan",href:"https://etherscan.io/",target:"_blank",rel:"noreferrer"},t("etherscan")),react.createElement("a",{href:"https://etherscan.io/privacyPolicy",target:"_blank",rel:"noreferrer",key:"privacyMsg"},t("privacyMsg"))])}),react.createElement(Setting,{value:usePhishingDetection,setValue:setUsePhishingDetection,title:t("usePhishingDetection"),description:t("onboardingUsePhishingDetectionDescription",[react.createElement("a",{href:"https://www.jsdelivr.com",target:"_blank",rel:"noreferrer",key:"jsDeliver"},t("jsDeliver")),react.createElement("a",{href:"https://www.jsdelivr.com/terms/privacy-policy-jsdelivr-com",target:"_blank",rel:"noreferrer",key:"privacyMsg"},t("privacyMsg"))])}),react.createElement(Setting,{value:turnOnTokenDetection,setValue:setTurnOnTokenDetection,title:t("turnOnTokenDetection"),description:t("useTokenDetectionPrivacyDesc")}),react.createElement(Setting,{value:isMultiAccountBalanceCheckerEnabled,setValue:setMultiAccountBalanceCheckerEnabled,title:t("useMultiAccountBalanceChecker"),description:t("useMultiAccountBalanceCheckerDescription")}),react.createElement(Setting,{title:t("onboardingAdvancedPrivacyNetworkTitle"),showToggle:!1,description:react.createElement(react.Fragment,null,t("onboardingAdvancedPrivacyNetworkDescription",[react.createElement("a",{href:"https://consensys.net/privacy-policy/",key:"link",target:"_blank",rel:"noopener noreferrer"},t("privacyMsg"))]),react.createElement(box.ZP,{paddingTop:2},currentNetwork?react.createElement("div",{className:"privacy-settings__network"},react.createElement(react.Fragment,null,react.createElement(component_library.Eu,{label:null==currentNetwork?void 0:currentNetwork.nickname,src:null==currentNetwork||null===(_currentNetwork$rpcPr=currentNetwork.rpcPrefs)||void 0===_currentNetwork$rpcPr?void 0:_currentNetwork$rpcPr.imageUrl,onClick:()=>dispatch((0,actions.DON)())}))):react.createElement(ui_button.Z,{type:"secondary",rounded:!0,large:!0,onClick:e=>{e.preventDefault(),dispatch((0,actions.K4b)({name:"ONBOARDING_ADD_NETWORK"}))}},t("onboardingAdvancedPrivacyNetworkButton"))))}),react.createElement(Setting,{title:t("onboardingAdvancedPrivacyIPFSTitle"),showToggle:!1,description:react.createElement(react.Fragment,null,t("onboardingAdvancedPrivacyIPFSDescription"),react.createElement(box.ZP,{paddingTop:2},react.createElement(component_library.nv,{style:{width:"100%"},inputProps:{"data-testid":"ipfs-input"},onChange:e=>{(url=>{setIPFSURL(url);try{const{host}=new URL((0,util.Dc)(url));if(!host||"gateway.ipfs.io"===host)throw new Error;setIPFSError(null)}catch(error){setIPFSError(t("onboardingAdvancedPrivacyIPFSInvalid"))}})(e.target.value)}}),ipfsURL?react.createElement(typography.Z,{variant:design_system.TypographyVariant.H7,color:ipfsError?design_system.d9.errorDefault:design_system.d9.successDefault},ipfsError||t("onboardingAdvancedPrivacyIPFSValid")):null))}),react.createElement(Setting,{value:turnOnCurrencyRateCheck,setValue:setTurnOnCurrencyRateCheck,title:t("currencyRateCheckToggle"),description:t("currencyRateCheckToggleDescription",[react.createElement("a",{key:"coingecko_link",href:ui_utils.QL,rel:"noreferrer",target:"_blank"},t("coingecko")),react.createElement("a",{key:"cryptocompare_link",href:ui_utils.oq,rel:"noreferrer",target:"_blank"},t("cryptoCompare")),react.createElement("a",{key:"privacy_policy_link",href:ui_utils.jb,rel:"noreferrer",target:"_blank"},t("privacyMsg"))])})),react.createElement(ui_button.Z,{type:"primary",rounded:!0,onClick:()=>{if(dispatch((0,actions.Mgy)("showIncomingTransactions",showIncomingTransactions)),dispatch((0,actions.Lbh)(usePhishingDetection)),dispatch((0,actions.gQy)(turnOnTokenDetection)),dispatch((0,actions.yZ0)(isMultiAccountBalanceCheckerEnabled)),dispatch((0,actions.UCN)(turnOnCurrencyRateCheck)),dispatch((0,actions.EJ1)()),ipfsURL&&!ipfsError){const{host}=new URL((0,util.Dc)(ipfsURL));dispatch((0,actions.Cak)(host))}trackEvent({category:metametrics.ci.Onboarding,event:metametrics.AW.OnboardingWalletAdvancedSettings,properties:{show_incoming_tx:showIncomingTransactions,use_phising_detection:usePhishingDetection,turnon_token_detection:turnOnTokenDetection}}),history.push(routes.DL)}},t("done"))))}var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3;Setting.propTypes={value:prop_types_default().bool,setValue:prop_types_default().func,title:prop_types_default().string,description:prop_types_default().oneOfType([prop_types_default().object,prop_types_default().string]),showToggle:prop_types_default().bool},Setting.__docgenInfo={description:"",methods:[],displayName:"Setting",props:{showToggle:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},value:{description:"",type:{name:"bool"},required:!1},setValue:{description:"",type:{name:"func"},required:!1},title:{description:"",type:{name:"string"},required:!1},description:{description:"",type:{name:"union",value:[{name:"object"},{name:"string"}]},required:!1}}},PrivacySettings.__docgenInfo={description:"",methods:[],displayName:"PrivacySettings"};const privacy_settings_stories={title:"Pages/OnboardingFlow/PrivacySettings"},DefaultStory=()=>react.createElement("div",{style:{maxHeight:"2000px"}},react.createElement(PrivacySettings,null));DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"() => {\n  return <div style={{\n    maxHeight: '2000px'\n  }}>\n      <PrivacySettings />\n    </div>;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./shared/lib/ui-utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{QL:()=>COINGECKO_LINK,TH:()=>ETHERSCAN_PRIVACY_LINK,YM:()=>CONSENSYS_PRIVACY_LINK,cK:()=>SUPPORT_LINK,jJ:()=>AUTO_DETECT_TOKEN_LEARN_MORE_LINK,jb:()=>PRIVACY_POLICY_LINK,oq:()=>CRYPTOCOMPARE_LINK});const SUPPORT_LINK=__webpack_require__("./node_modules/process/browser.js").env.SUPPORT_LINK,COINGECKO_LINK="https://www.coingecko.com/",CRYPTOCOMPARE_LINK="https://www.cryptocompare.com/",PRIVACY_POLICY_LINK="https://consensys.net/privacy-policy/",ETHERSCAN_PRIVACY_LINK="https://etherscan.io/privacyPolicy",CONSENSYS_PRIVACY_LINK="https://consensys.net/privacy-policy/",AUTO_DETECT_TOKEN_LEARN_MORE_LINK="https://consensys.net/privacy-policy/"},"./ui/components/ui/toggle-button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./ui/components/ui/toggle-button/toggle-button.component.js").Z},"./ui/components/ui/toggle-button/toggle-button.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_toggle_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-toggle-button/lib/index.js"),react_toggle_button__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_toggle_button__WEBPACK_IMPORTED_MODULE_1__),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);const trackStyle={width:"40px",height:"24px",padding:"0px",borderRadius:"26px",border:"2px solid var(--color-primary-default)",display:"flex",alignItems:"center",justifyContent:"center"},offTrackStyle={...trackStyle,border:"2px solid var(--color-border-default)"},thumbStyle={width:"18px",height:"18px",display:"flex",boxShadow:"none",alignSelf:"center",borderRadius:"50%",position:"relative"},colors={activeThumb:{base:"#037DD6"},inactiveThumb:{base:"#6A737D"},active:{base:"#F2F4F6",hover:"#F2F4F6"},inactive:{base:"#F2F4F6",hover:"#F2F4F6"}},ToggleButton=props=>{const{value,onToggle,offLabel,onLabel,disabled,className}=props,modifier=value?"on":"off";return react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{tabIndex:"0",onKeyDown:e=>{"Enter"===e.key&&onToggle(value)},className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("toggle-button",`toggle-button--${modifier}`,{"toggle-button--disabled":disabled},className)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_toggle_button__WEBPACK_IMPORTED_MODULE_1___default(),{value,onToggle:disabled?void 0:onToggle,activeLabel:"",inactiveLabel:"",trackStyle:value?trackStyle:offTrackStyle,thumbStyle,thumbAnimateRange:[3,18],colors}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"toggle-button__status"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"toggle-button__label-off"},offLabel),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"toggle-button__label-on"},onLabel)))};ToggleButton.propTypes={value:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,onToggle:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,offLabel:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,onLabel:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,className:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string},ToggleButton.__docgenInfo={description:"",methods:[],displayName:"ToggleButton",props:{value:{description:"ToggleButton value",type:{name:"bool"},required:!1},onToggle:{description:"The onChange handler of the ToggleButton",type:{name:"func"},required:!1},offLabel:{description:"Label text when toggle is off",type:{name:"string"},required:!1},onLabel:{description:"Label text when toggle is on",type:{name:"string"},required:!1},disabled:{description:"Disables ToggleButton if true. Set to false as default",type:{name:"bool"},required:!1},className:{description:"Additional className to add to the ToggleButton",type:{name:"string"},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=ToggleButton}}]);