"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[2868],{"./ui/components/ui/editable-label/editable-label.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>editable_label_stories});var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3,react=__webpack_require__("./node_modules/react/index.js"),editable_label=__webpack_require__("./ui/components/ui/editable-label/editable-label.js");const editable_label_stories={title:"Components/UI/EditableLabel",argTypes:{onSubmit:{action:"onSubmit"},defaultValue:{control:"text"},className:{control:"text"},accounts:{control:"array"}},args:{defaultValue:"Account 3",accounts:[{name:"Account 1"},{name:"Account 2"}]}},DefaultStory=args=>react.createElement("div",{style:{position:"relative",width:335}},react.createElement(editable_label.Z,args));DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => <div style={{\n  position: 'relative',\n  width: 335\n}}>\n    <EditableLabel {...args} />\n  </div>",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/ui/editable-label/editable-label.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>EditableLabel});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_helpers_utils_accounts__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/helpers/utils/accounts.js"),_component_library__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/component-library/index.js"),_box_box__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/box/box.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class EditableLabel extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),_defineProperty(this,"state",{isEditing:!1,value:this.props.defaultValue||""})}async handleSubmit(isValidAccountName){isValidAccountName&&(await this.props.onSubmit(this.state.value),this.setState({isEditing:!1}))}renderEditing(){const{isValidAccountName,errorMessage}=(0,_helpers_utils_accounts__WEBPACK_IMPORTED_MODULE_3__.Z)(this.props.accounts,this.context,this.state.value,this.props.defaultValue);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_box_box__WEBPACK_IMPORTED_MODULE_5__.ZP,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("editable-label",this.props.className),display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.bA.FLEX,gap:3},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_4__.Xn,{required:!0,value:this.state.value,onKeyPress:event=>{"Enter"===event.key&&this.handleSubmit(isValidAccountName)},onChange:event=>{this.setState({value:event.target.value})},"data-testid":"editable-input",error:!isValidAccountName,helpText:errorMessage,autoFocus:!0,placeholder:this.context.t("accountName")}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_4__.Ei,{iconName:_component_library__WEBPACK_IMPORTED_MODULE_4__.uH.Check,onClick:()=>this.handleSubmit(isValidAccountName)}))}renderReadonly(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_box_box__WEBPACK_IMPORTED_MODULE_5__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.bA.FLEX,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.g1.center,gap:3},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_4__.xv,{variant:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.rK.bodyLgMedium},this.state.value),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_4__.Ei,{iconName:_component_library__WEBPACK_IMPORTED_MODULE_4__.uH.Edit,ariaLabel:this.context.t("edit"),"data-testid":"editable-label-button",onClick:()=>this.setState({isEditing:!0}),color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_2__.Il.iconDefault}))}render(){return this.state.isEditing?this.renderEditing():this.renderReadonly()}}_defineProperty(EditableLabel,"propTypes",{onSubmit:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func.isRequired,defaultValue:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,accounts:prop_types__WEBPACK_IMPORTED_MODULE_6___default().array}),_defineProperty(EditableLabel,"contextTypes",{t:prop_types__WEBPACK_IMPORTED_MODULE_6___default().func}),EditableLabel.__docgenInfo={description:"",methods:[{name:"handleSubmit",docblock:null,modifiers:["async"],params:[{name:"isValidAccountName",type:null}],returns:null},{name:"renderEditing",docblock:null,modifiers:[],params:[],returns:null},{name:"renderReadonly",docblock:null,modifiers:[],params:[],returns:null}],displayName:"EditableLabel",props:{onSubmit:{description:"",type:{name:"func"},required:!0},defaultValue:{description:"",type:{name:"string"},required:!1},className:{description:"",type:{name:"string"},required:!1},accounts:{description:"",type:{name:"array"},required:!1}},context:{t:{type:{name:"func"},required:!1}}}},"./ui/helpers/utils/accounts.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>getAccountNameErrorMessage});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),box=__webpack_require__("./ui/components/ui/box/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");const INVISIBLE_CHARACTER="â€‹";function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const Text=react.forwardRef((({variant=design_system.rK.bodyMd,color=design_system.d9.textDefault,fontWeight,fontStyle,textTransform,textAlign,textDirection,overflowWrap,ellipsis,as,className,children,...props},ref)=>{const Tag=as??(variant=>{switch(variant){case design_system.rK.displayMd:return"h1";case design_system.rK.headingLg:return"h2";case design_system.rK.headingMd:return"h3";case design_system.rK.headingSm:return"h4";case design_system.rK.inherit:return"span";default:return"p"}})(variant);let strongTagFontWeight;"strong"===Tag&&(strongTagFontWeight=design_system.m5.BOLD);const computedClassName=classnames_default()("mm-text",className,`mm-text--${variant}`,(strongTagFontWeight||fontWeight)&&`mm-text--font-weight-${strongTagFontWeight||fontWeight}`,{[`mm-text--font-style-${fontStyle}`]:Boolean(fontStyle),"mm-text--ellipsis":Boolean(ellipsis),[`mm-text--text-transform-${textTransform}`]:Boolean(textTransform),[`mm-text--text-align-${textAlign}`]:Boolean(textAlign),[`mm-text--overflow-wrap-${overflowWrap}`]:Boolean(overflowWrap)});return react.createElement(box.ZP,_extends({ref,className:classnames_default()(computedClassName),as:Tag,dir:textDirection,color},props),children)}));function getAccountNameErrorMessage(accounts,context,newAccountName,defaultAccountName){const isDuplicateAccountName=accounts.some((item=>item.name.toLowerCase()===newAccountName.toLowerCase())),isEmptyAccountName=""===newAccountName,localizedWordForAccount=context.t("newAccountNumberName").replace(" $1",""),isReservedAccountName=new RegExp(`^\\s*${localizedWordForAccount} \\d+\\s*$`,"iu").test(newAccountName),isValidAccountName=newAccountName.toLowerCase()===defaultAccountName.toLowerCase()||!isDuplicateAccountName&&!isReservedAccountName&&!isEmptyAccountName;let errorMessage;return isValidAccountName?errorMessage=INVISIBLE_CHARACTER:isDuplicateAccountName?errorMessage=context.t("accountNameDuplicate"):isReservedAccountName?errorMessage=context.t("accountNameReserved"):isEmptyAccountName&&(errorMessage=context.t("required")),{isValidAccountName,errorMessage}}Text.propTypes={variant:prop_types_default().oneOf(Object.values(design_system.rK)),color:prop_types_default().oneOf(Object.values(design_system.d9)),fontWeight:prop_types_default().oneOf(Object.values(design_system.m5)),fontStyle:prop_types_default().oneOf(Object.values(design_system.rZ)),textTransform:prop_types_default().oneOf(Object.values(design_system.eL)),textAlign:prop_types_default().oneOf(Object.values(design_system.PH)),textDirection:prop_types_default().oneOf(Object.values({LEFT_TO_RIGHT:"ltr",RIGHT_TO_LEFT:"rtl",AUTO:"auto"})),overflowWrap:prop_types_default().oneOf(Object.values(design_system.kC)),ellipsis:prop_types_default().bool,as:prop_types_default().oneOf(["dd","div","dt","em","h1","h2","h3","h4","h5","h6","li","p","span","strong","ul","label","input"]),className:prop_types_default().string,children:prop_types_default().node.isRequired,...box.ZP.propTypes},Text.displayName="Text",Text.__docgenInfo={description:"",methods:[],displayName:"Text",props:{variant:{defaultValue:{value:"TextVariant.bodyMd",computed:!0},description:"The variation of font styles including sizes and weights of the Text component\nPossible values:\n`DISPLAY_MD` large screen: 48px / small screen: 32px,\n`HEADING_LG` large screen: 32px / small screen: 24px,\n`HEADING_MD` large screen: 24px / small screen: 18px,\n`HEADING_SM` large screen: 18px / small screen: 16px,\n`BODY_LG_MEDIUM` large screen: 18px / small screen: 16px,\n`BODY_MD` large screen: 16px / small screen: 14px,\n`BODY_MD_BOLD` large screen: 16px / small screen: 14px,\n`BODY_SM` large screen: 14px / small screen: 12px,\n`BODY_SM_BOLD` large screen: 14px / small screen: 12px,\n`BODY_XS` large screen: 12px / small screen: 10px,\n`INHERIT`",type:{name:"enum",computed:!0,value:"Object.values(TextVariant)"},required:!1},color:{defaultValue:{value:"TextColor.textDefault",computed:!0},description:"The color of the Text component Should use the COLOR object from\n./ui/helpers/constants/design-system.js",type:{name:"enum",computed:!0,value:"Object.values(TextColor)"},required:!1},fontWeight:{description:"The font-weight of the Text component. Should use the FONT_WEIGHT object from\n./ui/helpers/constants/design-system.js",type:{name:"enum",computed:!0,value:"Object.values(FONT_WEIGHT)"},required:!1},fontStyle:{description:"The font-style of the Text component. Should use the FONT_STYLE object from\n./ui/helpers/constants/design-system.js",type:{name:"enum",computed:!0,value:"Object.values(FONT_STYLE)"},required:!1},textTransform:{description:"The textTransform of the Text component. Should use the TEXT_TRANSFORM object from\n./ui/helpers/constants/design-system.js",type:{name:"enum",computed:!0,value:"Object.values(TEXT_TRANSFORM)"},required:!1},textAlign:{description:"The text-align of the Text component. Should use the TextAlign enum from\n./ui/helpers/constants/design-system.js",type:{name:"enum",computed:!0,value:"Object.values(TextAlign)"},required:!1},textDirection:{description:"Change the dir (direction) global attribute of text to support the direction a language is written\nPossible values: `LEFT_TO_RIGHT` (default), `RIGHT_TO_LEFT`, `AUTO` (user agent decides)",type:{name:"enum",computed:!0,value:"Object.values(TEXT_DIRECTIONS)"},required:!1},overflowWrap:{description:"The overflow-wrap of the Text component. Should use the OVERFLOW_WRAP object from\n./ui/helpers/constants/design-system.js",type:{name:"enum",computed:!0,value:"Object.values(OVERFLOW_WRAP)"},required:!1},ellipsis:{description:"Used for long strings that can be cut off...",type:{name:"bool"},required:!1},as:{description:"Changes the root html element tag of the Text component.",type:{name:"enum",value:[{value:"'dd'",computed:!1},{value:"'div'",computed:!1},{value:"'dt'",computed:!1},{value:"'em'",computed:!1},{value:"'h1'",computed:!1},{value:"'h2'",computed:!1},{value:"'h3'",computed:!1},{value:"'h4'",computed:!1},{value:"'h5'",computed:!1},{value:"'h6'",computed:!1},{value:"'li'",computed:!1},{value:"'p'",computed:!1},{value:"'span'",computed:!1},{value:"'strong'",computed:!1},{value:"'ul'",computed:!1},{value:"'label'",computed:!1},{value:"'input'",computed:!1}]},required:!1},className:{description:"Additional className to assign the Text component",type:{name:"string"},required:!1},children:{description:"The text content of the Text component",type:{name:"node"},required:!0}},composes:["../../../ui/box"]}}}]);