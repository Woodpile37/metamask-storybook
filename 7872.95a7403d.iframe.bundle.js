"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[7872],{"./ui/components/app/connected-accounts-list/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ConnectedAccountsList});var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),menu=__webpack_require__("./ui/components/ui/menu/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),identicon=__webpack_require__("./ui/components/ui/identicon/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class ConnectedAccountsListItem extends react.PureComponent{render(){const{address,className,name,status,action,options}=this.props;return react.createElement("div",{className:classnames_default()("connected-accounts-list__row",className)},react.createElement("div",{className:"connected-accounts-list__row-content"},react.createElement(identicon.Z,{className:"connected-accounts-list__identicon",address,diameter:32}),react.createElement("div",null,react.createElement("p",{className:"connected-accounts-list__account-name"},react.createElement("strong",null,name)),status?react.createElement("p",{className:"connected-accounts-list__account-status"},"  ",status):null,action)),options)}}_defineProperty(ConnectedAccountsListItem,"contextTypes",{t:prop_types_default().func.isRequired}),_defineProperty(ConnectedAccountsListItem,"propTypes",{address:prop_types_default().string.isRequired,className:prop_types_default().string,name:prop_types_default().node.isRequired,status:prop_types_default().string,action:prop_types_default().node,options:prop_types_default().node}),_defineProperty(ConnectedAccountsListItem,"defaultProps",{className:null,options:null,action:null}),ConnectedAccountsListItem.__docgenInfo={description:"",methods:[],displayName:"ConnectedAccountsListItem",props:{className:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},options:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},action:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},address:{description:"",type:{name:"string"},required:!0},name:{description:"",type:{name:"node"},required:!0},status:{description:"",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!0}}};var useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js");const ConnectedAccountsListOptions=({children,onShowOptions,onHideOptions,show})=>{const ref=(0,react.useRef)(!1),t=(0,useI18nContext.C)();return react.createElement("div",{ref},react.createElement(component_library.Ei,{iconName:component_library.uH.MoreVertical,className:"connected-accounts-options__button",onClick:onShowOptions,ariaLabel:t("options")}),show?react.createElement(menu.v,{anchorElement:ref.current,onHide:onHideOptions,popperOptions:{modifiers:[{name:"preventOverflow",options:{altBoundary:!0}}]}},children):null)};ConnectedAccountsListOptions.propTypes={children:prop_types_default().node.isRequired,onHideOptions:prop_types_default().func.isRequired,onShowOptions:prop_types_default().func.isRequired,show:prop_types_default().bool.isRequired},ConnectedAccountsListOptions.__docgenInfo={description:"",methods:[],displayName:"ConnectedAccountsListOptions",props:{children:{description:"",type:{name:"node"},required:!0},onHideOptions:{description:"",type:{name:"func"},required:!0},onShowOptions:{description:"",type:{name:"func"},required:!0},show:{description:"",type:{name:"bool"},required:!0}}};const connected_accounts_list_options_component=ConnectedAccountsListOptions;function connected_accounts_list_component_defineProperty(obj,key,value){return(key=function connected_accounts_list_component_toPropertyKey(arg){var key=function connected_accounts_list_component_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class ConnectedAccountsList extends react.PureComponent{constructor(...args){super(...args),connected_accounts_list_component_defineProperty(this,"state",{accountWithOptionsShown:null}),connected_accounts_list_component_defineProperty(this,"disconnectAccount",(()=>{this.hideAccountOptions(),this.props.removePermittedAccount(this.state.accountWithOptionsShown)})),connected_accounts_list_component_defineProperty(this,"switchAccount",(address=>{this.hideAccountOptions(),this.props.setSelectedAddress(address)})),connected_accounts_list_component_defineProperty(this,"hideAccountOptions",(()=>{this.setState({accountWithOptionsShown:null})})),connected_accounts_list_component_defineProperty(this,"showAccountOptions",(address=>{this.setState({accountWithOptionsShown:address})}))}renderUnconnectedAccount(){const{accountToConnect,connectAccount}=this.props,{t}=this.context;if(!accountToConnect)return null;const{address,name}=accountToConnect;return react.createElement(ConnectedAccountsListItem,{className:"connected-accounts-list__row--highlight",address,name:`${name} (…${address.substr(-4,4)})`,status:t("statusNotConnected"),action:react.createElement("a",{className:"connected-accounts-list__account-status-link",onClick:()=>connectAccount(accountToConnect.address)},t("connect"))})}renderListItemOptions(address){const{accountWithOptionsShown}=this.state,{t}=this.context;return react.createElement(connected_accounts_list_options_component,{onHideOptions:this.hideAccountOptions,onShowOptions:this.showAccountOptions.bind(null,address),show:accountWithOptionsShown===address},react.createElement(menu.s,{iconName:component_library.uH.Logout,onClick:this.disconnectAccount},t("disconnectThisAccount")))}renderListItemAction(address){const{t}=this.context;return react.createElement("a",{className:"connected-accounts-list__account-status-link",onClick:()=>this.switchAccount(address)},t("switchToThisAccount"))}render(){const{connectedAccounts,selectedAddress,shouldRenderListOptions}=this.props,{t}=this.context;return react.createElement(react.Fragment,null,react.createElement("main",{className:"connected-accounts-list"},this.renderUnconnectedAccount(),connectedAccounts.map((({address,name},index)=>react.createElement(ConnectedAccountsListItem,{key:address,address,name:`${name} (…${address.substr(-4,4)})`,status:0===index?t("active"):null,options:shouldRenderListOptions?this.renderListItemOptions(address):null,action:address===selectedAddress?null:this.renderListItemAction(address)})))))}}connected_accounts_list_component_defineProperty(ConnectedAccountsList,"contextTypes",{t:prop_types_default().func.isRequired}),connected_accounts_list_component_defineProperty(ConnectedAccountsList,"defaultProps",{accountToConnect:null}),connected_accounts_list_component_defineProperty(ConnectedAccountsList,"propTypes",{accountToConnect:prop_types_default().shape({address:prop_types_default().string.isRequired,name:prop_types_default().string.isRequired}),connectedAccounts:prop_types_default().arrayOf(prop_types_default().shape({address:prop_types_default().string.isRequired,name:prop_types_default().string.isRequired,lastActive:prop_types_default().number})).isRequired,connectAccount:prop_types_default().func.isRequired,selectedAddress:prop_types_default().string.isRequired,removePermittedAccount:prop_types_default().func,setSelectedAddress:prop_types_default().func.isRequired,shouldRenderListOptions:(props,propName,componentName)=>"boolean"!=typeof props[propName]?new Error(`Warning: Failed prop type: '${propName}' of component '${componentName}' must be a boolean. Received: ${typeof props[propName]}`):props[propName]&&!props.removePermittedAccount?new Error(`Warning: Failed prop type: '${propName}' of component '${componentName}' requires prop 'removePermittedAccount'.`):void 0}),ConnectedAccountsList.__docgenInfo={description:"",methods:[{name:"disconnectAccount",docblock:null,modifiers:[],params:[],returns:null},{name:"switchAccount",docblock:null,modifiers:[],params:[{name:"address",type:null}],returns:null},{name:"hideAccountOptions",docblock:null,modifiers:[],params:[],returns:null},{name:"showAccountOptions",docblock:null,modifiers:[],params:[{name:"address",type:null}],returns:null},{name:"renderUnconnectedAccount",docblock:null,modifiers:[],params:[],returns:null},{name:"renderListItemOptions",docblock:null,modifiers:[],params:[{name:"address",type:null}],returns:null},{name:"renderListItemAction",docblock:null,modifiers:[],params:[{name:"address",type:null}],returns:null}],displayName:"ConnectedAccountsList",props:{accountToConnect:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"shape",value:{address:{name:"string",required:!0},name:{name:"string",required:!0}}},required:!1},connectedAccounts:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{address:{name:"string",required:!0},name:{name:"string",required:!0},lastActive:{name:"number",required:!1}}}},required:!0},connectAccount:{description:"",type:{name:"func"},required:!0},selectedAddress:{description:"",type:{name:"string"},required:!0},removePermittedAccount:{description:"",type:{name:"func"},required:!1},setSelectedAddress:{description:"",type:{name:"func"},required:!0},shouldRenderListOptions:{description:"",type:{name:"custom",raw:"(props, propName, componentName) => {\n  if (typeof props[propName] !== 'boolean') {\n    return new Error(\n      `Warning: Failed prop type: '${propName}' of component '${componentName}' must be a boolean. Received: ${typeof props[\n        propName\n      ]}`,\n    );\n  } else if (props[propName] && !props.removePermittedAccount) {\n    return new Error(\n      `Warning: Failed prop type: '${propName}' of component '${componentName}' requires prop 'removePermittedAccount'.`,\n    );\n  }\n  return undefined;\n}"},required:!1}},context:{t:{type:{name:"func"},required:!0}}}},"./ui/components/ui/identicon/blockieIdenticon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _blockieIdenticon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/blockieIdenticon.component.js")},"./ui/components/ui/identicon/identicon.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Identicon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),_jazzicon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/jazzicon/index.js"),_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/utils/util.js"),_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const getStyles=diameter=>({height:diameter,width:diameter,borderRadius:diameter/2});class Identicon extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),_defineProperty(this,"state",{imageLoadingError:!1})}renderImage(){const{className,diameter,alt,imageBorder,ipfsGateway}=this.props;let{image}=this.props;return Array.isArray(image)&&image.length&&(image=image[0]),"string"==typeof image&&image.toLowerCase().startsWith("ipfs://")&&(image=(0,_helpers_utils_util__WEBPACK_IMPORTED_MODULE_4__.MP)(image,ipfsGateway)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className,{"identicon__image-border":imageBorder}),src:image,style:getStyles(diameter),alt,onError:()=>{this.setState({imageLoadingError:!0})}})}renderJazzicon(){const{address,className,diameter,alt,tokenList}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_jazzicon__WEBPACK_IMPORTED_MODULE_3__.Z,{address,diameter,className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter),alt,tokenList})}renderBlockie(){const{address,className,diameter,alt}=this.props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("identicon",className),style:getStyles(diameter)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_blockieIdenticon__WEBPACK_IMPORTED_MODULE_5__.Z,{address,diameter,alt}))}renderBlockieOrJazzIcon(){const{useBlockie}=this.props;return useBlockie?this.renderBlockie():this.renderJazzicon()}shouldComponentUpdate(nextProps,nextState){return!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextProps,this.props)||!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isEqual)(nextState,this.state)}render(){const{address,image,addBorder,diameter,tokenList}=this.props,{imageLoadingError}=this.state,size=diameter+8;return imageLoadingError?this.renderBlockieOrJazzIcon():image?this.renderImage():address?null!==(_tokenList$address$to=tokenList[address.toLowerCase()])&&void 0!==_tokenList$address$to&&_tokenList$address$to.iconUrl?this.renderJazzicon():react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()({"identicon__address-wrapper":addBorder}),style:addBorder?getStyles(size):null},this.renderBlockieOrJazzIcon()):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:getStyles(diameter),className:"identicon__image-border"});var _tokenList$address$to}}_defineProperty(Identicon,"propTypes",{addBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,address:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,diameter:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,image:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,prop_types__WEBPACK_IMPORTED_MODULE_6___default().array]),useBlockie:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,alt:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,imageBorder:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,tokenList:prop_types__WEBPACK_IMPORTED_MODULE_6___default().object,ipfsGateway:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string}),_defineProperty(Identicon,"defaultProps",{addBorder:!1,address:void 0,className:void 0,diameter:46,image:void 0,useBlockie:!1,alt:"",tokenList:{}}),Identicon.__docgenInfo={description:"",methods:[{name:"renderImage",docblock:null,modifiers:[],params:[],returns:null},{name:"renderJazzicon",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockie",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockieOrJazzIcon",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Identicon",props:{addBorder:{defaultValue:{value:"false",computed:!1},description:"Adds blue border around the Identicon used for selected account.\nIncreases the width and height of the Identicon by 8px",type:{name:"bool"},required:!1},address:{defaultValue:{value:"undefined",computed:!0},description:"Address used for generating random image",type:{name:"string"},required:!1},className:{defaultValue:{value:"undefined",computed:!0},description:"Add custom css class",type:{name:"string"},required:!1},diameter:{defaultValue:{value:"46",computed:!1},description:"Sets the width and height of the inner img element\nIf addBorder is true will increase components height and width by 8px",type:{name:"number"},required:!1},image:{defaultValue:{value:"undefined",computed:!0},description:"Used as the image source of the Identicon",type:{name:"union",value:[{name:"string"},{name:"array"}]},required:!1},useBlockie:{defaultValue:{value:"false",computed:!1},description:"Use the blockie type random image generator",type:{name:"bool"},required:!1},alt:{defaultValue:{value:"''",computed:!1},description:"The alt text of the image",type:{name:"string"},required:!1},tokenList:{defaultValue:{value:"{}",computed:!1},description:"Add list of token in object",type:{name:"object"},required:!1},imageBorder:{description:"Check if show image border",type:{name:"bool"},required:!1},ipfsGateway:{description:"User preferred IPFS gateway",type:{name:"string"},required:!1}}}},"./ui/components/ui/identicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>identicon_container});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),identicon_component=__webpack_require__("./ui/components/ui/identicon/identicon.component.js");const identicon_container=(0,es.$j)((state=>{const{metamask:{useBlockie,ipfsGateway}}=state;return{useBlockie,tokenList:(0,selectors.HJ)(state),ipfsGateway}}))(identicon_component.Z)},"./ui/components/ui/jazzicon/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_jazzicon_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _jazzicon_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/jazzicon/jazzicon.component.js")},"./ui/components/ui/menu/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>menu,s:()=>menu_item});var prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),usePopper=__webpack_require__("./node_modules/react-popper/lib/esm/usePopper.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}const Menu=({anchorElement,children,className,"data-testid":dataTestId,onHide,popperOptions})=>{const[popperElement,setPopperElement]=(0,react.useState)(null),popoverContainerElement=(0,react.useRef)(document.getElementById("popover-content")),{attributes,styles}=(0,usePopper.D)(anchorElement,popperElement,popperOptions);return(0,react_dom.createPortal)(react.createElement(react.Fragment,null,react.createElement("div",{className:"menu__background","data-testid":dataTestId,onClick:onHide}),react.createElement("div",_extends({className:classnames_default()("menu__container",className),"data-testid":className,ref:setPopperElement,style:styles.popper},attributes.popper),children)),popoverContainerElement.current)};Menu.propTypes={anchorElement:prop_types_default().instanceOf(window.Element),children:prop_types_default().node.isRequired,className:prop_types_default().string,onHide:prop_types_default().func.isRequired,popperOptions:prop_types_default().object,dataTestId:prop_types_default().string},Menu.defaultProps={anchorElement:void 0,className:void 0,popperOptions:void 0};const menu=Menu;var component_library=__webpack_require__("./ui/components/component-library/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");const MenuItem=react.forwardRef((({children,className,"data-testid":dataTestId,iconName,onClick,subtitle,disabled=!1},ref)=>react.createElement("button",{className:classnames_default()("menu-item",className),"data-testid":dataTestId,onClick,ref,disabled},iconName?react.createElement(component_library.JO,{name:iconName,size:component_library.Jh.Sm,marginRight:2}):null,react.createElement("div",null,react.createElement("div",null,children),subtitle?react.createElement(component_library.xv,{variant:design_system.rK.bodyXs},subtitle):null))));MenuItem.propTypes={children:prop_types_default().node.isRequired,className:prop_types_default().string,"data-testid":prop_types_default().string,iconName:prop_types_default().string,onClick:prop_types_default().func,subtitle:prop_types_default().node,disabled:prop_types_default().bool},MenuItem.displayName="MenuItem",MenuItem.__docgenInfo={description:"",methods:[],displayName:"MenuItem",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},children:{description:"",type:{name:"node"},required:!0},className:{description:"",type:{name:"string"},required:!1},"data-testid":{description:"",type:{name:"string"},required:!1},iconName:{description:"",type:{name:"string"},required:!1},onClick:{description:"",type:{name:"func"},required:!1},subtitle:{description:"",type:{name:"node"},required:!1}}};const menu_item=MenuItem}}]);