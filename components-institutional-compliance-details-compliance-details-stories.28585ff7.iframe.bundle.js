"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[7604],{"./ui/components/institutional/compliance-details/compliance-details.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>compliance_details_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),store=__webpack_require__("./ui/store/store.ts"),test_data=__webpack_require__("./.storybook/test-data.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),i18n=__webpack_require__("./ui/contexts/i18n.js"),info_tooltip=__webpack_require__("./ui/components/ui/info-tooltip/index.js"),swaps_footer=__webpack_require__("./ui/pages/swaps/swaps-footer/index.js"),institutional=__webpack_require__("./ui/ducks/institutional/institutional.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");const ComplianceDetails=({address,onClose,onGenerate})=>{const t=(0,react.useContext)(i18n.OO),dispatch=(0,es.I0)();(0,react.useEffect)((()=>{dispatch((0,institutional.ji)(address))}),[address,dispatch]);const[lastReport,setLastReport]=(0,react.useState)(null),historicalReports=(0,es.v9)((0,institutional.Mp)(address));(0,react.useEffect)((()=>{historicalReports&&historicalReports.length&&setLastReport(historicalReports.reduce(((prev,cur)=>prev.createTime>cur.createTime?prev:cur)))}),[historicalReports]);const complianceTenantSubdomain=(0,es.v9)(institutional.af);return react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,paddingLeft:4,paddingRight:4,className:"compliance-details"},react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.center,height:design_system.Sw.TwoThirds,paddingTop:4,paddingBottom:4,className:"compliance-details__row"},react.createElement(component_library.xv,null,t("address")),react.createElement(component_library.xv,{variant:design_system.rK.bodyXs},address)),react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.center,height:design_system.Sw.TwoThirds,paddingTop:4,paddingBottom:4,className:"compliance-details__row"},react.createElement(component_library.xu,{display:design_system.sS.Flex,alignItems:design_system.g1.center,marginBottom:1,color:design_system.d9.textAlternative},react.createElement(component_library.xv,{marginRight:2},t("riskRating")),react.createElement(info_tooltip.Z,{position:"bottom",contentText:react.createElement("span",null,t("riskRatingTooltip"))})),react.createElement(component_library.xu,{className:classnames_default()("compliance-row__column-risk",{"compliance-row__column-risk--green":"low"===(null==lastReport?void 0:lastReport.risk),"compliance-row__column-risk--yellow":"medium"===(null==lastReport?void 0:lastReport.risk),"compliance-row__column-risk--orange":"high"===(null==lastReport?void 0:lastReport.risk),"compliance-row__column-risk--red":"unacceptable"===(null==lastReport?void 0:lastReport.risk)})},react.createElement(component_library.xv,null,lastReport?lastReport.risk:t("noReport")))),react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.center,height:design_system.Sw.TwoThirds,paddingTop:4,paddingBottom:4,className:"compliance-details__row"},react.createElement(component_library.xu,{display:design_system.sS.Flex,alignItems:design_system.g1.center,color:design_system.d9.textAlternative},react.createElement(component_library.xv,{marginRight:2},t("reportLastRun")),react.createElement(info_tooltip.Z,{position:"bottom",contentText:react.createElement("span",null,t("reportLastRunTooltip"))})),react.createElement(component_library.xv,{color:design_system.d9.textDefault},lastReport?(0,util.p6)(new Date(lastReport.createTime).getTime()):"N/A")),react.createElement(component_library.xu,null,react.createElement(swaps_footer.Z,{onSubmit:()=>{onGenerate(address),onClose()},submitText:t("runReport"),onCancel:()=>__webpack_require__.g.platform.openTab({url:`https://${complianceTenantSubdomain}.compliance.codefi.network/app/kyt/addresses/${lastReport.address}/${lastReport.reportId}`}),cancelText:t("showReport"),hideCancel:!lastReport,approveActive:lastReport,showTopBorder:!0})))};ComplianceDetails.propTypes={address:prop_types_default().string,onClose:prop_types_default().func,onGenerate:prop_types_default().func},ComplianceDetails.__docgenInfo={description:"",methods:[],displayName:"ComplianceDetails",props:{address:{description:"",type:{name:"string"},required:!1},onClose:{description:"",type:{name:"func"},required:!1},onGenerate:{description:"",type:{name:"func"},required:!1}}};const compliance_details=ComplianceDetails;var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3;const customData={...test_data.default,metamask:{institutionalFeatures:{complianceProjectId:"",complianceClientId:"",reportsInProgress:{},historicalReports:{"0xAddress":[{reportId:"reportId",address:"0xAddress",risk:"low",creatTime:new Date}]}}}},compliance_details_stories_store=(0,store.Z)(customData),compliance_details_stories={title:"Components/Institutional/ComplianceDetails",decorators:[story=>react.createElement(es.zt,{store:compliance_details_stories_store},story())],component:compliance_details,args:{address:"0xAddress",onClose:()=>{},onGenerate:()=>{}},argTypes:{onClick:{action:"onClick"}}},DefaultStory=args=>react.createElement(compliance_details,args);DefaultStory.storyName="ComplianceDetails",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => <ComplianceDetails {...args} />",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/ui/info-tooltip/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_info_tooltip__WEBPACK_IMPORTED_MODULE_0__.Z});var _info_tooltip__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/info-tooltip/info-tooltip.js")},"./ui/components/ui/info-tooltip/info-tooltip-icon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>InfoTooltipIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);function InfoTooltipIcon({fillColor="var(--color-icon-default)"}){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M5 0C2.2 0 0 2.2 0 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 2c.4 0 .7.3.7.7s-.3.7-.7.7-.7-.2-.7-.6.3-.8.7-.8zm.7 6H4.3V4.3h1.5V8z",fill:fillColor}))}InfoTooltipIcon.propTypes={fillColor:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string},InfoTooltipIcon.__docgenInfo={description:"",methods:[],displayName:"InfoTooltipIcon",props:{fillColor:{defaultValue:{value:"'var(--color-icon-default)'",computed:!1},description:"",type:{name:"string"},required:!1}}}},"./ui/components/ui/info-tooltip/info-tooltip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>InfoTooltip});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_tooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/tooltip/index.js"),_info_tooltip_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/info-tooltip/info-tooltip-icon.js");const positionArrowClassMap={top:"info-tooltip__top-tooltip-arrow",bottom:"info-tooltip__bottom-tooltip-arrow",left:"info-tooltip__left-tooltip-arrow",right:"info-tooltip__right-tooltip-arrow"};function InfoTooltip({contentText="",position="",containerClassName,wrapperClassName,iconFillColor="var(--color-icon-alternative)"}){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"info-tooltip","data-testid":"info-tooltip"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_2__.Z,{interactive:!0,position,containerClassName:classnames__WEBPACK_IMPORTED_MODULE_1___default()("info-tooltip__tooltip-container",containerClassName),wrapperClassName,tooltipInnerClassName:"info-tooltip__tooltip-content",tooltipArrowClassName:positionArrowClassMap[position],html:contentText,theme:"tippy-tooltip-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_info_tooltip_icon__WEBPACK_IMPORTED_MODULE_3__.Z,{fillColor:iconFillColor})))}InfoTooltip.propTypes={contentText:prop_types__WEBPACK_IMPORTED_MODULE_4___default().node,position:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOf(["top","left","bottom","right"]),containerClassName:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,wrapperClassName:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,iconFillColor:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string},InfoTooltip.__docgenInfo={description:"",methods:[],displayName:"InfoTooltip",props:{contentText:{defaultValue:{value:"''",computed:!1},description:"Text label that shows up after hover",type:{name:"node"},required:!1},position:{defaultValue:{value:"''",computed:!1},description:"Shows position of the tooltip",type:{name:"enum",value:[{value:"'top'",computed:!1},{value:"'left'",computed:!1},{value:"'bottom'",computed:!1},{value:"'right'",computed:!1}]},required:!1},iconFillColor:{defaultValue:{value:"'var(--color-icon-alternative)'",computed:!1},description:"Add color for the icon",type:{name:"string"},required:!1},containerClassName:{description:"Add custom CSS class for container",type:{name:"string"},required:!1},wrapperClassName:{description:"Add custom CSS class for the wrapper",type:{name:"string"},required:!1}}}},"./ui/components/ui/page-container/page-container-footer/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PageContainerFooter});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),ui_button=__webpack_require__("./ui/components/ui/button/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class PageContainerFooter extends react.Component{render(){const{children,onCancel,cancelText,onSubmit,submitText,disabled,submitButtonType,hideCancel,cancelButtonType,buttonSizeLarge=!1,footerClassName,footerButtonClassName}=this.props;return react.createElement("div",{className:classnames_default()("page-container__footer",footerClassName)},react.createElement("footer",null,!hideCancel&&react.createElement(ui_button.Z,{type:cancelButtonType||"secondary",large:buttonSizeLarge,className:classnames_default()("page-container__footer-button","page-container__footer-button__cancel",footerButtonClassName),onClick:e=>onCancel(e),"data-testid":"page-container-footer-cancel"},cancelText||this.context.t("cancel")),react.createElement(ui_button.Z,{type:submitButtonType||"primary",large:buttonSizeLarge,className:classnames_default()("page-container__footer-button",footerButtonClassName),disabled,onClick:e=>onSubmit(e),"data-testid":"page-container-footer-next"},submitText||this.context.t("next"))),children&&react.createElement("div",{className:"page-container__footer-secondary"},children))}}_defineProperty(PageContainerFooter,"propTypes",{children:prop_types_default().node,onCancel:prop_types_default().func,cancelText:prop_types_default().string,cancelButtonType:prop_types_default().string,onSubmit:prop_types_default().func,submitText:prop_types_default().string,disabled:prop_types_default().bool,submitButtonType:prop_types_default().string,hideCancel:prop_types_default().bool,buttonSizeLarge:prop_types_default().bool,footerClassName:prop_types_default().string,footerButtonClassName:prop_types_default().string}),_defineProperty(PageContainerFooter,"contextTypes",{t:prop_types_default().func}),PageContainerFooter.__docgenInfo={description:"",methods:[],displayName:"PageContainerFooter",props:{children:{description:"",type:{name:"node"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1},cancelButtonType:{description:"",type:{name:"string"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1},submitText:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},submitButtonType:{description:"",type:{name:"string"},required:!1},hideCancel:{description:"",type:{name:"bool"},required:!1},buttonSizeLarge:{description:"",type:{name:"bool"},required:!1},footerClassName:{description:"",type:{name:"string"},required:!1},footerButtonClassName:{description:"",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!1}}}},"./ui/ducks/institutional/institutional.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ap:()=>getInstitutionalConnectRequests,Mp:()=>getComplianceHistoricalReportsByAddress,Zh:()=>complianceActivated,af:()=>getComplianceTenantSubdomain,ji:()=>fetchHistoricalReports});var reselect__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/reselect/lib/index.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.development.js"),_sentry_browser__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@sentry/core/esm/exports.js"),_store_institutional_institution_background__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/store/institutional/institution-background.ts");const name="institutionalFeatures",slice=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_2__.createSlice)({name,initialState:{historicalReports:{},complianceProjectId:"",complianceClientId:"",reportsInProgress:{}},reducers:{setHistoricalReports(state,action){state.historicalReports[action.payload.address]=[...action.payload.reports]}}}),{actions,reducer}=slice;const getComplianceTenantSubdomain=state=>{var _state$metamask$name3;return null===(_state$metamask$name3=state.metamask[name])||void 0===_state$metamask$name3?void 0:_state$metamask$name3.complianceTenantSubdomain},getComplianceHistoricalReports=state=>{var _state$metamask$name4;return null===(_state$metamask$name4=state.metamask[name])||void 0===_state$metamask$name4?void 0:_state$metamask$name4.historicalReports},getInstitutionalConnectRequests=state=>{var _state$metamask$name6;return null===(_state$metamask$name6=state.metamask[name])||void 0===_state$metamask$name6?void 0:_state$metamask$name6.connectRequests},complianceActivated=state=>{var _state$metamask$name7;return Boolean(null===(_state$metamask$name7=state.metamask[name])||void 0===_state$metamask$name7?void 0:_state$metamask$name7.complianceProjectId)},getComplianceHistoricalReportsByAddress=address=>(0,reselect__WEBPACK_IMPORTED_MODULE_0__.P1)(getComplianceHistoricalReports,(reports=>reports?reports[address]:[])),fetchHistoricalReports=(address,testProjectId=void 0)=>async(dispatch,getState)=>{const state=getState(),mmiActions=(0,_store_institutional_institution_background__WEBPACK_IMPORTED_MODULE_1__.I6)();let projectId;if(testProjectId||(projectId=(state=>{var _state$metamask$name;return null===(_state$metamask$name=state.metamask[name])||void 0===_state$metamask$name?void 0:_state$metamask$name.complianceProjectId})(state),projectId))try{const result=await dispatch(mmiActions.getComplianceHistoricalReportsByAddress(address,projectId));dispatch(mmiActions.syncReportsInProgress({address,historicalReports:result.items?result.items:[]})),dispatch(actions.setHistoricalReports({address,reports:result.items?result.items.filter((report=>"inProgress"!==report.status)):[]}))}catch(error){console.error(error),(0,_sentry_browser__WEBPACK_IMPORTED_MODULE_3__.Tb)(error)}};const{setHistoricalReports}=actions},"./ui/pages/swaps/swaps-footer/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SwapsFooter});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),i18n=__webpack_require__("./ui/contexts/i18n.js"),page_container_footer=__webpack_require__("./ui/components/ui/page-container/page-container-footer/index.js");function SwapsFooter({onCancel,hideCancel,onSubmit,submitText,disabled,showTermsOfService,showTopBorder,className="",cancelText}){const t=(0,react.useContext)(i18n.OO);return react.createElement("div",{className:"swaps-footer"},react.createElement("div",{className:classnames_default()("swaps-footer__buttons",className,{"swaps-footer__buttons--border":showTopBorder})},react.createElement(page_container_footer.Z,{onCancel,hideCancel,cancelText:cancelText||t("back"),onSubmit,submitText,footerClassName:classnames_default()("swaps-footer__custom-page-container-footer-class",className),footerButtonClassName:classnames_default()("swaps-footer__custom-page-container-footer-button-class",{"swaps-footer__custom-page-container-footer-button-class--single":hideCancel}),disabled})),showTermsOfService&&react.createElement("div",{className:"swaps-footer__bottom-text",onClick:()=>__webpack_require__.g.platform.openTab({url:"https://metamask.io/terms.html"})},t("termsOfService")))}SwapsFooter.propTypes={onCancel:prop_types_default().func,hideCancel:prop_types_default().bool,onSubmit:prop_types_default().func.isRequired,submitText:prop_types_default().string,disabled:prop_types_default().bool,showTermsOfService:prop_types_default().bool,showTopBorder:prop_types_default().bool,className:prop_types_default().string,cancelText:prop_types_default().string},SwapsFooter.__docgenInfo={description:"",methods:[],displayName:"SwapsFooter",props:{className:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},hideCancel:{description:"",type:{name:"bool"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!0},submitText:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},showTermsOfService:{description:"",type:{name:"bool"},required:!1},showTopBorder:{description:"",type:{name:"bool"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1}}}},"./ui/store/institutional/institution-background.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I6:()=>mmiActionsFactory,Lx:()=>setTypedMessageInProgress,Y0:()=>showInteractiveReplacementTokenBanner});var loglevel__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(loglevel__WEBPACK_IMPORTED_MODULE_0__),_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/store/actions.ts"),_action_queue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/store/action-queue/index.ts"),_shared_modules_error__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./shared/modules/error.ts");function showInteractiveReplacementTokenBanner({url,oldRefreshToken}){return async dispatch=>{try{await(0,_action_queue__WEBPACK_IMPORTED_MODULE_2__.lf)("showInteractiveReplacementTokenBanner",[url,oldRefreshToken])}catch(err){if(err)throw dispatch((0,_actions__WEBPACK_IMPORTED_MODULE_1__.eaQ)(err.message)),new Error(err.message)}}}function setTypedMessageInProgress(msgId){return async dispatch=>{dispatch((0,_actions__WEBPACK_IMPORTED_MODULE_1__.Nbs)());try{await(0,_action_queue__WEBPACK_IMPORTED_MODULE_2__.lf)("setTypedMessageInProgress",[msgId])}catch(error){loglevel__WEBPACK_IMPORTED_MODULE_0___default().error(error),dispatch((0,_actions__WEBPACK_IMPORTED_MODULE_1__.eaQ)(error.message))}finally{await(0,_actions__WEBPACK_IMPORTED_MODULE_1__.Skm)(dispatch),dispatch((0,_actions__WEBPACK_IMPORTED_MODULE_1__.awJ)())}}}function mmiActionsFactory(){function createAsyncAction(name,params,useForceUpdateMetamaskState,loadingText){return loglevel__WEBPACK_IMPORTED_MODULE_0___default().debug(`background.${name}`),async dispatch=>{let result;loadingText&&dispatch((0,_actions__WEBPACK_IMPORTED_MODULE_1__.Nbs)(loadingText));try{result=await(0,_action_queue__WEBPACK_IMPORTED_MODULE_2__.lf)(name,[...params])}catch(error){throw dispatch((0,_actions__WEBPACK_IMPORTED_MODULE_1__.eaQ)(error)),(0,_shared_modules_error__WEBPACK_IMPORTED_MODULE_3__.M)(error)?new Error(error.message):error}return loadingText&&dispatch((0,_actions__WEBPACK_IMPORTED_MODULE_1__.awJ)()),useForceUpdateMetamaskState&&await(0,_actions__WEBPACK_IMPORTED_MODULE_1__.Skm)(dispatch),result}}function createAction(name,payload){return new Promise(((resolve,reject)=>{(0,_action_queue__WEBPACK_IMPORTED_MODULE_2__.BW)(name,[payload],(error=>{error?reject(error):resolve()}))}))}return{connectCustodyAddresses:(custodianType,custodianName,newAccounts)=>createAsyncAction("connectCustodyAddresses",[custodianType,custodianName,newAccounts],_actions__WEBPACK_IMPORTED_MODULE_1__.Skm,"Looking for your custodian account..."),getCustodianAccounts:(token,apiUrl,custody,getNonImportedAccounts)=>createAsyncAction("getCustodianAccounts",[token,apiUrl,custody,getNonImportedAccounts],_actions__WEBPACK_IMPORTED_MODULE_1__.Skm,"Getting custodian accounts..."),getCustodianAccountsByAddress:(jwt,apiUrl,address,custody)=>createAsyncAction("getCustodianAccountsByAddress",[jwt,apiUrl,address,custody],_actions__WEBPACK_IMPORTED_MODULE_1__.Skm,"Getting custodian accounts..."),getCustodianTransactionDeepLink:(address,txId)=>createAsyncAction("getCustodianTransactionDeepLink",[address,txId],_actions__WEBPACK_IMPORTED_MODULE_1__.Skm),getCustodianConfirmDeepLink:txId=>createAsyncAction("getCustodianConfirmDeepLink",[txId],_actions__WEBPACK_IMPORTED_MODULE_1__.Skm),getCustodianSignMessageDeepLink:(from,custodyTxId)=>createAsyncAction("getCustodianSignMessageDeepLink",[from,custodyTxId],_actions__WEBPACK_IMPORTED_MODULE_1__.Skm),getCustodianToken:custody=>createAsyncAction("getCustodianToken",[custody],_actions__WEBPACK_IMPORTED_MODULE_1__.Skm),getCustodianJWTList:custody=>createAsyncAction("getCustodianJWTList",[custody],_actions__WEBPACK_IMPORTED_MODULE_1__.Skm),setWaitForConfirmDeepLinkDialog:waitForConfirmDeepLinkDialog=>createAction("setWaitForConfirmDeepLinkDialog",waitForConfirmDeepLinkDialog),setComplianceAuthData:(clientId,projectId)=>createAsyncAction("setComplianceAuthData",[{clientId,projectId}]),deleteComplianceAuthData:()=>createAsyncAction("deleteComplianceAuthData",[]),generateComplianceReport:address=>createAction("generateComplianceReport",address),getComplianceHistoricalReportsByAddress:(address,projectId)=>createAsyncAction("getComplianceHistoricalReportsByAddress",[address,projectId]),syncReportsInProgress:(address,historicalReports)=>createAction("syncReportsInProgress",{address,historicalReports}),removeConnectInstitutionalFeature:(origin,projectId)=>createAction("removeConnectInstitutionalFeature",{origin,projectId}),removeAddTokenConnectRequest:({origin,apiUrl,token})=>createAction("removeAddTokenConnectRequest",{origin,apiUrl,token}),setCustodianConnectRequest:({token,apiUrl,custodianType,custodianName})=>createAsyncAction("setCustodianConnectRequest",[{token,apiUrl,custodianType,custodianName}]),getCustodianConnectRequest:()=>createAsyncAction("getCustodianConnectRequest",[]),getMmiConfiguration:()=>createAsyncAction("getMmiConfiguration",[]),getAllCustodianAccountsWithToken:(custodyType,token)=>createAsyncAction("getAllCustodianAccountsWithToken",[custodyType,token]),setCustodianNewRefreshToken:(address,oldAuthDetails,oldApiUrl,newAuthDetails,newApiUrl)=>createAsyncAction("setCustodianNewRefreshToken",[address,oldAuthDetails,oldApiUrl,newAuthDetails,newApiUrl])}}}}]);