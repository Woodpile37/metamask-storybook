"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[5890],{"./ui/components/app/hold-to-reveal-button/hold-to-reveal-button.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_hold_to_reveal_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/App/HoldToRevealButton",argTypes:{buttonText:{control:"text"},onLongPressed:{action:"Revealing the SRP"}}},DefaultStory=args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_hold_to_reveal_button__WEBPACK_IMPORTED_MODULE_1__.Z,args);DefaultStory.storyName="Default",DefaultStory.args={buttonText:"Hold to reveal SRP",onLongPressed:()=>console.log("Revealed")},DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => {\n  return <HoldToRevealButton {...args} />;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>HoldToRevealButton});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_contexts_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/contexts/i18n.js"),_component_library__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/component-library/index.js"),_ui_box__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/ui/box/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_contexts_metametrics__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/contexts/metametrics.js"),_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./shared/constants/metametrics.ts");const radius=14,radiusWithStroke=radius-1;function HoldToRevealButton({buttonText,onLongPressed}){const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_2__.OO),isLongPressing=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),[isUnlocking,setIsUnlocking]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[hasTriggeredUnlock,setHasTriggeredUnlock]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),trackEvent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_metametrics__WEBPACK_IMPORTED_MODULE_6__.Wd),preventPropogation=e=>{e.stopPropagation()},onProgressComplete=()=>{isLongPressing.current&&setIsUnlocking(!0)},triggerOnLongPressed=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{trackEvent({category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.ci.Keys,event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.AW.SrpHoldToRevealCompleted,properties:{key_type:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.Dv.Srp}}),trackEvent({category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.ci.Keys,event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.AW.SrpRevealViewed,properties:{key_type:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.Dv.Srp}}),onLongPressed(),setHasTriggeredUnlock(!0),preventPropogation(e)}),[onLongPressed,trackEvent]),resetAnimationStates=()=>{setIsUnlocking(!1),setHasTriggeredUnlock(!1)},renderPreCompleteContent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__absolute-fill":isUnlocking,"hold-to-reveal-button__main-icon-show":hasTriggeredUnlock})},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"hold-to-reveal-button__absolute-fill"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{className:"hold-to-reveal-button__circle-background",cx:radius,cy:radius,r:radiusWithStroke}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"hold-to-reveal-button__absolute-fill"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{"aria-label":t("holdToRevealLockedLabel"),onTransitionEnd:onProgressComplete,className:"hold-to-reveal-button__circle-foreground",cx:radius,cy:radius,r:radiusWithStroke}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bA.FLEX,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.E0.center,className:"hold-to-reveal-button__lock-icon-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:"images/lock-icon.svg",alt:t("padlock"),className:"hold-to-reveal-button__lock-icon"})))),[isUnlocking,hasTriggeredUnlock,t]),renderPostCompleteContent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>isUnlocking?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__unlock-icon-hide":hasTriggeredUnlock}),onAnimationEnd:resetAnimationStates},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onAnimationEnd:preventPropogation,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-outer-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{className:"hold-to-reveal-button__circle-static-outer",cx:14,cy:14,r:14}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onAnimationEnd:preventPropogation,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-inner-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("circle",{className:"hold-to-reveal-button__circle-static-inner",cx:14,cy:14,r:12}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"aria-label":t("holdToRevealUnlockedLabel"),className:"hold-to-reveal-button__unlock-icon-container",onAnimationEnd:triggerOnLongPressed},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:"images/unlock-icon.svg",alt:t("padlock"),className:"hold-to-reveal-button__unlock-icon"}))):null),[isUnlocking,hasTriggeredUnlock,triggerOnLongPressed,t]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_component_library__WEBPACK_IMPORTED_MODULE_3__.zx,{onMouseDown:()=>{isLongPressing.current=!0,trackEvent({category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.ci.Keys,event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.AW.SrpHoldToRevealClickStarted,properties:{key_type:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_7__.Dv.Srp}})},onMouseUp:()=>{isLongPressing.current=!1},className:"hold-to-reveal-button__button-hold",textProps:{display:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.bA.FLEX,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_5__.g1.center}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_4__.ZP,{className:"hold-to-reveal-button__icon-container",marginRight:2},renderPreCompleteContent(),renderPostCompleteContent()),buttonText)}HoldToRevealButton.propTypes={buttonText:prop_types__WEBPACK_IMPORTED_MODULE_8___default().string.isRequired,onLongPressed:prop_types__WEBPACK_IMPORTED_MODULE_8___default().func.isRequired},HoldToRevealButton.__docgenInfo={description:"",methods:[],displayName:"HoldToRevealButton",props:{buttonText:{description:"Text to be displayed on the button",type:{name:"string"},required:!0},onLongPressed:{description:"Function to be called after the animation is finished",type:{name:"func"},required:!0}}}}}]);