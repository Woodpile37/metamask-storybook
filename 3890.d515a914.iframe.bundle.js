"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[3890],{"./ui/components/ui/actionable-message/actionable-message.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>ActionableMessage,v:()=>typeHash});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_info_tooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/info-tooltip/index.js"),_info_tooltip_info_tooltip_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/info-tooltip/info-tooltip-icon.js");const CLASSNAME_WITH_RIGHT_BUTTON="actionable-message--with-right-button",typeHash={warning:"actionable-message--warning",danger:"actionable-message--danger",success:"actionable-message--success",default:""};function ActionableMessage({message="",primaryAction=null,primaryActionV2=null,secondaryAction=null,className="",infoTooltipText="",withRightButton=!1,type="default",useIcon=!1,icon,iconFillColor="",roundedButtons,dataTestId,autoHideTime=0,onAutoHide}){const[shouldDisplay,setShouldDisplay]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(0===autoHideTime)return;const timeout=setTimeout((()=>{null==onAutoHide||onAutoHide(),setShouldDisplay(!1)}),autoHideTime);return function(){clearTimeout(timeout)}}),[autoHideTime,onAutoHide]);const actionableMessageClassName=classnames__WEBPACK_IMPORTED_MODULE_1___default()("actionable-message",typeHash[type],withRightButton?CLASSNAME_WITH_RIGHT_BUTTON:null,className,{"actionable-message--with-icon":useIcon}),onlyOneAction=primaryAction&&!secondaryAction||secondaryAction&&!primaryAction;return shouldDisplay?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:actionableMessageClassName,"data-testid":dataTestId},useIcon?icon||react__WEBPACK_IMPORTED_MODULE_0__.createElement(_info_tooltip_info_tooltip_icon__WEBPACK_IMPORTED_MODULE_3__.Z,{fillColor:iconFillColor}):null,infoTooltipText&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_info_tooltip__WEBPACK_IMPORTED_MODULE_2__.Z,{position:"left",contentText:infoTooltipText,wrapperClassName:"actionable-message__info-tooltip-wrapper"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"actionable-message__message"},message),primaryActionV2&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"actionable-message__action-v2",onClick:primaryActionV2.onClick},primaryActionV2.label),(primaryAction||secondaryAction)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("actionable-message__actions",{"actionable-message__actions--single":onlyOneAction})},primaryAction&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("actionable-message__action","actionable-message__action--primary",`actionable-message__action-${type}`,{"actionable-message__action--rounded":roundedButtons}),onClick:primaryAction.onClick},primaryAction.label),secondaryAction&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("actionable-message__action","actionable-message__action--secondary",`actionable-message__action-${type}`,{"actionable-message__action--rounded":roundedButtons}),onClick:secondaryAction.onClick},secondaryAction.label))):null}ActionableMessage.propTypes={message:prop_types__WEBPACK_IMPORTED_MODULE_4___default().node.isRequired,primaryAction:prop_types__WEBPACK_IMPORTED_MODULE_4___default().shape({label:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func}),primaryActionV2:prop_types__WEBPACK_IMPORTED_MODULE_4___default().shape({label:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func}),secondaryAction:prop_types__WEBPACK_IMPORTED_MODULE_4___default().shape({label:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func}),className:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,type:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOf(Object.keys(typeHash)),withRightButton:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,infoTooltipText:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,useIcon:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,icon:prop_types__WEBPACK_IMPORTED_MODULE_4___default().node,iconFillColor:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,roundedButtons:prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool,dataTestId:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,autoHideTime:prop_types__WEBPACK_IMPORTED_MODULE_4___default().number,onAutoHide:prop_types__WEBPACK_IMPORTED_MODULE_4___default().func},ActionableMessage.__docgenInfo={description:"@deprecated `<ActionableMessage />` has been deprecated in favor of the `<BannerAlert />`\ncomponent in ./ui/components/component-library/banner-alert/banner-alert.js.\nSee storybook documentation for BannerAlert here:\n{@see {@link https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-banneralert--default-story#banneralert}}\n\nHelp to replace `ActionableMessage` with `BannerAlert` by submitting a PR against\n{@link https://github.com/MetaMask/metamask-extension/issues/19528}",methods:[],displayName:"ActionableMessage",props:{message:{defaultValue:{value:"''",computed:!1},description:"Text inside actionable message",type:{name:"node"},required:!1},primaryAction:{defaultValue:{value:"null",computed:!1},description:"First button props that have label and onClick props",type:{name:"shape",value:{label:{name:"string",required:!1},onClick:{name:"func",required:!1}}},required:!1},primaryActionV2:{defaultValue:{value:"null",computed:!1},description:"Another style of primary action.\nThis probably shouldn't have been added. A `children` prop might have been more appropriate.",type:{name:"shape",value:{label:{name:"string",required:!1},onClick:{name:"func",required:!1}}},required:!1},secondaryAction:{defaultValue:{value:"null",computed:!1},description:"Second button props that have label and onClick props",type:{name:"shape",value:{label:{name:"string",required:!1},onClick:{name:"func",required:!1}}},required:!1},className:{defaultValue:{value:"''",computed:!1},description:"Additional css className for the component based on the parent css",type:{name:"string"},required:!1},infoTooltipText:{defaultValue:{value:"''",computed:!1},description:"Add tooltip and custom message",type:{name:"string"},required:!1},withRightButton:{defaultValue:{value:"false",computed:!1},description:"change text align to left and button to bottom right",type:{name:"bool"},required:!1},type:{defaultValue:{value:"'default'",computed:!1},description:"change color theme for the component that already predefined in css",type:{name:"enum",value:[{value:'"warning"',computed:!1},{value:'"danger"',computed:!1},{value:'"success"',computed:!1},{value:'"default"',computed:!1}]},required:!1},useIcon:{defaultValue:{value:"false",computed:!1},description:"Add tooltip icon in the left component without message",type:{name:"bool"},required:!1},iconFillColor:{defaultValue:{value:"''",computed:!1},description:"change tooltip icon color",type:{name:"string"},required:!1},autoHideTime:{defaultValue:{value:"0",computed:!1},description:"Whether the actionable message should auto-hide itself after a given amount of time",type:{name:"number"},required:!1},icon:{description:"Custom icon component",type:{name:"node"},required:!1},roundedButtons:{description:"Whether the buttons are rounded",type:{name:"bool"},required:!1},dataTestId:{description:"",type:{name:"string"},required:!1},onAutoHide:{description:"Callback when autoHide time expires",type:{name:"func"},required:!1}}}},"./ui/components/ui/actionable-message/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_actionable_message__WEBPACK_IMPORTED_MODULE_0__.Z});var _actionable_message__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/actionable-message/actionable-message.js")},"./ui/components/ui/dialog/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Dialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);function Dialog(props){const{children,type,className,onClick}=props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("dialog",className,{"dialog--message":"message"===type,"dialog--error":"error"===type,"dialog--warning":"warning"===type}),"data-testid":"dialog-message",onClick},children)}Dialog.propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().node,type:prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOf(["message","error","warning"]),onClick:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func},Dialog.__docgenInfo={description:"",methods:[],displayName:"Dialog",props:{className:{description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"node"},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'message'",computed:!1},{value:"'error'",computed:!1},{value:"'warning'",computed:!1}]},required:!1},onClick:{description:"",type:{name:"func"},required:!1}}}},"./ui/components/ui/dropdown/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>dropdown});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),component_library=__webpack_require__("./ui/components/component-library/index.js");const Dropdown=({className,disabled=!1,onChange,options,selectedOption="",style,title,"data-testid":dataTestId})=>{const _onChange=(0,react.useCallback)((event=>{event.preventDefault(),event.stopPropagation(),onChange(event.target.value)}),[onChange]);return react.createElement("div",{className:classnames_default()("dropdown",className)},react.createElement("select",{className:"dropdown__select","data-testid":dataTestId,disabled,title,onChange:_onChange,style,value:selectedOption},options.map((option=>react.createElement("option",{key:option.value,value:option.value},option.name||option.value)))),react.createElement(component_library.JO,{name:component_library.uH.ArrowDown,size:component_library.Jh.Sm,className:"dropdown__icon-caret-down"}))};Dropdown.propTypes={className:prop_types_default().string,disabled:prop_types_default().bool,title:prop_types_default().string,onChange:prop_types_default().func.isRequired,options:prop_types_default().arrayOf(prop_types_default().exact({name:prop_types_default().string,value:prop_types_default().string.isRequired})).isRequired,selectedOption:prop_types_default().string,style:prop_types_default().object,"data-testid":prop_types_default().string},Dropdown.__docgenInfo={description:"",methods:[],displayName:"Dropdown",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"Disable dropdown by setting to true",type:{name:"bool"},required:!1},selectedOption:{defaultValue:{value:"''",computed:!1},description:"Selected options of dropdown",type:{name:"string"},required:!1},className:{description:"Additional css className to add to root of Dropdown component",type:{name:"string"},required:!1},title:{description:"Title of the dropdown",type:{name:"string"},required:!1},onChange:{description:"On options change handler",type:{name:"func"},required:!0},options:{description:"Predefined options for component",type:{name:"arrayOf",value:{name:"exact",value:{name:{name:"string",required:!1},value:{name:"string",required:!0}}}},required:!0},style:{description:"Add inline style for the component",type:{name:"object"},required:!1},"data-testid":{description:"Unit testing test id",type:{name:"string"},required:!1}}};const dropdown=Dropdown},"./ui/components/ui/info-tooltip/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_info_tooltip__WEBPACK_IMPORTED_MODULE_0__.Z});var _info_tooltip__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/info-tooltip/info-tooltip.js")},"./ui/components/ui/info-tooltip/info-tooltip-icon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>InfoTooltipIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);function InfoTooltipIcon({fillColor="var(--color-icon-default)"}){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M5 0C2.2 0 0 2.2 0 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 2c.4 0 .7.3.7.7s-.3.7-.7.7-.7-.2-.7-.6.3-.8.7-.8zm.7 6H4.3V4.3h1.5V8z",fill:fillColor}))}InfoTooltipIcon.propTypes={fillColor:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string},InfoTooltipIcon.__docgenInfo={description:"",methods:[],displayName:"InfoTooltipIcon",props:{fillColor:{defaultValue:{value:"'var(--color-icon-default)'",computed:!1},description:"",type:{name:"string"},required:!1}}}},"./ui/components/ui/info-tooltip/info-tooltip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>InfoTooltip});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_tooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/tooltip/index.js"),_info_tooltip_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/info-tooltip/info-tooltip-icon.js");const positionArrowClassMap={top:"info-tooltip__top-tooltip-arrow",bottom:"info-tooltip__bottom-tooltip-arrow",left:"info-tooltip__left-tooltip-arrow",right:"info-tooltip__right-tooltip-arrow"};function InfoTooltip({contentText="",position="",containerClassName,wrapperClassName,iconFillColor="var(--color-icon-alternative)"}){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"info-tooltip","data-testid":"info-tooltip"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip__WEBPACK_IMPORTED_MODULE_2__.Z,{interactive:!0,position,containerClassName:classnames__WEBPACK_IMPORTED_MODULE_1___default()("info-tooltip__tooltip-container",containerClassName),wrapperClassName,tooltipInnerClassName:"info-tooltip__tooltip-content",tooltipArrowClassName:positionArrowClassMap[position],html:contentText,theme:"tippy-tooltip-info"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_info_tooltip_icon__WEBPACK_IMPORTED_MODULE_3__.Z,{fillColor:iconFillColor})))}InfoTooltip.propTypes={contentText:prop_types__WEBPACK_IMPORTED_MODULE_4___default().node,position:prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOf(["top","left","bottom","right"]),containerClassName:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,wrapperClassName:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string,iconFillColor:prop_types__WEBPACK_IMPORTED_MODULE_4___default().string},InfoTooltip.__docgenInfo={description:"",methods:[],displayName:"InfoTooltip",props:{contentText:{defaultValue:{value:"''",computed:!1},description:"Text label that shows up after hover",type:{name:"node"},required:!1},position:{defaultValue:{value:"''",computed:!1},description:"Shows position of the tooltip",type:{name:"enum",value:[{value:"'top'",computed:!1},{value:"'left'",computed:!1},{value:"'bottom'",computed:!1},{value:"'right'",computed:!1}]},required:!1},iconFillColor:{defaultValue:{value:"'var(--color-icon-alternative)'",computed:!1},description:"Add color for the icon",type:{name:"string"},required:!1},containerClassName:{description:"Add custom CSS class for container",type:{name:"string"},required:!1},wrapperClassName:{description:"Add custom CSS class for the wrapper",type:{name:"string"},required:!1}}}},"./ui/components/ui/toggle-button/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("./ui/components/ui/toggle-button/toggle-button.component.js").Z},"./ui/components/ui/toggle-button/toggle-button.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__),react_toggle_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-toggle-button/lib/index.js"),react_toggle_button__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_toggle_button__WEBPACK_IMPORTED_MODULE_1__),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);const trackStyle={width:"40px",height:"24px",padding:"0px",borderRadius:"26px",border:"2px solid var(--color-primary-default)",display:"flex",alignItems:"center",justifyContent:"center"},offTrackStyle={...trackStyle,border:"2px solid var(--color-border-default)"},thumbStyle={width:"18px",height:"18px",display:"flex",boxShadow:"none",alignSelf:"center",borderRadius:"50%",position:"relative"},colors={activeThumb:{base:"#037DD6"},inactiveThumb:{base:"#6A737D"},active:{base:"#F2F4F6",hover:"#F2F4F6"},inactive:{base:"#F2F4F6",hover:"#F2F4F6"}},ToggleButton=props=>{const{value,onToggle,offLabel,onLabel,disabled,className}=props,modifier=value?"on":"off";return react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{tabIndex:"0",onKeyDown:e=>{"Enter"===e.key&&onToggle(value)},className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("toggle-button",`toggle-button--${modifier}`,{"toggle-button--disabled":disabled},className)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_toggle_button__WEBPACK_IMPORTED_MODULE_1___default(),{value,onToggle:disabled?void 0:onToggle,activeLabel:"",inactiveLabel:"",trackStyle:value?trackStyle:offTrackStyle,thumbStyle,thumbAnimateRange:[3,18],colors}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"toggle-button__status"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"toggle-button__label-off"},offLabel),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"toggle-button__label-on"},onLabel)))};ToggleButton.propTypes={value:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,onToggle:prop_types__WEBPACK_IMPORTED_MODULE_3___default().func,offLabel:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,onLabel:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string,disabled:prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool,className:prop_types__WEBPACK_IMPORTED_MODULE_3___default().string},ToggleButton.__docgenInfo={description:"",methods:[],displayName:"ToggleButton",props:{value:{description:"ToggleButton value",type:{name:"bool"},required:!1},onToggle:{description:"The onChange handler of the ToggleButton",type:{name:"func"},required:!1},offLabel:{description:"Label text when toggle is off",type:{name:"string"},required:!1},onLabel:{description:"Label text when toggle is on",type:{name:"string"},required:!1},disabled:{description:"Disables ToggleButton if true. Set to false as default",type:{name:"bool"},required:!1},className:{description:"Additional className to add to the ToggleButton",type:{name:"string"},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=ToggleButton},"./ui/pages/settings/advanced-tab/advanced-tab.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>AdvancedTab});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),toggle_button=__webpack_require__("./ui/components/ui/toggle-button/index.js"),text_field=__webpack_require__("./ui/components/ui/text-field/index.js"),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),dropdown=__webpack_require__("./ui/components/ui/dropdown/index.js"),dialog=__webpack_require__("./ui/components/ui/dialog/index.js"),util=__webpack_require__("./app/scripts/lib/util.ts"),app=__webpack_require__("./shared/constants/app.ts"),settings_search=__webpack_require__("./ui/helpers/utils/settings-search.js"),hardware_wallets=__webpack_require__("./shared/constants/hardware-wallets.ts"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),preferences=__webpack_require__("./shared/constants/preferences.ts"),utils_util=__webpack_require__("./ui/helpers/utils/util.js"),Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer;function exportAsFile(filename,data,type="text/csv"){const b64=Buffer.from(data,"utf8").toString("base64");filename=filename||(0,utils_util.mn)();const elem=window.document.createElement("a");elem.href=`data:${type};Base64,${b64}`,elem.download=filename,document.body.appendChild(elem),elem.click(),document.body.removeChild(elem)}var actionable_message=__webpack_require__("./ui/components/ui/actionable-message/index.js"),zendesk_url=__webpack_require__("./ui/helpers/constants/zendesk-url.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class AdvancedTab extends react.PureComponent{constructor(...args){super(...args),_defineProperty(this,"state",{autoLockTimeLimit:this.props.autoLockTimeLimit,autoLockTimeLimitBeforeNormalization:this.props.autoLockTimeLimit,lockTimeError:"",showLedgerTransportWarning:!1,showResultMessage:!1,restoreSuccessful:!0,restoreMessage:null}),_defineProperty(this,"settingsRefs",Array((0,settings_search.Oc)(this.context.t,this.context.t("advanced"))).fill(void 0).map((()=>react.createRef()))),_defineProperty(this,"backupUserData",(async()=>{const{fileName,data}=await this.props.backupUserData();exportAsFile(fileName,data),this.context.trackEvent({event:"User Data Exported",category:"Backup",properties:{}})}))}componentDidUpdate(){const{t}=this.context;(0,settings_search.n4)(t,t("advanced"),this.settingsRefs)}componentDidMount(){const{t}=this.context;(0,settings_search.n4)(t,t("advanced"),this.settingsRefs)}async getTextFromFile(file){return new Promise(((resolve,reject)=>{const reader=new window.FileReader;reader.onload=e=>{const text=e.target.result;resolve(text)},reader.onerror=e=>{reject(e)},reader.readAsText(file)}))}async handleFileUpload(event){event.persist();const file=event.target.files[0],jsonString=await this.getTextFromFile(file);event.target.value="";try{const result=await this.props.restoreUserData(jsonString);this.setState({showResultMessage:!0,restoreSuccessful:result,restoreMessage:null})}catch(e){e.message.match(/Unexpected.+JSON/iu)&&this.setState({showResultMessage:!0,restoreSuccessful:!1,restoreMessage:"CORRUPT_JSON_FILE"})}}renderStateLogs(){const{t}=this.context,{displayWarning}=this.props;return react.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__content-row","data-testid":"advanced-setting-state-logs"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("stateLogs")),react.createElement("span",{className:"settings-page__content-description"},t("stateLogsDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(ui_button.Z,{type:"secondary",large:!0,onClick:()=>{window.logStateString(((err,result)=>{err?displayWarning(t("stateLogError")):exportAsFile(`${t("stateLogFileName")}.json`,result)}))}},t("downloadStateLogs")))))}renderResetAccount(){const{t}=this.context,{showResetAccountConfirmationModal}=this.props;return react.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__content-row","data-testid":"advanced-setting-reset-account"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("clearActivity")),react.createElement("span",{className:"settings-page__content-description"},t("clearActivityDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(ui_button.Z,{type:"danger",large:!0,className:"settings-tab__button--red",onClick:event=>{event.preventDefault(),this.context.trackEvent({category:metametrics.ci.Settings,event:metametrics.AW.AccountReset,properties:{}}),showResetAccountConfirmationModal()}},t("clearActivityButton")))))}renderHexDataOptIn(){const{t}=this.context,{sendHexData,setHexDataFeatureFlag}=this.props;return react.createElement("div",{ref:this.settingsRefs[3],className:"settings-page__content-row","data-testid":"advanced-setting-hex-data"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("showHexData")),react.createElement("div",{className:"settings-page__content-description"},t("showHexDataDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(toggle_button.Z,{value:sendHexData,onToggle:value=>setHexDataFeatureFlag(!value),offLabel:t("off"),onLabel:t("on")}))))}renderShowConversionInTestnets(){const{t}=this.context,{showFiatInTestnets,setShowFiatConversionOnTestnetsPreference}=this.props;return react.createElement("div",{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("showFiatConversionInTestnets")),react.createElement("div",{className:"settings-page__content-description"},t("showFiatConversionInTestnetsDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(toggle_button.Z,{value:showFiatInTestnets,onToggle:value=>setShowFiatConversionOnTestnetsPreference(!value),offLabel:t("off"),onLabel:t("on")}))))}renderToggleTestNetworks(){const{t}=this.context,{showTestNetworks,setShowTestNetworks}=this.props;return react.createElement("div",{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-show-testnet-conversion"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("showTestnetNetworks")),react.createElement("div",{className:"settings-page__content-description"},t("showTestnetNetworksDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(toggle_button.Z,{value:showTestNetworks,onToggle:value=>setShowTestNetworks(!value),offLabel:t("off"),onLabel:t("on")}))))}renderUseNonceOptIn(){const{t}=this.context,{useNonceField,setUseNonceField}=this.props;return react.createElement("div",{ref:this.settingsRefs[6],className:"settings-page__content-row","data-testid":"advanced-setting-custom-nonce"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("nonceField")),react.createElement("div",{className:"settings-page__content-description"},t("nonceFieldDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(toggle_button.Z,{value:useNonceField,onToggle:value=>setUseNonceField(!value),offLabel:t("off"),onLabel:t("on")}))))}renderAutoLockTimeLimit(){const{t}=this.context,{lockTimeError}=this.state,{setAutoLockTimeLimit}=this.props;return react.createElement("div",{ref:this.settingsRefs[7],className:"settings-page__content-row","data-testid":"advanced-setting-auto-lock"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("autoLockTimeLimit")),react.createElement("div",{className:"settings-page__content-description"},t("autoLockTimeLimitDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(text_field.Z,{id:"autoTimeout","data-testid":"auto-lockout-time",placeholder:"0",value:this.state.autoLockTimeLimitBeforeNormalization,onChange:e=>this.handleLockChange(e.target.value),error:lockTimeError,fullWidth:!0,margin:"dense",min:0}),react.createElement(ui_button.Z,{type:"primary","data-testid":"auto-lockout-button",className:"settings-tab__rpc-save-button",disabled:""!==lockTimeError,onClick:()=>{setAutoLockTimeLimit(this.state.autoLockTimeLimit)}},t("save")))))}renderLedgerLiveControl(){const{t}=this.context,{ledgerTransportType,setLedgerTransportPreference,userHasALedgerAccount,desktopEnabled}=this.props;if(desktopEnabled)return null;const LEDGER_TRANSPORT_NAMES={LIVE:t("ledgerLive"),WEBHID:t("webhid"),U2F:t("u2f")},transportTypeOptions=[{name:LEDGER_TRANSPORT_NAMES.LIVE,value:hardware_wallets.fR.live},{name:LEDGER_TRANSPORT_NAMES.U2F,value:hardware_wallets.fR.u2f}];window.navigator.hid&&transportTypeOptions.push({name:LEDGER_TRANSPORT_NAMES.WEBHID,value:hardware_wallets.fR.webhid});const recommendedLedgerOption=window.navigator.hid?LEDGER_TRANSPORT_NAMES.WEBHID:LEDGER_TRANSPORT_NAMES.U2F;return react.createElement("div",{ref:this.settingsRefs[8],className:"settings-page__content-row","data-testId":"ledger-live-control"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("preferredLedgerConnectionType")),react.createElement("div",{className:"settings-page__content-description"},t("ledgerConnectionPreferenceDescription",[recommendedLedgerOption,react.createElement(ui_button.Z,{key:"ledger-connection-settings-learn-more",type:"link",href:zendesk_url.Z.HARDWARE_CONNECTION,target:"_blank",rel:"noopener noreferrer",className:"settings-page__inline-link"},t("learnMore"))]))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(dropdown.Z,{id:"select-ledger-transport-type",options:transportTypeOptions,selectedOption:ledgerTransportType,onChange:async transportType=>{ledgerTransportType===hardware_wallets.fR.live&&transportType===hardware_wallets.fR.webhid&&this.setState({showLedgerTransportWarning:!0}),setLedgerTransportPreference(transportType),transportType===hardware_wallets.fR.webhid&&userHasALedgerAccount&&await window.navigator.hid.requestDevice({filters:[{vendorId:hardware_wallets.YS}]})}}),this.state.showLedgerTransportWarning?react.createElement(dialog.Z,{type:"message"},react.createElement("div",{className:"settings-page__content-item-dialog"},t("ledgerTransportChangeWarning"))):null)))}renderDismissSeedBackupReminderControl(){const{t}=this.context,{dismissSeedBackUpReminder,setDismissSeedBackUpReminder}=this.props;return react.createElement("div",{ref:this.settingsRefs[9],className:"settings-page__content-row","data-testid":"advanced-setting-dismiss-reminder"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("dismissReminderField")),react.createElement("div",{className:"settings-page__content-description"},t("dismissReminderDescriptionField"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(toggle_button.Z,{value:dismissSeedBackUpReminder,onToggle:value=>setDismissSeedBackUpReminder(!value),offLabel:t("off"),onLabel:t("on")}))))}renderToggleEthSignControl(){const{t,trackEvent}=this.context,{disabledRpcMethodPreferences,showEthSignModal,setDisabledRpcMethodPreference}=this.props;return react.createElement("div",{ref:this.settingsRefs[10],className:"settings-page__content-row","data-testid":"advanced-setting-toggle-ethsign"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("toggleEthSignField")),react.createElement("div",{className:"settings-page__content-description"},t("toggleEthSignDescriptionField"))),!0===(null==disabledRpcMethodPreferences?void 0:disabledRpcMethodPreferences.eth_sign)?react.createElement(component_library.wB,{severity:design_system.t3.DANGER,marginBottom:5,descriptionProps:{variant:design_system.rK.bodyMd}},t("toggleEthSignBannerDescription")):null,react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(toggle_button.Z,{className:"eth-sign-toggle",value:(null==disabledRpcMethodPreferences?void 0:disabledRpcMethodPreferences.eth_sign)||!1,onToggle:value=>{value?(value=>{setDisabledRpcMethodPreference("eth_sign",!value),trackEvent({category:metametrics.ci.Settings,event:metametrics.AW.OnboardingWalletAdvancedSettings,properties:{location:"Settings",enable_eth_sign:!1}})})(value):showEthSignModal()},offLabel:t("toggleEthSignOff"),onLabel:t("toggleEthSignOn")}))))}handleLockChange(autoLockTimeLimitBeforeNormalization){const{t}=this.context;if(""===autoLockTimeLimitBeforeNormalization)return void this.setState({autoLockTimeLimitBeforeNormalization,autoLockTimeLimit:preferences.$.toString(),lockTimeError:""});const autoLockTimeLimitAfterNormalization=Number(autoLockTimeLimitBeforeNormalization);if(Number.isNaN(autoLockTimeLimitAfterNormalization)||autoLockTimeLimitAfterNormalization<0||autoLockTimeLimitAfterNormalization>10080)return void this.setState({autoLockTimeLimitBeforeNormalization,autoLockTimeLimit:null,lockTimeError:t("lockTimeInvalid")});const autoLockTimeLimit=autoLockTimeLimitAfterNormalization;this.setState({autoLockTimeLimitBeforeNormalization,autoLockTimeLimit,lockTimeError:""})}renderUserDataBackup(){const{t}=this.context;return react.createElement("div",{ref:this.settingsRefs[11],className:"settings-page__content-row","data-testid":"advanced-setting-data-backup"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("backupUserData")),react.createElement("span",{className:"settings-page__content-description"},t("backupUserDataDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(ui_button.Z,{"data-testid":"backup-button",type:"secondary",large:!0,onClick:()=>this.backupUserData()},t("backup")))))}renderRestoreUserData(){const{t}=this.context,{showResultMessage,restoreSuccessful,restoreMessage}=this.state,defaultRestoreMessage=t(restoreSuccessful?"restoreSuccessful":"restoreFailed"),restoreMessageToRender="CORRUPT_JSON_FILE"===restoreMessage?t("dataBackupSeemsCorrupt"):defaultRestoreMessage;return react.createElement("div",{ref:this.settingsRefs[12],className:"settings-page__content-row","data-testid":"advanced-setting-data-restore"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("restoreUserData")),react.createElement("span",{className:"settings-page__content-description"},t("restoreUserDataDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement("label",{htmlFor:"restore-file",className:"button btn btn--rounded btn-secondary btn--large settings-page__button"},t("restore")),react.createElement("input",{id:"restore-file","data-testid":"restore-file",style:{visibility:"hidden"},type:"file",accept:".json",onChange:e=>this.handleFileUpload(e)})),showResultMessage&&react.createElement(actionable_message.Z,{type:restoreSuccessful?"success":"danger",message:restoreMessageToRender,primaryActionV2:{label:t("dismiss"),onClick:()=>{this.setState({showResultMessage:!1,restoreSuccessful:!0,restoreMessage:null})}}})))}render(){const{warning}=this.props,notUsingFirefox=(0,util.Xf)()!==app.q$;return react.createElement("div",{className:"settings-page__body"},warning?react.createElement("div",{className:"settings-tab__error"},warning):null,this.renderStateLogs(),this.renderResetAccount(),this.renderHexDataOptIn(),this.renderShowConversionInTestnets(),this.renderToggleTestNetworks(),this.renderUseNonceOptIn(),this.renderAutoLockTimeLimit(),this.renderUserDataBackup(),this.renderRestoreUserData(),notUsingFirefox?this.renderLedgerLiveControl():null,this.renderDismissSeedBackupReminderControl(),this.renderToggleEthSignControl())}}_defineProperty(AdvancedTab,"contextTypes",{t:prop_types_default().func,trackEvent:prop_types_default().func}),_defineProperty(AdvancedTab,"propTypes",{setUseNonceField:prop_types_default().func,useNonceField:prop_types_default().bool,setHexDataFeatureFlag:prop_types_default().func,displayWarning:prop_types_default().func,showResetAccountConfirmationModal:prop_types_default().func,showEthSignModal:prop_types_default().func,warning:prop_types_default().string,sendHexData:prop_types_default().bool,showFiatInTestnets:prop_types_default().bool,showTestNetworks:prop_types_default().bool,autoLockTimeLimit:prop_types_default().number,setAutoLockTimeLimit:prop_types_default().func.isRequired,setShowFiatConversionOnTestnetsPreference:prop_types_default().func.isRequired,setShowTestNetworks:prop_types_default().func.isRequired,ledgerTransportType:prop_types_default().oneOf(Object.values(hardware_wallets.fR)),setLedgerTransportPreference:prop_types_default().func.isRequired,setDismissSeedBackUpReminder:prop_types_default().func.isRequired,dismissSeedBackUpReminder:prop_types_default().bool.isRequired,userHasALedgerAccount:prop_types_default().bool.isRequired,backupUserData:prop_types_default().func.isRequired,restoreUserData:prop_types_default().func.isRequired,setDisabledRpcMethodPreference:prop_types_default().func.isRequired,disabledRpcMethodPreferences:prop_types_default().shape({eth_sign:prop_types_default().bool.isRequired}),desktopEnabled:prop_types_default().bool}),AdvancedTab.__docgenInfo={description:"",methods:[{name:"getTextFromFile",docblock:null,modifiers:["async"],params:[{name:"file",type:null}],returns:null},{name:"handleFileUpload",docblock:null,modifiers:["async"],params:[{name:"event",type:null}],returns:null},{name:"backupUserData",docblock:null,modifiers:["async"],params:[],returns:null},{name:"renderStateLogs",docblock:null,modifiers:[],params:[],returns:null},{name:"renderResetAccount",docblock:null,modifiers:[],params:[],returns:null},{name:"renderHexDataOptIn",docblock:null,modifiers:[],params:[],returns:null},{name:"renderShowConversionInTestnets",docblock:null,modifiers:[],params:[],returns:null},{name:"renderToggleTestNetworks",docblock:null,modifiers:[],params:[],returns:null},{name:"renderUseNonceOptIn",docblock:null,modifiers:[],params:[],returns:null},{name:"renderAutoLockTimeLimit",docblock:null,modifiers:[],params:[],returns:null},{name:"renderLedgerLiveControl",docblock:null,modifiers:[],params:[],returns:null},{name:"renderDismissSeedBackupReminderControl",docblock:null,modifiers:[],params:[],returns:null},{name:"renderToggleEthSignControl",docblock:null,modifiers:[],params:[],returns:null},{name:"handleLockChange",docblock:null,modifiers:[],params:[{name:"autoLockTimeLimitBeforeNormalization",type:null}],returns:null},{name:"renderUserDataBackup",docblock:null,modifiers:[],params:[],returns:null},{name:"renderRestoreUserData",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AdvancedTab",props:{setUseNonceField:{description:"",type:{name:"func"},required:!1},useNonceField:{description:"",type:{name:"bool"},required:!1},setHexDataFeatureFlag:{description:"",type:{name:"func"},required:!1},displayWarning:{description:"",type:{name:"func"},required:!1},showResetAccountConfirmationModal:{description:"",type:{name:"func"},required:!1},showEthSignModal:{description:"",type:{name:"func"},required:!1},warning:{description:"",type:{name:"string"},required:!1},sendHexData:{description:"",type:{name:"bool"},required:!1},showFiatInTestnets:{description:"",type:{name:"bool"},required:!1},showTestNetworks:{description:"",type:{name:"bool"},required:!1},autoLockTimeLimit:{description:"",type:{name:"number"},required:!1},setAutoLockTimeLimit:{description:"",type:{name:"func"},required:!0},setShowFiatConversionOnTestnetsPreference:{description:"",type:{name:"func"},required:!0},setShowTestNetworks:{description:"",type:{name:"func"},required:!0},ledgerTransportType:{description:"",type:{name:"enum",computed:!0,value:"Object.values(LedgerTransportTypes)"},required:!1},setLedgerTransportPreference:{description:"",type:{name:"func"},required:!0},setDismissSeedBackUpReminder:{description:"",type:{name:"func"},required:!0},dismissSeedBackUpReminder:{description:"",type:{name:"bool"},required:!0},userHasALedgerAccount:{description:"",type:{name:"bool"},required:!0},backupUserData:{description:"",type:{name:"func"},required:!0},restoreUserData:{description:"",type:{name:"func"},required:!0},setDisabledRpcMethodPreference:{description:"",type:{name:"func"},required:!0},disabledRpcMethodPreferences:{description:"",type:{name:"shape",value:{eth_sign:{name:"bool",required:!0}}},required:!1},desktopEnabled:{description:"",type:{name:"bool"},required:!1}},context:{t:{type:{name:"func"},required:!1},trackEvent:{type:{name:"func"},required:!1}}}}}]);