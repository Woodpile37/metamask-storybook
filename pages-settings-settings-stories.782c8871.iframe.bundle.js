(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[9274],{"./node_modules/@metamask/desktop/dist/types/background.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConnectionType=void 0,function(ConnectionType){ConnectionType.INTERNAL="INTERNAL",ConnectionType.EXTERNAL="EXTERNAL"}(exports.ConnectionType||(exports.ConnectionType={}))},"./node_modules/@metamask/desktop/dist/types/browser.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},"./node_modules/@metamask/desktop/dist/types/desktop.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PairingKeyStatus=void 0,function(PairingKeyStatus){PairingKeyStatus.MATCH="MATCH",PairingKeyStatus.NO_MATCH="NO_MATCH",PairingKeyStatus.MISSING="MISSING"}(exports.PairingKeyStatus||(exports.PairingKeyStatus={}))},"./node_modules/@metamask/desktop/dist/types/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__("./node_modules/@metamask/desktop/dist/types/background.js"),exports),__exportStar(__webpack_require__("./node_modules/@metamask/desktop/dist/types/browser.js"),exports),__exportStar(__webpack_require__("./node_modules/@metamask/desktop/dist/types/desktop.js"),exports),__exportStar(__webpack_require__("./node_modules/@metamask/desktop/dist/types/message.js"),exports)},"./node_modules/@metamask/desktop/dist/types/message.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},"./ui/pages/settings/settings.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SettingsPageComponent:()=>SettingsPageComponent,__namedExportsOrder:()=>__namedExportsOrder,default:()=>settings_stories});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),tab_bar=__webpack_require__("./ui/components/app/tab-bar/index.js"),settings_search=__webpack_require__("./ui/helpers/utils/settings-search.js"),add_network=__webpack_require__("./ui/components/app/add-network/add-network.js"),component_library=__webpack_require__("./ui/components/component-library/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),metafox_logo=__webpack_require__("./ui/components/ui/metafox-logo/index.js"),util=__webpack_require__("./app/scripts/lib/util.ts"),app=__webpack_require__("./shared/constants/app.ts"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),actions=__webpack_require__("./ui/store/actions.ts"),selectors=__webpack_require__("./ui/selectors/index.js");const available_conversions_namespaceObject=JSON.parse('[{"code":"aud","name":"Australian Dollar"},{"code":"hkd","name":"Hong Kong Dollar"},{"code":"sgd","name":"Singapore Dollar"},{"code":"idr","name":"Indonesian Rupiah"},{"code":"inr","name":"Indian Rupee"},{"code":"nzd","name":"New Zealand Dollar"},{"code":"php","name":"Philippine Peso"},{"code":"1st","name":"FirstBlood"},{"code":"adt","name":"adToken"},{"code":"adx","name":"AdEx"},{"code":"ant","name":"Aragon"},{"code":"bat","name":"Basic Attention Token"},{"code":"bnt","name":"Bancor"},{"code":"btc","name":"Bitcoin"},{"code":"cad","name":"Canadian Dollar"},{"code":"cfi","name":"Cofound.it"},{"code":"crb","name":"CreditBit"},{"code":"cvc","name":"Civic"},{"code":"dash","name":"Dash"},{"code":"dgd","name":"DigixDAO"},{"code":"etc","name":"Ethereum Classic"},{"code":"eur","name":"Euro"},{"code":"fun","name":"FunFair"},{"code":"gbp","name":"Pound Sterling"},{"code":"gno","name":"Gnosis"},{"code":"gnt","name":"Golem"},{"code":"gup","name":"Matchpool"},{"code":"hmq","name":"Humaniq"},{"code":"jpy","name":"Japanese Yen"},{"code":"lgd","name":"Legends Room"},{"code":"lsk","name":"Lisk"},{"code":"ltc","name":"Litecoin"},{"code":"lun","name":"Lunyr"},{"code":"mco","name":"Monaco"},{"code":"mtl","name":"Metal"},{"code":"myst","name":"Mysterium"},{"code":"nmr","name":"Numeraire"},{"code":"omg","name":"OmiseGO"},{"code":"pay","name":"TenX"},{"code":"ptoy","name":"Patientory"},{"code":"qrl","name":"Quantum-Resistant Ledger"},{"code":"qtum","name":"Qtum"},{"code":"rep","name":"Augur"},{"code":"rlc","name":"iEx.ec"},{"code":"rub","name":"Russian Ruble"},{"code":"sc","name":"Siacoin"},{"code":"sngls","name":"SingularDTV"},{"code":"snt","name":"Status"},{"code":"steem","name":"Steem"},{"code":"storj","name":"Storj"},{"code":"time","name":"ChronoBank"},{"code":"tkn","name":"TokenCard"},{"code":"trst","name":"WeTrust"},{"code":"uah","name":"Ukrainian Hryvnia"},{"code":"usd","name":"United States Dollar"},{"code":"wings","name":"Wings"},{"code":"xem","name":"NEM"},{"code":"xlm","name":"Stellar Lumen"},{"code":"xmr","name":"Monero"},{"code":"xrp","name":"Ripple"},{"code":"zec","name":"Zcash"},{"code":"dai","name":"DAI"},{"code":"sai","name":"SAI"}]');var dropdown=__webpack_require__("./ui/components/ui/dropdown/index.js"),toggle_button=__webpack_require__("./ui/components/ui/toggle-button/index.js"),_locales=__webpack_require__("./app/_locales/index.json"),jazzicon=__webpack_require__("./ui/components/ui/jazzicon/index.js"),blockieIdenticon=__webpack_require__("./ui/components/ui/identicon/blockieIdenticon/index.js"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),preferences=__webpack_require__("./shared/constants/preferences.ts");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const currencyOptions=available_conversions_namespaceObject.sort(((a,b)=>a.name.toLocaleLowerCase().localeCompare(b.name.toLocaleLowerCase()))).map((({code,name})=>({name:`${code.toUpperCase()} - ${name}`,value:code}))),localeOptions=_locales.map((locale=>({name:`${locale.name}`,value:locale.code})));class SettingsTab extends react.PureComponent{constructor(...args){super(...args),_defineProperty(this,"settingsRefs",Array((0,settings_search.Oc)(this.context.t,this.context.t("general"))).fill(void 0).map((()=>react.createRef())))}componentDidUpdate(){const{t}=this.context;(0,settings_search.n4)(t,t("general"),this.settingsRefs)}componentDidMount(){const{t}=this.context;(0,settings_search.n4)(t,t("general"),this.settingsRefs)}renderCurrentConversion(){const{t}=this.context,{currentCurrency,setCurrentCurrency,lastFetchedConversionDate}=this.props;return react.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("currencyConversion")),react.createElement("span",{className:"settings-page__content-description"},lastFetchedConversionDate?t("updatedWithDate",[new Date(1e3*lastFetchedConversionDate).toString()]):t("noConversionDateAvailable"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(dropdown.Z,{"data-testid":"currency-select",id:"select-currency",options:currencyOptions,selectedOption:currentCurrency,onChange:newCurrency=>setCurrentCurrency(newCurrency)}))))}renderCurrentLocale(){const{t}=this.context,{updateCurrentLocale,currentLocale}=this.props,currentLocaleMeta=_locales.find((locale=>locale.code===currentLocale)),currentLocaleName=currentLocaleMeta?currentLocaleMeta.name:"";return react.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",{className:"settings-page__content-label"},t("currentLanguage")),react.createElement("span",{className:"settings-page__content-description"},currentLocaleName)),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(dropdown.Z,{"data-testid":"locale-select",id:"select-locale",options:localeOptions,selectedOption:currentLocale,onChange:async newLocale=>updateCurrentLocale(newLocale)}))))}renderHideZeroBalanceTokensOptIn(){const{t}=this.context,{hideZeroBalanceTokens,setHideZeroBalanceTokens}=this.props;return react.createElement("div",{ref:this.settingsRefs[5],"data-testid":"hide-zero-balance-tokens",className:"settings-page__content-row",id:"toggle-zero-balance"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("hideZeroBalanceTokens"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(toggle_button.Z,{value:hideZeroBalanceTokens,onToggle:value=>setHideZeroBalanceTokens(!value),offLabel:t("off"),onLabel:t("on")}))))}renderBlockieOptIn(){const{t}=this.context,{useBlockie,setUseBlockie,selectedAddress,tokenList}=this.props;return react.createElement("div",{ref:this.settingsRefs[4],className:"settings-page__content-row",id:"blockie-optin"},react.createElement("div",{className:"settings-page__content-item"},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,as:"h5",color:design_system.d9.textDefault},t("accountIdenticon")),react.createElement("span",{className:"settings-page__content-item__description"},t("jazzAndBlockies")),react.createElement("div",{className:"settings-page__content-item__identicon"},react.createElement("button",{"data-testid":"jazz_icon",onClick:()=>setUseBlockie(!1),className:"settings-page__content-item__identicon__item"},react.createElement("div",{className:classnames_default()("settings-page__content-item__identicon__item__icon",{"settings-page__content-item__identicon__item__icon--active":!useBlockie})},react.createElement(jazzicon.Z,{id:"jazzicon",address:selectedAddress,diameter:32,tokenList,style:{display:"block",borderRadius:"16px",width:"32px",height:"32px"}})),react.createElement(component_library.xv,{color:design_system.d9.textDefault,variant:design_system.rK.bodySm,as:"h6",marginTop:0,marginRight:12,marginBottom:0,marginLeft:3},t("jazzicons"))),react.createElement("button",{"data-testid":"blockie_icon",onClick:()=>setUseBlockie(!0),className:"settings-page__content-item__identicon__item"},react.createElement("div",{className:classnames_default()("settings-page__content-item__identicon__item__icon",{"settings-page__content-item__identicon__item__icon--active":useBlockie})},react.createElement(blockieIdenticon.Z,{id:"blockies",address:selectedAddress,diameter:32,borderRadius:"50%"})),react.createElement(component_library.xv,{color:design_system.d9.textDefault,variant:design_system.rK.bodySm,as:"h6",marginTop:3,marginRight:0,marginBottom:3,marginLeft:3},t("blockies"))))))}renderUsePrimaryCurrencyOptions(){const{t}=this.context,{nativeCurrency,setUseNativeCurrencyAsPrimaryCurrencyPreference,useNativeCurrencyAsPrimaryCurrency}=this.props;return react.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("primaryCurrencySetting")),react.createElement("div",{className:"settings-page__content-description"},t("primaryCurrencySettingDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement("div",{className:"settings-tab__radio-buttons"},react.createElement("div",{className:"settings-tab__radio-button"},react.createElement("input",{type:"radio","data-testid":"toggle-native-currency",id:"native-primary-currency",onChange:()=>setUseNativeCurrencyAsPrimaryCurrencyPreference(!0),checked:Boolean(useNativeCurrencyAsPrimaryCurrency)}),react.createElement("label",{htmlFor:"native-primary-currency",className:"settings-tab__radio-label"},nativeCurrency)),react.createElement("div",{className:"settings-tab__radio-button"},react.createElement("input",{type:"radio","data-testid":"toggle-fiat-currency",id:"fiat-primary-currency",onChange:()=>setUseNativeCurrencyAsPrimaryCurrencyPreference(!1),checked:!useNativeCurrencyAsPrimaryCurrency}),react.createElement("label",{htmlFor:"fiat-primary-currency",className:"settings-tab__radio-label"},t("fiat")))))))}renderTheme(){const{t}=this.context,{theme,setTheme}=this.props,themesOptions=[{name:t("lightTheme"),value:preferences.f.light},{name:t("darkTheme"),value:preferences.f.dark},{name:t("osTheme"),value:preferences.f.os}];return react.createElement("div",{ref:this.settingsRefs[3],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,this.context.t("theme")),react.createElement("div",{className:"settings-page__content-description"},this.context.t("themeDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(dropdown.Z,{id:"select-theme",options:themesOptions,selectedOption:theme,onChange:newTheme=>{this.context.trackEvent({category:metametrics.ci.Settings,event:"Theme Changed",properties:{theme_selected:newTheme}}),setTheme(newTheme)}}))))}render(){const{warning}=this.props;return react.createElement("div",{className:"settings-page__body"},warning?react.createElement("div",{className:"settings-tab__error"},warning):null,this.renderCurrentConversion(),this.renderUsePrimaryCurrencyOptions(),this.renderCurrentLocale(),this.renderTheme(),this.renderBlockieOptIn(),this.renderHideZeroBalanceTokensOptIn())}}_defineProperty(SettingsTab,"contextTypes",{t:prop_types_default().func,metricsEvent:prop_types_default().func,trackEvent:prop_types_default().func}),_defineProperty(SettingsTab,"propTypes",{setUseBlockie:prop_types_default().func,setCurrentCurrency:prop_types_default().func,warning:prop_types_default().string,updateCurrentLocale:prop_types_default().func,currentLocale:prop_types_default().string,useBlockie:prop_types_default().bool,currentCurrency:prop_types_default().string,nativeCurrency:prop_types_default().string,useNativeCurrencyAsPrimaryCurrency:prop_types_default().bool,setUseNativeCurrencyAsPrimaryCurrencyPreference:prop_types_default().func,hideZeroBalanceTokens:prop_types_default().bool,setHideZeroBalanceTokens:prop_types_default().func,lastFetchedConversionDate:prop_types_default().number,selectedAddress:prop_types_default().string,tokenList:prop_types_default().object,theme:prop_types_default().string,setTheme:prop_types_default().func}),SettingsTab.__docgenInfo={description:"",methods:[{name:"renderCurrentConversion",docblock:null,modifiers:[],params:[],returns:null},{name:"renderCurrentLocale",docblock:null,modifiers:[],params:[],returns:null},{name:"renderHideZeroBalanceTokensOptIn",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBlockieOptIn",docblock:null,modifiers:[],params:[],returns:null},{name:"renderUsePrimaryCurrencyOptions",docblock:null,modifiers:[],params:[],returns:null},{name:"renderTheme",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SettingsTab",props:{setUseBlockie:{description:"",type:{name:"func"},required:!1},setCurrentCurrency:{description:"",type:{name:"func"},required:!1},warning:{description:"",type:{name:"string"},required:!1},updateCurrentLocale:{description:"",type:{name:"func"},required:!1},currentLocale:{description:"",type:{name:"string"},required:!1},useBlockie:{description:"",type:{name:"bool"},required:!1},currentCurrency:{description:"",type:{name:"string"},required:!1},nativeCurrency:{description:"",type:{name:"string"},required:!1},useNativeCurrencyAsPrimaryCurrency:{description:"",type:{name:"bool"},required:!1},setUseNativeCurrencyAsPrimaryCurrencyPreference:{description:"",type:{name:"func"},required:!1},hideZeroBalanceTokens:{description:"",type:{name:"bool"},required:!1},setHideZeroBalanceTokens:{description:"",type:{name:"func"},required:!1},lastFetchedConversionDate:{description:"",type:{name:"number"},required:!1},selectedAddress:{description:"",type:{name:"string"},required:!1},tokenList:{description:"",type:{name:"object"},required:!1},theme:{description:"",type:{name:"string"},required:!1},setTheme:{description:"",type:{name:"func"},required:!1}},context:{t:{type:{name:"func"},required:!1},metricsEvent:{type:{name:"func"},required:!1},trackEvent:{type:{name:"func"},required:!1}}};const settings_tab_container=(0,es.$j)(((state,ownProps)=>{const{appState:{warning},metamask}=state,{currentCurrency,nativeCurrency,useBlockie,currentLocale,selectedAddress}=metamask,{useNativeCurrencyAsPrimaryCurrency,hideZeroBalanceTokens}=(0,selectors.Izy)(state),{lastFetchedConversionDate}=ownProps;return{warning,currentLocale,currentCurrency,nativeCurrency,useBlockie,useNativeCurrencyAsPrimaryCurrency,hideZeroBalanceTokens,lastFetchedConversionDate,selectedAddress,tokenList:(0,selectors.HJ)(state),theme:(0,selectors.ghV)(state)}}),(dispatch=>({setCurrentCurrency:currency=>dispatch((0,actions.Mo4)(currency)),setUseBlockie:value=>dispatch((0,actions.N88)(value)),updateCurrentLocale:key=>dispatch((0,actions.l7G)(key)),setUseNativeCurrencyAsPrimaryCurrencyPreference:value=>dispatch((0,actions.uLJ)(value)),setParticipateInMetaMetrics:val=>dispatch((0,actions.EyC)(val)),setHideZeroBalanceTokens:value=>dispatch((0,actions.P2E)(value)),setTheme:val=>dispatch((0,actions.Dc5)(val))})))(SettingsTab);var alerts_tab=__webpack_require__("./ui/pages/settings/alerts-tab/alerts-tab.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),metamask_metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),constants_network=__webpack_require__("./shared/constants/network.ts"),networks_tab_constants=__webpack_require__("./ui/pages/settings/networks-tab/networks-tab.constants.js"),valid_url=__webpack_require__("./node_modules/valid-url/index.js"),valid_url_default=__webpack_require__.n(valid_url),loglevel=__webpack_require__("./node_modules/loglevel/lib/loglevel.js"),loglevel_default=__webpack_require__.n(loglevel),lodash=__webpack_require__("./node_modules/lodash/lodash.js");function isSafeChainId(chainId){return function isSafeInteger(value){return Number.isSafeInteger(value)}(chainId)&&chainId>0&&chainId<=constants_network.V$}var rpc_utils=__webpack_require__("./shared/modules/rpc.utils.js"),actionable_message=__webpack_require__("./ui/components/ui/actionable-message/index.js"),form_field=__webpack_require__("./ui/components/ui/form-field/index.js"),fetch_with_cache=__webpack_require__("./shared/lib/fetch-with-cache.js"),usePrevious=__webpack_require__("./ui/hooks/usePrevious.js"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts"),contexts_metametrics=__webpack_require__("./ui/contexts/metametrics.js"),i18n_helper=__webpack_require__("./ui/helpers/utils/i18n-helper.tsx");const getDisplayChainId=chainId=>chainId&&"string"==typeof chainId&&chainId.startsWith("0x")?parseInt(chainId,16).toString(10):chainId,isValidWhenAppended=url=>{const appendedRpc=`http://${url}`;return valid_url_default().isWebUri(appendedRpc)&&!url.match(/^https?:\/\/$/u)},NetworksForm=({addNewNetwork,restrictHeight,isCurrentRpcTarget,networksToRender,selectedNetwork,cancelCallback,submitCallback})=>{var _errors$networkName,_errors$rpcUrl,_warnings$chainId,_errors$chainId,_warnings$ticker,_errors$blockExplorer;const t=(0,useI18nContext.C)(),dispatch=(0,es.I0)(),{label,labelKey,viewOnly,rpcPrefs}=selectedNetwork,selectedNetworkName=label||labelKey&&t((0,i18n_helper.j)(labelKey)),[networkName,setNetworkName]=(0,react.useState)(selectedNetworkName||""),[rpcUrl,setRpcUrl]=(0,react.useState)((null==selectedNetwork?void 0:selectedNetwork.rpcUrl)||""),[chainId,setChainId]=(0,react.useState)((null==selectedNetwork?void 0:selectedNetwork.chainId)||""),[ticker,setTicker]=(0,react.useState)((null==selectedNetwork?void 0:selectedNetwork.ticker)||""),[blockExplorerUrl,setBlockExplorerUrl]=(0,react.useState)((null==selectedNetwork?void 0:selectedNetwork.blockExplorerUrl)||""),[errors,setErrors]=(0,react.useState)({}),[warnings,setWarnings]=(0,react.useState)({}),[isSubmitting,setIsSubmitting]=(0,react.useState)(!1),chainIdMatchesFeaturedRPC=constants_network.Jf.some((featuredRpc=>Number(featuredRpc.chainId)===Number(chainId))),[isEditing,setIsEditing]=(0,react.useState)(Boolean(addNewNetwork)),[previousNetwork,setPreviousNetwork]=(0,react.useState)(selectedNetwork),trackEvent=(0,react.useContext)(contexts_metametrics.Wd),resetForm=(0,react.useCallback)((()=>{setNetworkName(selectedNetworkName||""),setRpcUrl(selectedNetwork.rpcUrl),setChainId(getDisplayChainId(selectedNetwork.chainId)),setTicker(null==selectedNetwork?void 0:selectedNetwork.ticker),setBlockExplorerUrl(null==selectedNetwork?void 0:selectedNetwork.blockExplorerUrl),setErrors({}),setWarnings({}),setIsSubmitting(!1),setIsEditing(!1),setPreviousNetwork(selectedNetwork)}),[selectedNetwork,selectedNetworkName]),prevAddNewNetwork=(0,react.useRef)(),prevNetworkName=(0,react.useRef)(),prevChainId=(0,react.useRef)(),prevRpcUrl=(0,react.useRef)(),prevTicker=(0,react.useRef)(),prevBlockExplorerUrl=(0,react.useRef)();(0,react.useEffect)((()=>{!prevAddNewNetwork.current&&addNewNetwork?(setNetworkName(""),setRpcUrl(""),setChainId(""),setTicker(""),setBlockExplorerUrl(""),setErrors({}),setIsSubmitting(!1)):prevNetworkName.current===selectedNetworkName&&prevRpcUrl.current===selectedNetwork.rpcUrl&&prevChainId.current===selectedNetwork.chainId&&prevTicker.current===selectedNetwork.ticker&&prevBlockExplorerUrl.current===selectedNetwork.blockExplorerUrl||isEditing&&(0,lodash.isEqual)(selectedNetwork,previousNetwork)||resetForm(selectedNetwork)}),[selectedNetwork,selectedNetworkName,addNewNetwork,previousNetwork,resetForm,isEditing]),(0,react.useEffect)((()=>()=>{setNetworkName(""),setRpcUrl(""),setChainId(""),setTicker(""),setBlockExplorerUrl(""),setErrors({}),dispatch((0,actions.WcU)(""))}),[setNetworkName,setRpcUrl,setChainId,setTicker,setBlockExplorerUrl,setErrors,dispatch]);const validateBlockExplorerURL=(0,react.useCallback)((url=>{if(!valid_url_default().isWebUri(url)&&""!==url){let errorKey,errorMessage;return isValidWhenAppended(url)?(errorKey="urlErrorMsg",errorMessage=t("urlErrorMsg")):(errorKey="invalidBlockExplorerURL",errorMessage=t("invalidBlockExplorerURL")),{key:errorKey,msg:errorMessage}}return null}),[t]),validateChainId=(0,react.useCallback)((async(chainArg="")=>{const formChainId=chainArg.trim();let errorKey="",errorMessage="",warningKey="",warningMessage="",radix=10,hexChainId=formChainId;if(!hexChainId.startsWith("0x"))try{hexChainId=`0x${(0,conversion_utils.X0)(hexChainId)}`}catch(err){return{error:{key:"invalidHexNumber",msg:t("invalidHexNumber")}}}const[matchingChainId]=networksToRender.filter((e=>e.chainId===hexChainId&&e.rpcUrl!==rpcUrl));if(""===formChainId)return null;let endpointChainId,providerError;matchingChainId?(warningKey="chainIdExistsErrorMsg",warningMessage=t("chainIdExistsErrorMsg",[matchingChainId.label??matchingChainId.labelKey])):formChainId.startsWith("0x")?(radix=16,/^0x[0-9a-f]+$/iu.test(formChainId)?function isPrefixedFormattedHexString(value){return"string"==typeof value&&/^0x[1-9a-f]+[0-9a-f]*$/iu.test(value)}(formChainId)||(errorMessage=t("invalidHexNumberLeadingZeros")):(errorKey="invalidHexNumber",errorMessage=t("invalidHexNumber"))):/^[0-9]+$/u.test(formChainId)?formChainId.startsWith("0")?(errorKey="invalidNumberLeadingZeros",errorMessage=t("invalidNumberLeadingZeros")):isSafeChainId(parseInt(formChainId,radix))||(errorKey="invalidChainIdTooBig",errorMessage=t("invalidChainIdTooBig")):(errorKey="invalidNumber",errorMessage=t("invalidNumber"));try{endpointChainId=await(0,rpc_utils.v)(rpcUrl,"eth_chainId")}catch(err){loglevel_default().warn("Failed to fetch the chainId from the endpoint.",err),providerError=err}if(rpcUrl&&formChainId)if(providerError||"string"!=typeof endpointChainId)errorKey="failedToFetchChainId",errorMessage=t("failedToFetchChainId");else if(hexChainId!==endpointChainId){if(!formChainId.startsWith("0x"))try{endpointChainId=parseInt(endpointChainId,16).toString(10)}catch(err){loglevel_default().warn("Failed to convert endpoint chain ID to decimal",endpointChainId)}errorKey="endpointReturnedDifferentChainId",errorMessage=t("endpointReturnedDifferentChainId",[endpointChainId.length<=12?endpointChainId:`${endpointChainId.slice(0,9)}...`])}return errorKey?{error:{key:errorKey,msg:errorMessage}}:warningKey?{warning:{key:warningKey,msg:warningMessage}}:null}),[rpcUrl,networksToRender,t]),validateTickerSymbol=(0,react.useCallback)((async(formChainId,formTickerSymbol)=>{let warningKey,warningMessage,safeChainsList,providerError;if(!formChainId||!formTickerSymbol)return null;try{safeChainsList=await(0,fetch_with_cache.Z)("https://chainid.network/chains.json")||[]}catch(err){loglevel_default().warn("Failed to fetch the chainList from chainid.network",err),providerError=err}if(providerError)warningKey="failedToFetchTickerSymbolData",warningMessage=t("failedToFetchTickerSymbolData");else{var _safeChainsList;const matchedChain=null===(_safeChainsList=safeChainsList)||void 0===_safeChainsList?void 0:_safeChainsList.find((chain=>chain.chainId.toString()===formChainId));if(void 0===matchedChain)warningKey="failedToFetchTickerSymbolData",warningMessage=t("failedToFetchTickerSymbolData");else{var _matchedChain$nativeC;const returnedTickerSymbol=null===(_matchedChain$nativeC=matchedChain.nativeCurrency)||void 0===_matchedChain$nativeC?void 0:_matchedChain$nativeC.symbol;returnedTickerSymbol!==formTickerSymbol&&(warningKey="chainListReturnedDifferentTickerSymbol",warningMessage=t("chainListReturnedDifferentTickerSymbol",[formChainId,returnedTickerSymbol]))}}return warningKey?{key:warningKey,msg:warningMessage}:null}),[t]),validateRPCUrl=(0,react.useCallback)((url=>{const isValidUrl=valid_url_default().isWebUri(url),[{rpcUrl:matchingRPCUrl=null,label:matchingRPCLabel,labelKey:matchingRPCLabelKey}={}]=networksToRender.filter((e=>e.rpcUrl===url)),{rpcUrl:selectedNetworkRpcUrl}=selectedNetwork;if(!isValidUrl&&""!==url){let errorKey,errorMessage;return isValidWhenAppended(url)?(errorKey="urlErrorMsg",errorMessage=t("urlErrorMsg")):(errorKey="invalidRPC",errorMessage=t("invalidRPC")),{key:errorKey,msg:errorMessage}}return matchingRPCUrl&&matchingRPCUrl!==selectedNetworkRpcUrl?{key:"urlExistsErrorMsg",msg:t("urlExistsErrorMsg",[matchingRPCLabel??matchingRPCLabelKey])}:null}),[selectedNetwork,networksToRender,t]),previousRpcUrl=(0,usePrevious.D)(rpcUrl),previousChainId=(0,usePrevious.D)(chainId),previousTicker=(0,usePrevious.D)(ticker),previousBlockExplorerUrl=(0,usePrevious.D)(blockExplorerUrl);(0,react.useEffect)((()=>{viewOnly||previousRpcUrl===rpcUrl&&previousChainId===chainId&&previousTicker===ticker&&previousBlockExplorerUrl===blockExplorerUrl||async function validate(){const{error:chainIdError,warning:chainIdWarning}=await validateChainId(chainId)||{},tickerWarning=await validateTickerSymbol(chainId,ticker),blockExplorerError=validateBlockExplorerURL(blockExplorerUrl),rpcUrlError=validateRPCUrl(rpcUrl);setErrors({...errors,blockExplorerUrl:blockExplorerError,rpcUrl:rpcUrlError,chainId:chainIdError}),setWarnings({...warnings,chainId:chainIdWarning,ticker:tickerWarning})}()}),[errors,warnings,rpcUrl,chainId,ticker,blockExplorerUrl,viewOnly,label,previousRpcUrl,previousChainId,previousTicker,previousBlockExplorerUrl,validateBlockExplorerURL,validateChainId,validateTickerSymbol,validateRPCUrl]);const deletable=!isCurrentRpcTarget&&!viewOnly&&!addNewNetwork,stateUnchanged=(()=>{const chainIdIsUnchanged="string"==typeof selectedNetwork.chainId&&selectedNetwork.chainId.toLowerCase().startsWith("0x")&&chainId===getDisplayChainId(selectedNetwork.chainId);return rpcUrl===selectedNetwork.rpcUrl&&chainIdIsUnchanged&&ticker===selectedNetwork.ticker&&networkName===selectedNetworkName&&blockExplorerUrl===selectedNetwork.blockExplorerUrl})(),chainIdErrorOnFeaturedRpcDuringEdit=(null==selectedNetwork?void 0:selectedNetwork.rpcUrl)&&errors.chainId&&chainIdMatchesFeaturedRPC,isSubmitDisabled=Object.keys(errors).some((key=>{const error=errors[key];return("chainId"!==key||"chainIdExistsErrorMsg"!==(null==error?void 0:error.key))&&(null==error?void 0:error.key)&&(null==error?void 0:error.msg)}))||isSubmitting||stateUnchanged||chainIdErrorOnFeaturedRpcDuringEdit||!rpcUrl||!chainId||!ticker;return react.createElement("div",{className:classnames_default()({"networks-tab__network-form":!addNewNetwork,"networks-tab__add-network-form":addNewNetwork,"networks-tab__restrict-height":restrictHeight})},addNewNetwork?react.createElement(actionable_message.Z,{type:"warning",message:t("onlyAddTrustedNetworks"),iconFillColor:"var(--color-warning-default)",useIcon:!0,withRightButton:!0,className:"networks-tab__add-network-form__alert"}):null,react.createElement("div",{className:classnames_default()({"networks-tab__network-form-body":!addNewNetwork,"networks-tab__network-form-body__view-only":viewOnly,"networks-tab__add-network-form-body":addNewNetwork})},react.createElement(form_field.Z,{autoFocus:!0,error:(null===(_errors$networkName=errors.networkName)||void 0===_errors$networkName?void 0:_errors$networkName.msg)||"",onChange:value=>{setIsEditing(!0),setNetworkName(value)},titleText:t("networkName"),value:networkName,disabled:viewOnly}),react.createElement(form_field.Z,{error:(null===(_errors$rpcUrl=errors.rpcUrl)||void 0===_errors$rpcUrl?void 0:_errors$rpcUrl.msg)||"",onChange:value=>{setIsEditing(!0),setRpcUrl(value)},titleText:t("rpcUrl"),value:null!=rpcUrl&&rpcUrl.includes(`/v3/${constants_network.y4}`)?rpcUrl.replace(`/v3/${constants_network.y4}`,""):rpcUrl,disabled:viewOnly}),react.createElement(form_field.Z,{warning:(null===(_warnings$chainId=warnings.chainId)||void 0===_warnings$chainId?void 0:_warnings$chainId.msg)||"",error:(null===(_errors$chainId=errors.chainId)||void 0===_errors$chainId?void 0:_errors$chainId.msg)||"",onChange:value=>{setIsEditing(!0),setChainId(value)},titleText:t("chainId"),value:chainId,disabled:viewOnly,tooltipText:viewOnly?null:t("networkSettingsChainIdDescription")}),react.createElement(form_field.Z,{warning:(null===(_warnings$ticker=warnings.ticker)||void 0===_warnings$ticker?void 0:_warnings$ticker.msg)||"",onChange:value=>{setIsEditing(!0),setTicker(value)},titleText:t("currencySymbol"),value:ticker,disabled:viewOnly}),react.createElement(form_field.Z,{error:(null===(_errors$blockExplorer=errors.blockExplorerUrl)||void 0===_errors$blockExplorer?void 0:_errors$blockExplorer.msg)||"",onChange:value=>{setIsEditing(!0),setBlockExplorerUrl(value)},titleText:t("blockExplorerUrl"),titleUnit:t("optionalWithParanthesis"),value:blockExplorerUrl,disabled:viewOnly,autoFocus:"blockExplorerUrl"===window.location.hash.split("#")[2]})),react.createElement("div",{className:classnames_default()({"networks-tab__network-form-footer":!addNewNetwork,"networks-tab__add-network-form-footer":addNewNetwork})},!viewOnly&&react.createElement(react.Fragment,null,deletable&&react.createElement(ui_button.Z,{type:"danger",onClick:()=>{dispatch((0,actions.K4b)({name:"CONFIRM_DELETE_NETWORK",target:selectedNetwork.networkConfigurationId,onConfirm:()=>{resetForm(),dispatch((0,actions.WcU)(""))}}))}},t("delete")),react.createElement(ui_button.Z,{type:"secondary",onClick:()=>{addNewNetwork?(dispatch((0,actions.WcU)("")),null==cancelCallback||cancelCallback()):resetForm()},disabled:stateUnchanged},t("cancel")),react.createElement(ui_button.Z,{type:"primary",disabled:isSubmitDisabled,onClick:async()=>{setIsSubmitting(!0);try{const prefixedChainId=(chainId=>{let prefixedChainId=chainId;return chainId.startsWith("0x")||(prefixedChainId=`0x${parseInt(chainId,10).toString(16)}`),prefixedChainId})(chainId.trim().toLowerCase());let networkConfigurationId;selectedNetwork.rpcUrl&&rpcUrl!==selectedNetwork.rpcUrl?await dispatch((0,actions._7H)({rpcUrl,ticker,networkConfigurationId:selectedNetwork.networkConfigurationId,chainId:prefixedChainId,nickname:networkName,rpcPrefs:{...rpcPrefs,blockExplorerUrl:blockExplorerUrl||(null==rpcPrefs?void 0:rpcPrefs.blockExplorerUrl)}},{source:metametrics.uU.CustomNetworkForm})):networkConfigurationId=await dispatch((0,actions.EY2)({rpcUrl,ticker,chainId:prefixedChainId,nickname:networkName,rpcPrefs:{...rpcPrefs,blockExplorerUrl:blockExplorerUrl||(null==rpcPrefs?void 0:rpcPrefs.blockExplorerUrl)}},{setActive:!0,source:metametrics.uU.CustomNetworkForm})),addNewNetwork&&(dispatch((0,actions.$SI)({nickname:networkName,networkConfigurationId})),trackEvent({event:metametrics.AW.CustomNetworkAdded,category:metametrics.ci.Network,properties:{block_explorer_url:blockExplorerUrl,chain_id:prefixedChainId,network_name:networkName,source_connection_method:metametrics.uU.CustomNetworkForm,token_symbol:ticker}}),null==submitCallback||submitCallback())}catch(error){throw setIsSubmitting(!1),error}}},t("save")))))};NetworksForm.propTypes={addNewNetwork:prop_types_default().bool,isCurrentRpcTarget:prop_types_default().bool,networksToRender:prop_types_default().array.isRequired,selectedNetwork:prop_types_default().object,cancelCallback:prop_types_default().func,submitCallback:prop_types_default().func,restrictHeight:prop_types_default().bool},NetworksForm.defaultProps={selectedNetwork:{}},NetworksForm.__docgenInfo={description:"",methods:[],displayName:"NetworksForm",props:{selectedNetwork:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},addNewNetwork:{description:"",type:{name:"bool"},required:!1},isCurrentRpcTarget:{description:"",type:{name:"bool"},required:!1},networksToRender:{description:"",type:{name:"array"},required:!0},cancelCallback:{description:"",type:{name:"func"},required:!1},submitCallback:{description:"",type:{name:"func"},required:!1},restrictHeight:{description:"",type:{name:"bool"},required:!1}}};const networks_form=NetworksForm;var networks_list=__webpack_require__("./ui/pages/settings/networks-tab/networks-list/networks-list.js");const NetworksTabContent=({networkDefaultedToProvider,networkIsSelected,networksToRender,selectedNetwork,shouldRenderNetworkForm})=>{const providerConfig=(0,es.v9)(metamask_metamask.Vu),history=(0,react_router.k6)();return react.createElement(react.Fragment,null,react.createElement(networks_list.Z,{networkDefaultedToProvider,networkIsSelected,networksToRender,selectedNetworkConfigurationId:selectedNetwork.networkConfigurationId}),shouldRenderNetworkForm?react.createElement(networks_form,{isCurrentRpcTarget:providerConfig.rpcUrl===selectedNetwork.rpcUrl,networksToRender,selectedNetwork,submitCallback:()=>history.push(routes.QO),cancelCallback:()=>history.push(routes.Mx)}):null)};NetworksTabContent.propTypes={networkDefaultedToProvider:prop_types_default().bool,networkIsSelected:prop_types_default().bool,networksToRender:prop_types_default().arrayOf(prop_types_default().object).isRequired,selectedNetwork:prop_types_default().object,shouldRenderNetworkForm:prop_types_default().bool.isRequired},NetworksTabContent.__docgenInfo={description:"",methods:[],displayName:"NetworksTabContent",props:{networkDefaultedToProvider:{description:"",type:{name:"bool"},required:!1},networkIsSelected:{description:"",type:{name:"bool"},required:!1},networksToRender:{description:"",type:{name:"arrayOf",value:{name:"object"}},required:!0},selectedNetwork:{description:"",type:{name:"object"},required:!1},shouldRenderNetworkForm:{description:"",type:{name:"bool"},required:!0}}};const networks_tab_content=NetworksTabContent,NetworksFormSubheader=({addNewNetwork})=>{const t=(0,useI18nContext.C)(),history=(0,react_router.k6)();return addNewNetwork?react.createElement("div",{className:"networks-tab__subheader"},react.createElement("span",{className:"networks-tab__sub-header-text"},t("networks")),react.createElement("span",{className:"networks-tab__sub-header-text"},"  >  "),react.createElement("div",{className:"networks-tab__sub-header-text"},t("addANetwork")),react.createElement("span",null,"  >  "),react.createElement("div",{className:"networks-tab__subheader--break"},t("addANetworkManually"))):react.createElement("div",{className:"settings-page__sub-header"},react.createElement("span",{className:"settings-page__sub-header-text"},t("networks")),react.createElement("div",{className:"networks-tab__add-network-header-button-wrapper"},react.createElement(ui_button.Z,{type:"primary",onClick:event=>{event.preventDefault(),history.push(routes.tY)}},t("addANetwork"))))};NetworksFormSubheader.propTypes={addNewNetwork:prop_types_default().bool.isRequired},NetworksFormSubheader.__docgenInfo={description:"",methods:[],displayName:"NetworksFormSubheader",props:{addNewNetwork:{description:"",type:{name:"bool"},required:!0}}};const networks_tab_subheader=NetworksFormSubheader,defaultNetworks=networks_tab_constants.N.map((network=>({...network,viewOnly:!0,isATestNetwork:constants_network.mT.includes(network.chainId)}))),NetworksTab=({addNewNetwork})=>{const t=(0,useI18nContext.C)(),dispatch=(0,es.I0)(),{pathname}=(0,react_router.TH)(),history=(0,react_router.k6)(),isFullScreen=(0,util.kD)()===app.BK,shouldRenderNetworkForm=isFullScreen||Boolean(pathname.match(routes.s9))||"blockExplorerUrl"===window.location.hash.split("#")[2],networkConfigurations=(0,es.v9)(selectors.IrK),providerConfig=(0,es.v9)(metamask_metamask.Vu),networksTabSelectedNetworkConfigurationId=(0,es.v9)(selectors.P8N),isLineaMainnetReleased=(0,es.v9)(metamask_metamask.Wy),networkConfigurationsList=Object.entries(networkConfigurations).map((([networkConfigurationId,networkConfiguration])=>{var _networkConfiguration;return{label:networkConfiguration.nickname,iconColor:"var(--color-icon-alternative)",providerType:constants_network.Qv.RPC,rpcUrl:networkConfiguration.rpcUrl,chainId:networkConfiguration.chainId,ticker:networkConfiguration.ticker,blockExplorerUrl:(null===(_networkConfiguration=networkConfiguration.rpcPrefs)||void 0===_networkConfiguration?void 0:_networkConfiguration.blockExplorerUrl)||"",isATestNetwork:constants_network.mT.includes(networkConfiguration.chainId),networkConfigurationId}}));let networksToRender=[...defaultNetworks,...networkConfigurationsList];isLineaMainnetReleased||(networksToRender=networksToRender.filter((network=>network.chainId!==constants_network.Jl[constants_network.Qv.LINEA_MAINNET].chainId)));let selectedNetwork=networksToRender.find((network=>network.networkConfigurationId===networksTabSelectedNetworkConfigurationId))||{};const networkIsSelected=Boolean(selectedNetwork.rpcUrl);let networkDefaultedToProvider=!1;return networkIsSelected||(selectedNetwork=networksToRender.find((network=>network.rpcUrl===providerConfig.rpcUrl||network.providerType!==constants_network.Qv.RPC&&network.providerType===providerConfig.type))||{},networkDefaultedToProvider=!0),(0,react.useEffect)((()=>()=>{dispatch((0,actions.WcU)(""))}),[dispatch]),react.createElement("div",{className:"networks-tab__body"},isFullScreen?react.createElement(networks_tab_subheader,{addNewNetwork}):null,react.createElement("div",{className:classnames_default()("networks-tab__content",{"networks-tab__content--with-networks-list-popup-footer":!isFullScreen&&!shouldRenderNetworkForm})},addNewNetwork?react.createElement(networks_form,{networksToRender,addNewNetwork,submitCallback:()=>history.push(routes.QO),cancelCallback:()=>history.push(routes.Mx)}):react.createElement(react.Fragment,null,react.createElement(networks_tab_content,{networkDefaultedToProvider,networkIsSelected,networksToRender,providerUrl:providerConfig.rpcUrl,selectedNetwork,shouldRenderNetworkForm}),isFullScreen||shouldRenderNetworkForm?null:react.createElement("div",{className:"networks-tab__networks-list-popup-footer"},react.createElement(ui_button.Z,{type:"primary",onClick:()=>{isFullScreen?history.push(routes.tY):__webpack_require__.g.platform.openExtensionInBrowser(routes.tY)}},t("addNetwork"))))))};NetworksTab.propTypes={addNewNetwork:prop_types_default().bool},NetworksTab.__docgenInfo={description:"",methods:[],displayName:"NetworksTab",props:{addNewNetwork:{description:"",type:{name:"bool"},required:!1}}};const networks_tab=NetworksTab;var redux=__webpack_require__("./node_modules/redux/es/redux.js"),advanced_tab_component=__webpack_require__("./ui/pages/settings/advanced-tab/advanced-tab.component.js");const advanced_tab_container=(0,redux.compose)(react_router.EN,(0,es.$j)((state=>{const{appState:{warning},metamask}=state,{featureFlags:{sendHexData}={},disabledRpcMethodPreferences,useNonceField,ledgerTransportType,dismissSeedBackUpReminder,desktopEnabled}=metamask,{showFiatInTestnets,showTestNetworks,autoLockTimeLimit=preferences.$}=(0,selectors.Izy)(state);return{warning,sendHexData,showFiatInTestnets,showTestNetworks,autoLockTimeLimit,useNonceField,ledgerTransportType,dismissSeedBackUpReminder,userHasALedgerAccount:(0,metamask_metamask.O7)(state),disabledRpcMethodPreferences,desktopEnabled}}),(dispatch=>({backupUserData:()=>(0,actions.$Aj)(),restoreUserData:jsonString=>(0,actions.hRp)(jsonString),setHexDataFeatureFlag:shouldShow=>dispatch((0,actions.Mgy)("sendHexData",shouldShow)),displayWarning:warning=>dispatch((0,actions.eaQ)(warning)),showResetAccountConfirmationModal:()=>dispatch((0,actions.K4b)({name:"CONFIRM_RESET_ACCOUNT"})),showEthSignModal:()=>dispatch((0,actions.K4b)({name:"ETH_SIGN"})),setUseNonceField:value=>dispatch((0,actions.txr)(value)),setShowFiatConversionOnTestnetsPreference:value=>dispatch((0,actions.KKW)(value)),setShowTestNetworks:value=>dispatch((0,actions.vVW)(value)),setAutoLockTimeLimit:value=>dispatch((0,actions.Oh$)(value)),setLedgerTransportPreference:value=>dispatch((0,actions.lKl)(value)),setDismissSeedBackUpReminder:value=>dispatch((0,actions.S$j)(value)),setDisabledRpcMethodPreference:(methodName,isEnabled)=>dispatch((0,actions.urF)(methodName,isEnabled))}))))(advanced_tab_component.Z);var info_tab=__webpack_require__("./ui/pages/settings/info-tab/index.js"),ui_utils=__webpack_require__("./shared/lib/ui-utils.js"),SRPQuiz=__webpack_require__("./ui/components/app/srp-quiz-modal/SRPQuiz/index.ts"),component_library_button=__webpack_require__("./ui/components/component-library/button/index.js"),text_field=__webpack_require__("./ui/components/ui/text-field/index.js");function security_tab_component_defineProperty(obj,key,value){return(key=function security_tab_component_toPropertyKey(arg){var key=function security_tab_component_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SecurityTab extends react.PureComponent{constructor(...args){super(...args),security_tab_component_defineProperty(this,"state",{ipfsGateway:this.props.ipfsGateway,ipfsGatewayError:"",srpQuizModalVisible:!1}),security_tab_component_defineProperty(this,"settingsRefCounter",0),security_tab_component_defineProperty(this,"settingsRefs",Array((0,settings_search.Oc)(this.context.t,this.context.t("securityAndPrivacy"))).fill(void 0).map((()=>react.createRef()))),security_tab_component_defineProperty(this,"hideSrpQuizModal",(()=>this.setState({srpQuizModalVisible:!1})))}componentDidUpdate(){const{t}=this.context;(0,settings_search.n4)(t,t("securityAndPrivacy"),this.settingsRefs)}componentDidMount(){const{t}=this.context;(0,settings_search.n4)(t,t("securityAndPrivacy"),this.settingsRefs)}toggleSetting(value,eventName,eventAction,toggleMethod){this.context.trackEvent({category:metametrics.ci.Settings,event:eventName,properties:{action:eventAction,legacy_event:!0}}),toggleMethod(!value)}renderSeedWords(){const{t}=this.context;return react.createElement(react.Fragment,null,react.createElement("div",{className:"settings-page__security-tab-sub-header"},t("secretRecoveryPhrase")),react.createElement("div",{className:"settings-page__content-padded"},react.createElement(component_library_button.zx,{"data-testid":"reveal-seed-words",type:"danger",size:component_library_button.Gt.LG,onClick:event=>{event.preventDefault(),this.context.trackEvent({category:metametrics.ci.Settings,event:metametrics.AW.KeyExportSelected,properties:{key_type:metametrics.Dv.Srp,location:"Settings"}}),this.context.trackEvent({category:metametrics.ci.Settings,event:metametrics.AW.SrpRevealClicked,properties:{key_type:metametrics.Dv.Srp,location:"Settings"}}),this.setState({srpQuizModalVisible:!0})}},t("revealSeedWords")),this.state.srpQuizModalVisible&&react.createElement(SRPQuiz.Z,{isOpen:this.state.srpQuizModalVisible,onClose:this.hideSrpQuizModal})))}renderIncomingTransactionsOptIn(){const{t}=this.context,{showIncomingTransactions,setShowIncomingTransactionsFeatureFlag}=this.props;return react.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("showIncomingTransactions")),react.createElement("div",{className:"settings-page__content-description"},t("showIncomingTransactionsDescription",[react.createElement("a",{href:ui_utils.TH,target:"_blank",rel:"noopener noreferrer",key:"etherscan-privacy-link"},t("etherscan")),react.createElement("a",{href:ui_utils.YM,target:"_blank",rel:"noopener noreferrer",key:"ic-consensys-privacy-link"},t("privacyMsg"))]))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col","data-testid":"showIncomingTransactions"},react.createElement(toggle_button.Z,{value:showIncomingTransactions,onToggle:value=>setShowIncomingTransactionsFeatureFlag(!value),offLabel:t("off"),onLabel:t("on")}))))}renderPhishingDetectionToggle(){const{t}=this.context,{usePhishDetect,setUsePhishDetect}=this.props;return react.createElement("div",{ref:this.settingsRefs[2],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("usePhishingDetection")),react.createElement("div",{className:"settings-page__content-description"},t("usePhishingDetectionDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col","data-testid":"usePhishingDetection"},react.createElement(toggle_button.Z,{value:usePhishDetect,onToggle:value=>setUsePhishDetect(!value),offLabel:t("off"),onLabel:t("on")}))))}renderMetaMetricsOptIn(){const{t}=this.context,{participateInMetaMetrics,setParticipateInMetaMetrics}=this.props;return react.createElement("div",{ref:this.settingsRefs[3],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("participateInMetaMetrics")),react.createElement("div",{className:"settings-page__content-description"},react.createElement("span",null,t("participateInMetaMetricsDescription")))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col","data-testid":"participateInMetaMetrics"},react.createElement(toggle_button.Z,{value:participateInMetaMetrics,onToggle:value=>setParticipateInMetaMetrics(!value),offLabel:t("off"),onLabel:t("on")}))))}renderChooseYourNetworkButton(){const{t}=this.context;return react.createElement("div",{ref:this.settingsRefs[5],className:"settings-page__content-row","data-testid":"advanced-setting-choose-your-network"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("chooseYourNetwork")),react.createElement("div",{className:"settings-page__content-description"},t("chooseYourNetworkDescription",[react.createElement("a",{href:ui_utils.YM,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},t("privacyMsg"))]))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(component_library_button.zx,{type:"secondary",className:"settings-page__button",onClick:()=>{(0,util.kD)()===app.bE?__webpack_require__.g.platform.openExtensionInBrowser(routes.tY):this.props.history.push(routes.tY)}},t("addCustomNetwork")))))}renderIpfsGatewayControl(){const{t}=this.context,{ipfsGatewayError}=this.state,handleIpfsGatewaySave=gateway=>{const url=new URL((0,util.Dc)(gateway)),{host}=url;this.props.setIpfsGateway(host)},handleIpfsGatewayChange=url=>{this.setState((()=>{let ipfsError="";try{const urlObj=new URL((0,util.Dc)(url));if(!urlObj.host)throw new Error;if("gateway.ipfs.io"===urlObj.host)throw new Error("Forbidden gateway")}catch(error){ipfsError="Forbidden gateway"===error.message?t("forbiddenIpfsGateway"):t("invalidIpfsGateway")}return handleIpfsGatewaySave(url),{ipfsGateway:url,ipfsGatewayError:ipfsError}}))};return react.createElement("div",{ref:this.settingsRefs[6],className:"settings-page__content-row","data-testid":"setting-ipfs-gateway"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("addCustomIPFSGateway")),react.createElement("div",{className:"settings-page__content-description"},t("addCustomIPFSGatewayDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(text_field.Z,{type:"text",value:this.state.ipfsGateway,onChange:e=>handleIpfsGatewayChange(e.target.value),error:ipfsGatewayError,fullWidth:!0,margin:"dense"}))))}renderAutoDetectTokensToggle(){const{t}=this.context,{useTokenDetection,setUseTokenDetection}=this.props;return react.createElement("div",{ref:this.settingsRefs[4],className:"settings-page__content-row","data-testid":"advanced-setting-gas-fee-estimation"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("autoDetectTokens")),react.createElement("div",{className:"settings-page__content-description"},t("autoDetectTokensDescription",[react.createElement("a",{href:ui_utils.jJ,target:"_blank",rel:"noopener noreferrer",key:"cyn-consensys-privacy-link"},(0,lodash.startCase)(t("learnMore")))]))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col","data-testid":"autoDetectTokens"},react.createElement(toggle_button.Z,{value:useTokenDetection,onToggle:value=>{this.toggleSetting(value,metametrics.AW.KeyAutoDetectTokens,metametrics.AW.KeyAutoDetectTokens,setUseTokenDetection)},offLabel:t("off"),onLabel:t("on")}))))}renderBatchAccountBalanceRequestsToggle(){const{t}=this.context,{useMultiAccountBalanceChecker,setUseMultiAccountBalanceChecker}=this.props;return react.createElement("div",{ref:this.settingsRefs[8],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("useMultiAccountBalanceChecker")),react.createElement("div",{className:"settings-page__content-description"},t("useMultiAccountBalanceCheckerDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col","data-testid":"useMultiAccountBalanceChecker"},react.createElement(toggle_button.Z,{value:useMultiAccountBalanceChecker,onToggle:value=>{this.toggleSetting(value,metametrics.AW.KeyBatchAccountBalanceRequests,metametrics.AW.KeyBatchAccountBalanceRequests,setUseMultiAccountBalanceChecker)},offLabel:t("off"),onLabel:t("on")}))))}renderCurrencyRateCheckToggle(){const{t}=this.context,{useCurrencyRateCheck,setUseCurrencyRateCheck}=this.props;return react.createElement("div",{ref:this.settingsRefs[9],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("currencyRateCheckToggle")),react.createElement("div",{className:"settings-page__content-description"},t("currencyRateCheckToggleDescription",[react.createElement("a",{key:"coingecko_link",href:ui_utils.QL,rel:"noreferrer",target:"_blank"},t("coingecko")),react.createElement("a",{key:"cryptocompare_link",href:ui_utils.oq,rel:"noreferrer",target:"_blank"},t("cryptoCompare")),react.createElement("a",{key:"privacy_policy_link",href:ui_utils.jb,rel:"noreferrer",target:"_blank"},t("privacyMsg"))]))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col","data-testid":"currencyRateCheckToggle"},react.createElement(toggle_button.Z,{value:useCurrencyRateCheck,onToggle:value=>setUseCurrencyRateCheck(!value),offLabel:t("off"),onLabel:t("on")}))))}render(){const{warning}=this.props;return react.createElement("div",{className:"settings-page__body"},warning&&react.createElement("div",{className:"settings-tab__error"},warning),react.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("security")),this.renderSeedWords(),react.createElement("span",{className:"settings-page__security-tab-sub-header__bold"},this.context.t("privacy")),react.createElement("div",null,react.createElement("span",{className:"settings-page__security-tab-sub-header"},"Alerts")),react.createElement("div",{className:"settings-page__content-padded"},this.renderPhishingDetectionToggle()),react.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("transactions")),react.createElement("div",{className:"settings-page__content-padded"},this.renderCurrencyRateCheckToggle(),this.renderIncomingTransactionsOptIn()),react.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("networkProvider")),react.createElement("div",{className:"settings-page__content-padded"},this.renderChooseYourNetworkButton(),this.renderIpfsGatewayControl()),react.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("tokenAutoDetection")),react.createElement("div",{className:"settings-page__content-padded"},this.renderAutoDetectTokensToggle(),this.renderBatchAccountBalanceRequestsToggle()),react.createElement("span",{className:"settings-page__security-tab-sub-header"},this.context.t("metrics")),react.createElement("div",{className:"settings-page__content-padded"},this.renderMetaMetricsOptIn()))}}security_tab_component_defineProperty(SecurityTab,"contextTypes",{t:prop_types_default().func,trackEvent:prop_types_default().func}),security_tab_component_defineProperty(SecurityTab,"propTypes",{warning:prop_types_default().string,history:prop_types_default().object,participateInMetaMetrics:prop_types_default().bool.isRequired,setParticipateInMetaMetrics:prop_types_default().func.isRequired,showIncomingTransactions:prop_types_default().bool.isRequired,setShowIncomingTransactionsFeatureFlag:prop_types_default().func.isRequired,setUsePhishDetect:prop_types_default().func.isRequired,usePhishDetect:prop_types_default().bool.isRequired,useTokenDetection:prop_types_default().bool.isRequired,setUseTokenDetection:prop_types_default().func.isRequired,setIpfsGateway:prop_types_default().func.isRequired,ipfsGateway:prop_types_default().string.isRequired,useMultiAccountBalanceChecker:prop_types_default().bool.isRequired,setUseMultiAccountBalanceChecker:prop_types_default().func.isRequired,useCurrencyRateCheck:prop_types_default().bool.isRequired,setUseCurrencyRateCheck:prop_types_default().func.isRequired}),SecurityTab.__docgenInfo={description:"",methods:[{name:"toggleSetting",docblock:null,modifiers:[],params:[{name:"value",type:null},{name:"eventName",type:null},{name:"eventAction",type:null},{name:"toggleMethod",type:null}],returns:null},{name:"hideSrpQuizModal",docblock:null,modifiers:[],params:[],returns:null},{name:"renderSeedWords",docblock:null,modifiers:[],params:[],returns:null},{name:"renderIncomingTransactionsOptIn",docblock:null,modifiers:[],params:[],returns:null},{name:"renderPhishingDetectionToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"renderMetaMetricsOptIn",docblock:null,modifiers:[],params:[],returns:null},{name:"renderChooseYourNetworkButton",docblock:null,modifiers:[],params:[],returns:null},{name:"renderIpfsGatewayControl",docblock:null,modifiers:[],params:[],returns:null},{name:"renderAutoDetectTokensToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBatchAccountBalanceRequestsToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"renderCurrencyRateCheckToggle",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SecurityTab",props:{warning:{description:"",type:{name:"string"},required:!1},history:{description:"",type:{name:"object"},required:!1},participateInMetaMetrics:{description:"",type:{name:"bool"},required:!0},setParticipateInMetaMetrics:{description:"",type:{name:"func"},required:!0},showIncomingTransactions:{description:"",type:{name:"bool"},required:!0},setShowIncomingTransactionsFeatureFlag:{description:"",type:{name:"func"},required:!0},setUsePhishDetect:{description:"",type:{name:"func"},required:!0},usePhishDetect:{description:"",type:{name:"bool"},required:!0},useTokenDetection:{description:"",type:{name:"bool"},required:!0},setUseTokenDetection:{description:"",type:{name:"func"},required:!0},setIpfsGateway:{description:"",type:{name:"func"},required:!0},ipfsGateway:{description:"",type:{name:"string"},required:!0},useMultiAccountBalanceChecker:{description:"",type:{name:"bool"},required:!0},setUseMultiAccountBalanceChecker:{description:"",type:{name:"func"},required:!0},useCurrencyRateCheck:{description:"",type:{name:"bool"},required:!0},setUseCurrencyRateCheck:{description:"",type:{name:"func"},required:!0}},context:{t:{type:{name:"func"},required:!1},trackEvent:{type:{name:"func"},required:!1}}};const security_tab_container=(0,redux.compose)(react_router.EN,(0,es.$j)((state=>{const{appState:{warning},metamask}=state,{featureFlags:{showIncomingTransactions}={},participateInMetaMetrics,usePhishDetect,useTokenDetection,ipfsGateway,useMultiAccountBalanceChecker,useCurrencyRateCheck}=metamask;return{warning,showIncomingTransactions,participateInMetaMetrics,usePhishDetect,useTokenDetection,ipfsGateway,useMultiAccountBalanceChecker,useCurrencyRateCheck}}),(dispatch=>({setParticipateInMetaMetrics:val=>dispatch((0,actions.EyC)(val)),setShowIncomingTransactionsFeatureFlag:shouldShow=>dispatch((0,actions.Mgy)("showIncomingTransactions",shouldShow)),setUsePhishDetect:val=>dispatch((0,actions.Lbh)(val)),setUseCurrencyRateCheck:val=>dispatch((0,actions.UCN)(val)),setUseTokenDetection:value=>dispatch((0,actions.gQy)(value)),setIpfsGateway:value=>dispatch((0,actions.Cak)(value)),setUseMultiAccountBalanceChecker:value=>dispatch((0,actions.yZ0)(value))}))))(SecurityTab);var contact_list_tab_component=__webpack_require__("./ui/pages/settings/contact-list-tab/contact-list-tab.component.js");const contact_list_tab_container=(0,redux.compose)(react_router.EN,(0,es.$j)(((state,ownProps)=>{const{location}=ownProps,{pathname}=location,pathNameTail=pathname.match(/[^/]+$/u)[0],pathNameTailIsAddress=pathNameTail.includes("0x"),viewingContact=Boolean(pathname.match(routes.T$)),editingContact=Boolean(pathname.match(routes.lH)),addingContact=Boolean(pathname.match(routes.tT)),hideAddressBook=viewingContact||editingContact||addingContact;return{viewingContact,editingContact,addingContact,addressBook:(0,selectors.vZs)(state),selectedAddress:pathNameTailIsAddress?pathNameTail:"",hideAddressBook,currentPath:pathname}})))(contact_list_tab_component.Z);var typography=__webpack_require__("./ui/components/ui/typography/typography.js"),webextension_polyfill=__webpack_require__("./ui/__mocks__/webextension-polyfill.js"),webextension_polyfill_default=__webpack_require__.n(webextension_polyfill),types=__webpack_require__("./node_modules/@metamask/desktop/dist/types/index.js"),i18n=__webpack_require__("./ui/contexts/i18n.js");const EXTENSION_ERROR_PAGE_TYPES_NOT_FOUND="not-found",EXTENSION_ERROR_PAGE_TYPES_DESKTOP_OUTDATED="desktop-outdated",EXTENSION_ERROR_PAGE_TYPES_EXTENSION_OUTDATED="extension-outdated",EXTENSION_ERROR_PAGE_TYPES_PAIRING_KEY_NOT_MATCH="pairing-key-not-match";var time=__webpack_require__("./shared/constants/time.ts"),process=__webpack_require__("./node_modules/process/browser.js");const DESKTOP_ERROR_DESKTOP_OUTDATED_ROUTE=`${routes.Nm}/${EXTENSION_ERROR_PAGE_TYPES_DESKTOP_OUTDATED}`,DESKTOP_ERROR_EXTENSION_OUTDATED_ROUTE=`${routes.Nm}/${EXTENSION_ERROR_PAGE_TYPES_EXTENSION_OUTDATED}`,DESKTOP_ERROR_NOT_FOUND_ROUTE=`${routes.Nm}/${EXTENSION_ERROR_PAGE_TYPES_NOT_FOUND}`,DESKTOP_ERROR_PAIRING_KEY_NOT_MATCH_ROUTE=`${routes.Nm}/${EXTENSION_ERROR_PAGE_TYPES_PAIRING_KEY_NOT_MATCH}`,SKIP_PAIRING_RESTART_DELAY=2*time.sh;function DesktopEnableButton(){const t=(0,react.useContext)(i18n.OO),dispatch=(0,es.I0)(),history=(0,react_router.k6)(),trackEvent=(0,react.useContext)(contexts_metametrics.Wd),showLoader=()=>dispatch((0,actions.Nbs)()),desktopEnabled=(0,es.v9)(selectors.UAV),setDesktopEnabled=val=>dispatch((0,actions.SHp)(val)),onClick=async()=>{var _testResult$versionCh,_testResult$versionCh2;if(desktopEnabled)return await(0,actions.x9r)(),setDesktopEnabled(!1),void trackEvent({category:metametrics.ci.Desktop,event:"Settings Updated",properties:{desktop_enabled:!1}});showLoader();const testResult=await(0,actions.UKZ)();if(dispatch((0,actions.awJ)()),[types.PairingKeyStatus.NO_MATCH].includes(testResult.pairingKeyCheck))history.push(DESKTOP_ERROR_PAIRING_KEY_NOT_MATCH_ROUTE);else if(testResult.isConnected)if(null!==(_testResult$versionCh=testResult.versionCheck)&&void 0!==_testResult$versionCh&&_testResult$versionCh.isExtensionVersionValid)if(null!==(_testResult$versionCh2=testResult.versionCheck)&&void 0!==_testResult$versionCh2&&_testResult$versionCh2.isDesktopVersionValid){if(process.env.SKIP_OTP_PAIRING_FLOW)return showLoader(),setDesktopEnabled(!0),void setTimeout((()=>{dispatch(webextension_polyfill_default().runtime.reload())}),SKIP_PAIRING_RESTART_DELAY);trackEvent({category:metametrics.ci.Desktop,event:"Desktop Button Clicked",properties:{button_action:"Enable MetaMask Desktop"}}),history.push(routes.JA)}else history.push(DESKTOP_ERROR_DESKTOP_OUTDATED_ROUTE);else history.push(DESKTOP_ERROR_EXTENSION_OUTDATED_ROUTE);else history.push(DESKTOP_ERROR_NOT_FOUND_ROUTE)};return react.createElement(ui_button.Z,{type:"primary",large:!0,onClick:event=>{event.preventDefault(),onClick()}},t(desktopEnabled?"desktopDisableButton":"desktopEnableButton"))}function experimental_tab_component_defineProperty(obj,key,value){return(key=function experimental_tab_component_toPropertyKey(arg){var key=function experimental_tab_component_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}DesktopEnableButton.__docgenInfo={description:"",methods:[],displayName:"DesktopEnableButton"};class ExperimentalTab extends react.PureComponent{constructor(...args){super(...args),experimental_tab_component_defineProperty(this,"settingsRefs",Array((0,settings_search.Oc)(this.context.t,this.context.t("experimental"))).fill(void 0).map((()=>react.createRef())))}componentDidUpdate(){const{t}=this.context;(0,settings_search.n4)(t,t("experimental"),this.settingsRefs)}componentDidMount(){const{t}=this.context;(0,settings_search.n4)(t,t("experimental"),this.settingsRefs)}renderOpenSeaEnabledToggle(){const{t}=this.context,{openSeaEnabled,setOpenSeaEnabled,useNftDetection,setUseNftDetection}=this.props;return react.createElement(react.Fragment,null,react.createElement("div",{ref:this.settingsRefs[0],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("enableOpenSeaAPI")),react.createElement("div",{className:"settings-page__content-description"},t("enableOpenSeaAPIDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(toggle_button.Z,{value:openSeaEnabled,onToggle:value=>{this.context.trackEvent({category:metametrics.ci.Settings,event:"Enabled/Disable OpenSea",properties:{action:"Enabled/Disable OpenSea",legacy_event:!0}}),value&&useNftDetection&&setUseNftDetection(!1),setOpenSeaEnabled(!value)},offLabel:t("off"),onLabel:t("on")})))),react.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("useNftDetection")),react.createElement("div",{className:"settings-page__content-description"},react.createElement(component_library.xv,{color:design_system.d9.textAlternative},t("useNftDetectionDescription")),react.createElement("ul",{className:"settings-page__content-unordered-list"},react.createElement("li",null,t("useNftDetectionDescriptionLine2")),react.createElement("li",null,t("useNftDetectionDescriptionLine3")),react.createElement("li",null,t("useNftDetectionDescriptionLine4"))),react.createElement(component_library.xv,{color:design_system.d9.textAlternative,paddingTop:4},t("useNftDetectionDescriptionLine5")))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(toggle_button.Z,{value:useNftDetection,onToggle:value=>{this.context.trackEvent({category:metametrics.ci.Settings,event:"NFT Detected",properties:{action:"NFT Detected",legacy_event:!0}}),value||openSeaEnabled||setOpenSeaEnabled(!value),setUseNftDetection(!value)},offLabel:t("off"),onLabel:t("on")})))))}renderTransactionSecurityCheckToggle(){const{t}=this.context,{transactionSecurityCheckEnabled,setTransactionSecurityCheckEnabled}=this.props;return react.createElement(react.Fragment,null,react.createElement(typography.ZP,{variant:design_system.TypographyVariant.H4,color:design_system.d9.textAlternative,marginBottom:2,fontWeight:design_system.m5.BOLD},t("privacy")),react.createElement("div",{ref:this.settingsRefs[1],className:"settings-page__content-row settings-page__content-row-experimental"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("transactionSecurityCheck")),react.createElement("div",{className:"settings-page__content-description"},react.createElement(typography.ZP,{variant:design_system.TypographyVariant.H6,color:design_system.d9.textAlternative},t("transactionSecurityCheckDescription")),react.createElement(typography.ZP,{marginTop:3,marginBottom:1,variant:design_system.TypographyVariant.H6,color:design_system.d9.textAlternative},t("selectProvider")),react.createElement("div",{className:"settings-page__content-item-col settings-page__content-item-col-open-sea"},react.createElement(typography.ZP,{variant:design_system.TypographyVariant.H5,color:design_system.d9.textDefault,fontWeight:design_system.m5.MEDIUM,marginBottom:0},t("openSea")),react.createElement(toggle_button.Z,{value:transactionSecurityCheckEnabled,onToggle:value=>{this.context.trackEvent({category:metametrics.ci.Settings,event:"Enabled/Disable TransactionSecurityCheck",properties:{action:"Enabled/Disable TransactionSecurityCheck",legacy_event:!0}}),setTransactionSecurityCheckEnabled(!value)}})),react.createElement(typography.ZP,{variant:design_system.TypographyVariant.H6,color:design_system.d9.textAlternative,marginTop:0},t("thisServiceIsExperimental",[react.createElement("a",{href:"http://opensea.io/securityproviderterms",key:"termsOfUse",rel:"noopener noreferrer",target:"_blank"},t("termsOfUse"))])),react.createElement(typography.ZP,{variant:design_system.TypographyVariant.H5,color:design_system.d9.textMuted,fontWeight:design_system.m5.MEDIUM,marginTop:2},t("moreComingSoon"))))))}renderDesktopEnableButton(){const{t}=this.context;return react.createElement("div",{ref:this.settingsRefs[6],className:"settings-page__content-row","data-testid":"advanced-setting-desktop-pairing"},react.createElement("div",{className:"settings-page__content-item"},react.createElement("span",null,t("desktopEnableButtonDescription"))),react.createElement("div",{className:"settings-page__content-item"},react.createElement("div",{className:"settings-page__content-item-col"},react.createElement(DesktopEnableButton,null))))}render(){return react.createElement("div",{className:"settings-page__body"},this.renderTransactionSecurityCheckToggle(),this.renderOpenSeaEnabledToggle(),this.renderDesktopEnableButton())}}experimental_tab_component_defineProperty(ExperimentalTab,"contextTypes",{t:prop_types_default().func,trackEvent:prop_types_default().func}),experimental_tab_component_defineProperty(ExperimentalTab,"propTypes",{useNftDetection:prop_types_default().bool,setUseNftDetection:prop_types_default().func,setOpenSeaEnabled:prop_types_default().func,openSeaEnabled:prop_types_default().bool,transactionSecurityCheckEnabled:prop_types_default().bool,setTransactionSecurityCheckEnabled:prop_types_default().func}),ExperimentalTab.__docgenInfo={description:"",methods:[{name:"renderOpenSeaEnabledToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"renderTransactionSecurityCheckToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"renderDesktopEnableButton",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ExperimentalTab",props:{useNftDetection:{description:"",type:{name:"bool"},required:!1},setUseNftDetection:{description:"",type:{name:"func"},required:!1},setOpenSeaEnabled:{description:"",type:{name:"func"},required:!1},openSeaEnabled:{description:"",type:{name:"bool"},required:!1},transactionSecurityCheckEnabled:{description:"",type:{name:"bool"},required:!1},setTransactionSecurityCheckEnabled:{description:"",type:{name:"func"},required:!1}},context:{t:{type:{name:"func"},required:!1},trackEvent:{type:{name:"func"},required:!1}}};const experimental_tab_container=(0,redux.compose)(react_router.EN,(0,es.$j)((state=>({useNftDetection:(0,selectors.YSh)(state),openSeaEnabled:(0,selectors.ElD)(state),transactionSecurityCheckEnabled:(0,selectors.B6J)(state)})),(dispatch=>({setUseNftDetection:val=>dispatch((0,actions.ncd)(val)),setOpenSeaEnabled:val=>dispatch((0,actions.p8)(val)),setTransactionSecurityCheckEnabled:val=>dispatch((0,actions.cp6)(val))}))))(ExperimentalTab);var snap_list_tab=__webpack_require__("./ui/pages/settings/snaps/snaps-list-tab/snap-list-tab.js"),dist=__webpack_require__("./node_modules/@metamask/rpc-methods/dist/index.js"),index_browser=__webpack_require__("./node_modules/@metamask/snaps-utils/dist/index.browser.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),utils_util=__webpack_require__("./ui/helpers/utils/util.js"),snap_avatar=__webpack_require__("./ui/components/app/snaps/snap-avatar/index.js"),tooltip=__webpack_require__("./ui/components/ui/tooltip/tooltip.js"),useOriginMetadata=__webpack_require__("./ui/hooks/useOriginMetadata.js"),snap_version=__webpack_require__("./ui/components/app/snaps/snap-version/snap-version.js");const SnapAuthorshipExpanded=({snapId,className,snap})=>{const t=(0,useI18nContext.C)(),dispatch=(0,es.I0)(),snapPrefix=snapId&&(0,index_browser.getSnapPrefix)(snapId),packageName=snapId&&(0,utils_util.m)(snapId),url="npm:"===snapPrefix?`https://www.npmjs.com/package/${packageName}`:packageName,subjectMetadata=(0,es.v9)((state=>(0,selectors.h5U)(state,snapId))),friendlyName=snapId&&(0,utils_util.NZ)(snapId,subjectMetadata),versionHistory=(null==snap?void 0:snap.versionHistory)??[],installInfo=versionHistory.length?versionHistory[versionHistory.length-1]:void 0,installOrigin=(0,useOriginMetadata.j)(null==installInfo?void 0:installInfo.origin);return react.createElement(box.ZP,{className:classnames_default()("snaps-authorship-expanded",className),backgroundColor:design_system.lP.backgroundDefault,borderColor:design_system.kf.borderDefault,borderWidth:1,width:design_system.D8.FULL,borderRadius:design_system.cM.LG},react.createElement(box.ZP,{alignItems:design_system.g1.center,display:design_system.bA.FLEX,width:design_system.D8.FULL,paddingLeft:4,paddingRight:4,paddingTop:3,paddingBottom:3},react.createElement(box.ZP,null,react.createElement(snap_avatar.Z,{snapId})),react.createElement(box.ZP,{marginLeft:4,marginRight:0,display:design_system.bA.FLEX,flexDirection:design_system.uM.COLUMN,style:{overflow:"hidden"}},react.createElement(component_library.xv,{ellipsis:!0,fontWeight:design_system.U9.Medium},friendlyName),react.createElement(component_library.xv,{ellipsis:!0,variant:design_system.rK.bodySm,color:design_system.d9.textAlternative},packageName))),react.createElement(box.ZP,{flexDirection:design_system.uM.COLUMN,width:design_system.D8.FULL},react.createElement(box.ZP,{flexDirection:design_system.uM.ROW,justifyContent:design_system.E0.spaceBetween,paddingLeft:4,paddingTop:4,paddingBottom:4,borderColor:design_system.kf.borderDefault,width:design_system.D8.FULL,style:{borderLeft:design_system.N4.none,borderRight:design_system.N4.none}},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,fontWeight:design_system.U9.Medium},t("enabled")),react.createElement(box.ZP,{style:{maxWidth:"52px"}},react.createElement(tooltip.Z,{interactive:!0,position:"left",html:t("snapsToggle")},react.createElement(toggle_button.Z,{value:null==snap?void 0:snap.enabled,onToggle:()=>{null!=snap&&snap.enabled?dispatch((0,actions.L0h)(null==snap?void 0:snap.id)):dispatch((0,actions.TgS)(null==snap?void 0:snap.id))}})))),react.createElement(box.ZP,{flexDirection:design_system.uM.COLUMN,padding:4,width:design_system.D8.FULL},installOrigin&&installInfo&&react.createElement(box.ZP,{flexDirection:design_system.uM.ROW,justifyContent:design_system.E0.spaceBetween,width:design_system.D8.FULL},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,fontWeight:design_system.U9.Medium},t("installOrigin")),react.createElement(box.ZP,{flexDirection:design_system.uM.COLUMN,alignItems:design_system.g1.flexEnd},react.createElement(component_library.ZP,{href:installOrigin.origin,target:"_blank"},installOrigin.host),react.createElement(component_library.xv,{color:design_system.Il.textMuted},t("installedOn",[(0,utils_util.p6)(installInfo.date,"dd MMM yyyy")])))),react.createElement(box.ZP,{flexDirection:design_system.uM.ROW,justifyContent:design_system.E0.spaceBetween,alignItems:design_system.g1.center,marginTop:4},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,fontWeight:design_system.U9.Medium},t("version")),react.createElement(snap_version.Z,{version:null==snap?void 0:snap.version,url})))))};SnapAuthorshipExpanded.propTypes={snapId:prop_types_default().string,className:prop_types_default().string,snap:prop_types_default().object},SnapAuthorshipExpanded.__docgenInfo={description:"",methods:[],displayName:"SnapAuthorshipExpanded",props:{snapId:{description:"The id of the snap",type:{name:"string"},required:!1},className:{description:"The className of the SnapAuthorship",type:{name:"string"},required:!1},snap:{description:"The snap object.",type:{name:"object"},required:!1}}};const snap_authorship_expanded=SnapAuthorshipExpanded;var box_box=__webpack_require__("./ui/components/ui/box/box.js"),popover=__webpack_require__("./ui/components/ui/popover/index.js");function SnapRemoveWarning({onCancel,onSubmit,snapName}){const t=(0,useI18nContext.C)(),SnapRemoveWarningFooter=()=>react.createElement(react.Fragment,null,react.createElement(ui_button.Z,{className:"snap-remove-warning__footer-button",type:"default",onClick:onCancel},t("nevermind")),react.createElement(ui_button.Z,{id:"popoverRemoveSnapButton",className:"snap-remove-warning__footer-button",type:"danger-primary",onClick:onSubmit},t("removeSnap")));return react.createElement(popover.Z,{className:"snap-remove-warning",title:t("pleaseConfirm"),footer:react.createElement(SnapRemoveWarningFooter,null),onClose:onCancel,headerProps:{padding:[6,4,0,6]}},react.createElement(box_box.ZP,{paddingRight:4,paddingBottom:4,paddingLeft:6},react.createElement(typography.ZP,{variant:design_system.TypographyVariant.H4},t("removeSnapConfirmation",[snapName]))))}SnapRemoveWarning.propTypes={onCancel:prop_types_default().func,onSubmit:prop_types_default().func,snapName:prop_types_default().string},SnapRemoveWarning.__docgenInfo={description:"",methods:[],displayName:"SnapRemoveWarning",props:{onCancel:{description:"onCancel handler",type:{name:"func"},required:!1},onSubmit:{description:"onSubmit handler",type:{name:"func"},required:!1},snapName:{description:"Name of snap",type:{name:"string"},required:!1}}};var connected_sites_list=__webpack_require__("./ui/components/app/connected-sites-list/index.js"),snap_permissions_list=__webpack_require__("./ui/components/app/snaps/snap-permissions-list/index.js"),snap_delineator=__webpack_require__("./ui/components/app/snaps/snap-delineator/index.js"),constants_snaps=__webpack_require__("./ui/helpers/constants/snaps/index.js");function ViewSnap(){const t=(0,useI18nContext.C)(),history=(0,react_router.k6)(),location=(0,react_router.TH)(),descriptionRef=(0,react.useRef)(null),{pathname}=location,decodedSnapId=decodeURIComponent(pathname.match(/[^/]+$/u)[0]),snaps=(0,es.v9)(selectors.nUW),snap=Object.entries(snaps).map((([_,snapState])=>snapState)).find((snapState=>snapState.id===decodedSnapId)),[isShowingRemoveWarning,setIsShowingRemoveWarning]=(0,react.useState)(!1),[isDescriptionOpen,setIsDescriptionOpen]=(0,react.useState)(!1),[isOverflowing,setIsOverflowing]=(0,react.useState)(!1);(0,react.useEffect)((()=>{snap||history.push(routes.jt)}),[history,snap]),(0,react.useEffect)((()=>{setIsOverflowing(descriptionRef.current&&descriptionRef.current.offsetHeight<descriptionRef.current.scrollHeight)}),[descriptionRef]);const connectedSubjects=(0,es.v9)((state=>(0,selectors.YV2)(state,null==snap?void 0:snap.id))),permissions=(0,es.v9)((state=>snap&&(0,selectors.Zu$)(state,snap.id))),subjects=(0,es.v9)((state=>(0,selectors.XFf)(state))),targetSubjectMetadata=(0,es.v9)((state=>(0,selectors.h5U)(state,null==snap?void 0:snap.id))),dispatch=(0,es.I0)();if(!snap)return null;const snapName=(0,utils_util.NZ)(snap.id,targetSubjectMetadata),shouldDisplayMoreButton=isOverflowing&&!isDescriptionOpen;return react.createElement(box.ZP,{className:"view-snap",paddingBottom:[4,8],paddingTop:[4,8],paddingLeft:4,paddingRight:4},react.createElement(snap_authorship_expanded,{snapId:snap.id,snap}),react.createElement(box.ZP,{className:"view-snap__description",marginTop:[4,7]},react.createElement(snap_delineator.Z,{type:constants_snaps.P.Description,snapName},react.createElement(box.ZP,{className:classnames_default()("view-snap__description__wrapper",{open:isDescriptionOpen}),ref:descriptionRef},react.createElement(component_library.xv,null,null==snap?void 0:snap.manifest.description),shouldDisplayMoreButton&&react.createElement(ui_button.Z,{className:"view-snap__description__more-button",type:component_library.RN.LINK,onClick:()=>{setIsDescriptionOpen(!0)}},react.createElement(component_library.xv,{color:design_system.Il.infoDefault},t("more")))))),react.createElement(box.ZP,{className:"view-snap__permissions",marginTop:12},react.createElement(component_library.xv,{variant:design_system.rK.bodyLgMedium},t("permissions")),react.createElement(snap_permissions_list.Z,{permissions:permissions??{},targetSubjectMetadata})),react.createElement(box.ZP,{className:"view-snap__connected-sites",marginTop:12},react.createElement(component_library.xv,{variant:design_system.rK.bodyLgMedium,marginBottom:4},t("connectedSites")),react.createElement(connected_sites_list.Z,{connectedSubjects,onDisconnect:origin=>{((connectedOrigin,snapId)=>{const newCaveatValue={...subjects[connectedOrigin].permissions[dist.WALLET_SNAP_PERMISSION_KEY].caveats[0].value};delete newCaveatValue[snapId],Object.keys(newCaveatValue)>0?dispatch((0,actions.o2D)(connectedOrigin,dist.WALLET_SNAP_PERMISSION_KEY,dist.SnapCaveatType.SnapIds,newCaveatValue)):dispatch((0,actions.VQH)({[connectedOrigin]:[dist.WALLET_SNAP_PERMISSION_KEY]}))})(origin,snap.id)}})),react.createElement(box.ZP,{className:"view-snap__remove",marginTop:12},react.createElement(component_library.xv,{variant:design_system.rK.bodyLgMedium,color:design_system.d9.textDefault},t("removeSnap")),react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,color:design_system.d9.textDefault},t("removeSnapDescription")),react.createElement(box.ZP,{marginTop:4},react.createElement(ui_button.Z,{className:"view-snap__remove-button",type:"danger",onClick:()=>setIsShowingRemoveWarning(!0)},react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,color:design_system.d9.errorDefault,flexWrap:design_system.D1.NO_WRAP,ellipsis:!0,style:{overflow:"hidden"}},`${t("remove")} ${snapName}`)),isShowingRemoveWarning&&react.createElement(SnapRemoveWarning,{onCancel:()=>setIsShowingRemoveWarning(!1),onSubmit:async()=>{await dispatch((0,actions.uJ1)(snap.id))},snapName}))))}ViewSnap.__docgenInfo={description:"",methods:[],displayName:"ViewSnap"};const view_snap=ViewSnap;const settings_settings_search=__webpack_require__("./ui/pages/settings/settings-search/settings-search.js").Z;function SettingsSearchList({results,onClickSetting}){const t=(0,react.useContext)(i18n.OO);return(0,react.useEffect)(settings_search.RI,[results]),react.createElement("div",{className:"settings-page__header__search__list"},results.slice(0,5).map((result=>{const{icon,iconName,tabMessage,sectionMessage,route}=result;return Boolean(icon||tabMessage||sectionMessage)&&react.createElement("div",{key:`settings_${route}`},react.createElement("div",{className:"settings-page__header__search__list__item",onClick:()=>onClickSetting(result)},iconName?react.createElement(component_library.JO,{name:iconName}):react.createElement("i",{className:classnames_default()("settings-page__header__search__list__item__icon",icon)}),react.createElement("span",{id:`menu-tab_${route}`,className:classnames_default()("settings-page__header__search__list__item__tab",{"settings-page__header__search__list__item__tab-multiple-lines":tabMessage(t)===t("securityAndPrivacy")})},tabMessage(t)),react.createElement(component_library.JO,{name:component_library.uH.ArrowRight,size:design_system.$u.SM,className:"settings-page__header__search__list__item__caret"}),react.createElement("span",{id:`menu-section_${route}`,className:classnames_default()("settings-page__header__search__list__item__section",{"settings-page__header__search__list__item__section-multiple-lines":tabMessage(t)===t("securityAndPrivacy")||tabMessage(t)===t("alerts")})},sectionMessage(t))))})),0===results.length&&react.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},react.createElement("span",{className:"settings-page__header__search__list__item__no-matching"},t("settingsSearchMatchingNotFound"))),react.createElement("div",{className:"settings-page__header__search__list__item",style:{cursor:"auto",display:"flex"}},react.createElement("span",{className:"settings-page__header__search__list__item__request"},t("missingSetting")),react.createElement("a",{href:"https://community.metamask.io/c/feature-requests-ideas/13",target:"_blank",rel:"noopener noreferrer",key:"need-help-link",className:"settings-page__header__search__list__item__link"},t("missingSettingRequest"))))}SettingsSearchList.propTypes={results:prop_types_default().array,onClickSetting:prop_types_default().func},SettingsSearchList.__docgenInfo={description:"",methods:[],displayName:"SettingsSearchList",props:{results:{description:"",type:{name:"array"},required:!1},onClickSetting:{description:"",type:{name:"func"},required:!1}}};const settings_search_list=SettingsSearchList;function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function settings_component_defineProperty(obj,key,value){return(key=function settings_component_toPropertyKey(arg){var key=function settings_component_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SettingsPage extends react.PureComponent{constructor(...args){super(...args),settings_component_defineProperty(this,"state",{isSearchList:!1,lastFetchedConversionDate:null,searchResults:[],searchText:""})}componentDidMount(){this.handleConversionDate()}componentDidUpdate(){this.handleConversionDate()}handleConversionDate(){const{conversionDate}=this.props;null!==conversionDate&&this.setState({lastFetchedConversionDate:conversionDate})}handleClickSetting(setting){const{history}=this.props;history.push(setting.route),this.setState({isSearchList:"",searchResults:""})}render(){const{history,backRoute,currentPath,mostRecentOverviewPage,addNewNetwork,isSnapViewPage}=this.props,{searchResults,isSearchList,searchText}=this.state,{t}=this.context,isPopup=(0,util.kD)()===app.bE;return react.createElement("div",{className:classnames_default()("main-container settings-page",{"settings-page--selected":currentPath!==routes.VS})},react.createElement(component_library.xu,{className:"settings-page__header",padding:4,paddingBottom:[2,4]},react.createElement("div",{className:"settings-page__header__title-container"},isPopup&&react.createElement(react.Fragment,null,currentPath===routes.VS?react.createElement(metafox_logo.Z,{className:"settings-page__header__title-container__metamask-logo",unsetIconHeight:!0,onClick:async()=>history.push(routes.QO),display:[design_system.sS.Flex,design_system.sS.None]}):react.createElement(component_library.Ei,{ariaLabel:t("back"),iconName:component_library.uH.ArrowLeft,className:"settings-page__header__title-container__back-button",color:design_system.Il.iconDefault,onClick:()=>history.push(backRoute),display:[design_system.sS.Flex,design_system.sS.None],size:component_library.hp.Sm})),this.renderTitle(),react.createElement(component_library.xu,{className:"settings-page__header__title-container__search",display:[design_system.sS.BLOCK]},react.createElement(settings_settings_search,{onSearch:({searchQuery="",results=[]})=>{this.setState({isSearchList:""!==searchQuery,searchResults:results,searchText:searchQuery})},settingsRoutesList:(0,settings_search.Pe)()}),isSearchList&&searchText.length>=3&&react.createElement(settings_search_list,{results:searchResults,onClickSetting:setting=>this.handleClickSetting(setting)})),react.createElement(component_library.Ei,{className:"settings-page__header__title-container__close-button",iconName:component_library.uH.Close,ariaLabel:t("close"),onClick:()=>{addNewNetwork?history.push(routes.Mx):history.push(mostRecentOverviewPage)},size:component_library.hp.Sm,marginLeft:"auto"}))),react.createElement("div",{className:"settings-page__content"},react.createElement("div",{className:"settings-page__content__tabs"},this.renderTabs()),react.createElement("div",{className:"settings-page__content__modules"},isSnapViewPage?null:this.renderSubHeader(),this.renderContent())))}renderTitle(){const{t}=this.context,{isPopup,pathnameI18nKey,addressName,isSnapViewPage}=this.props;let titleText;return titleText=t(isSnapViewPage?"snaps":isPopup&&addressName?"details":pathnameI18nKey&&isPopup?pathnameI18nKey:"settings"),react.createElement("div",{className:"settings-page__header__title-container__title"},react.createElement(component_library.xv,{variant:design_system.rK.headingMd},titleText))}renderSubHeader(){const{t}=this.context,{currentPath,isPopup,isAddressEntryPage,pathnameI18nKey,addressName,initialBreadCrumbRoute,breadCrumbTextKey,history,initialBreadCrumbKey}=this.props;let subheaderText;return subheaderText=t(isPopup&&isAddressEntryPage?"settings":isAddressEntryPage?"contacts":initialBreadCrumbKey||(pathnameI18nKey||"general")),!currentPath.startsWith(routes.Mx)&&react.createElement(component_library.xu,{className:"settings-page__subheader",padding:4,paddingLeft:6,paddingRight:6,display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,alignItems:design_system.g1.center},react.createElement(component_library.xv,{className:classnames_default()({"settings-page__subheader--link":initialBreadCrumbRoute}),variant:design_system.rK.headingSm,onClick:()=>initialBreadCrumbRoute&&history.push(initialBreadCrumbRoute)},subheaderText),breadCrumbTextKey&&react.createElement("div",{className:"settings-page__subheader--break"},react.createElement("span",null," > "),t(breadCrumbTextKey)),isAddressEntryPage&&react.createElement("div",{className:"settings-page__subheader--break"},react.createElement("span",null," > "),addressName))}renderTabs(){const{history,currentPath}=this.props,{t}=this.context,tabs=[{content:t("general"),icon:react.createElement(component_library.JO,{name:component_library.uH.Setting}),key:routes.Mv},{content:t("advanced"),icon:react.createElement("i",{className:"fas fa-sliders-h"}),key:routes.Ky},{content:t("contacts"),icon:react.createElement(component_library.JO,{name:component_library.uH.Book}),key:routes.Ip},{content:t("snaps"),icon:react.createElement(component_library.JO,{name:component_library.uH.Snaps,title:t("snapsSettingsDescription")}),key:routes.jt},{content:t("securityAndPrivacy"),icon:react.createElement("i",{className:"fa fa-lock"}),key:routes.AX},{content:t("alerts"),icon:react.createElement(component_library.JO,{name:component_library.uH.Notification}),key:routes.Mu},{content:t("networks"),icon:react.createElement(component_library.JO,{name:component_library.uH.Plug}),key:routes.Mx},{content:t("experimental"),icon:react.createElement(component_library.JO,{name:component_library.uH.Flask}),key:routes.$W},{content:t("about"),icon:react.createElement(component_library.JO,{name:component_library.uH.Info}),key:routes.oT}];return react.createElement(tab_bar.Z,{tabs,isActive:key=>key===routes.Mv&&currentPath===routes.VS||(!(key!==routes.Ip||!currentPath.includes(routes.Ip))||(0,react_router.LX)(currentPath,{exact:!0,path:key})),onSelect:key=>history.push(key)})}renderContent(){return react.createElement(react_router.rs,null,react.createElement(react_router.AW,{exact:!0,path:routes.Mv,render:routeProps=>react.createElement(settings_tab_container,_extends({},routeProps,{lastFetchedConversionDate:this.state.lastFetchedConversionDate}))}),react.createElement(react_router.AW,{exact:!0,path:routes.oT,component:info_tab.Z}),react.createElement(react_router.AW,{exact:!0,path:routes.Ky,component:advanced_tab_container}),react.createElement(react_router.AW,{exact:!0,path:routes.Mu,component:alerts_tab.Z}),react.createElement(react_router.AW,{exact:!0,path:routes.ZJ,render:()=>react.createElement(networks_tab,{addNewNetwork:!0})}),react.createElement(react_router.AW,{exact:!0,path:routes.Mx,render:()=>react.createElement(networks_tab,{addNewNetwork:!1})}),react.createElement(react_router.AW,{exact:!0,path:routes.tY,render:()=>react.createElement(add_network.Z,null)}),react.createElement(react_router.AW,{exact:!0,path:routes.AX,component:security_tab_container}),react.createElement(react_router.AW,{exact:!0,path:routes.$W,component:experimental_tab_container}),react.createElement(react_router.AW,{exact:!0,path:routes.Ip,component:contact_list_tab_container}),react.createElement(react_router.AW,{exact:!0,path:routes.tT,component:contact_list_tab_container}),react.createElement(react_router.AW,{exact:!0,path:`${routes.lH}/:id`,component:contact_list_tab_container}),react.createElement(react_router.AW,{exact:!0,path:`${routes.T$}/:id`,component:contact_list_tab_container}),react.createElement(react_router.AW,{exact:!0,path:routes.jt,component:snap_list_tab.Z}),react.createElement(react_router.AW,{exact:!0,path:`${routes.ou}/:id`,component:view_snap}),react.createElement(react_router.AW,{render:routeProps=>react.createElement(settings_tab_container,_extends({},routeProps,{lastFetchedConversionDate:this.state.lastFetchedConversionDate}))}))}}settings_component_defineProperty(SettingsPage,"propTypes",{addNewNetwork:prop_types_default().bool,addressName:prop_types_default().string,backRoute:prop_types_default().string,breadCrumbTextKey:prop_types_default().string,conversionDate:prop_types_default().number,currentPath:prop_types_default().string,history:prop_types_default().object,initialBreadCrumbKey:prop_types_default().string,initialBreadCrumbRoute:prop_types_default().string,isAddressEntryPage:prop_types_default().bool,isPopup:prop_types_default().bool,isSnapViewPage:prop_types_default().bool,mostRecentOverviewPage:prop_types_default().string.isRequired,pathnameI18nKey:prop_types_default().string}),settings_component_defineProperty(SettingsPage,"contextTypes",{t:prop_types_default().func}),SettingsPage.__docgenInfo={description:"",methods:[{name:"handleConversionDate",docblock:null,modifiers:[],params:[],returns:null},{name:"handleClickSetting",docblock:null,modifiers:[],params:[{name:"setting",type:null}],returns:null},{name:"renderTitle",docblock:null,modifiers:[],params:[],returns:null},{name:"renderSubHeader",docblock:null,modifiers:[],params:[],returns:null},{name:"renderTabs",docblock:null,modifiers:[],params:[],returns:null},{name:"renderContent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SettingsPage",props:{addNewNetwork:{description:"",type:{name:"bool"},required:!1},addressName:{description:"",type:{name:"string"},required:!1},backRoute:{description:"",type:{name:"string"},required:!1},breadCrumbTextKey:{description:"",type:{name:"string"},required:!1},conversionDate:{description:"",type:{name:"number"},required:!1},currentPath:{description:"",type:{name:"string"},required:!1},history:{description:"",type:{name:"object"},required:!1},initialBreadCrumbKey:{description:"",type:{name:"string"},required:!1},initialBreadCrumbRoute:{description:"",type:{name:"string"},required:!1},isAddressEntryPage:{description:"",type:{name:"bool"},required:!1},isPopup:{description:"",type:{name:"bool"},required:!1},isSnapViewPage:{description:"",type:{name:"bool"},required:!1},mostRecentOverviewPage:{description:"",type:{name:"string"},required:!0},pathnameI18nKey:{description:"",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!1}}};const settings_component=SettingsPage;var _SettingsPageComponen,_SettingsPageComponen2,_SettingsPageComponen3;const settings_stories={decorators:[story=>react.createElement(react_router.VA,{initialEntries:["/settings/general"]},story())],title:"Pages/SettingsPage"},ROUTES_TO_I18N_KEYS={[routes.oT]:"about",[routes.Ky]:"advanced",[routes.Mu]:"alerts",[routes.tT]:"newContact",[routes.lH]:"editContact",[routes.Ip]:"contacts",[routes.T$]:"viewContact",[routes.Mv]:"general",[routes.s9]:"networks",[routes.Mx]:"networks",[routes.AX]:"securityAndPrivacy",[routes.jt]:"snaps",[routes.ou]:"snaps"};__webpack_require__.g.platform={getVersion:()=>"V3.14.159"};const Settings=({history})=>{const{location}=history,pathname="/iframe.html"===location.pathname?"/settings/general":location.pathname,pathnameI18nKey=ROUTES_TO_I18N_KEYS[pathname],isSnapViewPage=Boolean(pathname.match(routes.ou)),backRoute=isSnapViewPage?routes.jt:routes.VS;return react.createElement("div",{style:{height:500}},react.createElement(settings_component,{currentPath:pathname,mostRecentOverviewPage:pathname,history,pathnameI18nKey,backRoute,isSnapViewPage}))};Settings.propTypes={history:prop_types_default().object};const SettingsPageComponent=(0,react_router.EN)(Settings);SettingsPageComponent.parameters={...SettingsPageComponent.parameters,docs:{...null===(_SettingsPageComponen=SettingsPageComponent.parameters)||void 0===_SettingsPageComponen?void 0:_SettingsPageComponen.docs,source:{originalSource:"withRouter(Settings)",...null===(_SettingsPageComponen2=SettingsPageComponent.parameters)||void 0===_SettingsPageComponen2||null===(_SettingsPageComponen3=_SettingsPageComponen2.docs)||void 0===_SettingsPageComponen3?void 0:_SettingsPageComponen3.source}}};const __namedExportsOrder=["SettingsPageComponent"];Settings.__docgenInfo={description:"",methods:[],displayName:"Settings",props:{history:{description:"",type:{name:"object"},required:!1}}}},"./ui/components/app/connected-sites-list/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>ConnectedSitesList});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),site_icon=__webpack_require__("./ui/components/ui/site-icon/index.js"),util=__webpack_require__("./ui/helpers/utils/util.js"),site_origin=__webpack_require__("./ui/components/ui/site-origin/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class ConnectedSitesList extends react.Component{render(){const{connectedSubjects,onDisconnect}=this.props,{t}=this.context;return react.createElement("main",{className:"connected-sites-list__content-rows"},connectedSubjects.map((subject=>react.createElement("div",{key:subject.origin,className:"connected-sites-list__content-row"},react.createElement("div",{className:"connected-sites-list__subject-info"},react.createElement(site_icon.Z,{icon:subject.iconUrl,name:subject.name,size:32,className:"connected-sites-list__subject-icon"}),react.createElement(site_origin.Z,{className:"connected-sites-list__subject-name",title:subject.extensionId||subject.origin,siteOrigin:this.getSubjectDisplayName(subject)})),react.createElement(ui_button.Z,{className:"connected-sites-list__content-row-link-button",onClick:()=>onDisconnect(subject.origin),type:"link"},t("disconnect"))))))}getSubjectDisplayName(subject){return subject.extensionId?this.context.t("externalExtension"):(0,util.j7)(subject.origin)}}_defineProperty(ConnectedSitesList,"contextTypes",{t:prop_types_default().func}),_defineProperty(ConnectedSitesList,"propTypes",{connectedSubjects:prop_types_default().arrayOf(prop_types_default().shape({name:prop_types_default().string,iconUrl:prop_types_default().string,origin:prop_types_default().string})).isRequired,onDisconnect:prop_types_default().func.isRequired}),ConnectedSitesList.__docgenInfo={description:"",methods:[{name:"getSubjectDisplayName",docblock:null,modifiers:[],params:[{name:"subject",type:null}],returns:null}],displayName:"ConnectedSitesList",props:{connectedSubjects:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{name:{name:"string",required:!1},iconUrl:{name:"string",required:!1},origin:{name:"string",required:!1}}}},required:!0},onDisconnect:{description:"",type:{name:"func"},required:!0}},context:{t:{type:{name:"func"},required:!1}}}},"./ui/components/app/snaps/snap-settings-card/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>snap_settings_card});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),box=__webpack_require__("./ui/components/ui/box/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),component_library=__webpack_require__("./ui/components/component-library/index.js"),snap_avatar=__webpack_require__("./ui/components/app/snaps/snap-avatar/index.js");const SnapSettingsCard=({name,packageName,onClick,snapId})=>react.createElement(box.ZP,{className:"snap-settings-card",display:design_system.bA.FLEX,alignItems:design_system.g1.center,justifyContent:design_system.E0.spaceBetween,width:design_system.D8.FULL,padding:[4,4,4,4]},react.createElement(box.ZP,{className:"snap-settings-card__inner-wrapper",display:design_system.bA.FLEX,alignItems:design_system.g1.center,justifyContent:design_system.E0.flexStart,width:design_system.D8.FULL,onClick},react.createElement(box.ZP,null,react.createElement(snap_avatar.Z,{snapId})),react.createElement(box.ZP,{paddingLeft:4,paddingRight:4,width:design_system.D8.FULL},react.createElement(component_library.xv,{className:"snap-settings-card__title",color:design_system.Il.textDefault,variant:design_system.rK.bodyMd},name),react.createElement(component_library.xv,{className:"snap-settings-card__url",color:design_system.Il.textAlternative,variant:design_system.rK.bodySm},packageName))),react.createElement(box.ZP,{className:"snap-settings-card__caret",onClick},react.createElement(component_library.JO,{name:component_library.uH.ArrowRight,size:component_library.Jh.Md,color:design_system.EY.iconMuted})));SnapSettingsCard.propTypes={name:prop_types_default().string,packageName:prop_types_default().string,onClick:prop_types_default().func,snapId:prop_types_default().string.isRequired},SnapSettingsCard.__docgenInfo={description:"",methods:[],displayName:"SnapSettingsCard",props:{name:{description:"Name of the snap used for the title of the card and fallback letter for the snap icon",type:{name:"string"},required:!1},packageName:{description:"Name of a snap package",type:{name:"string"},required:!1},onClick:{description:'onClick function of the "See Details" Button',type:{name:"func"},required:!1},snapId:{description:"ID of a snap.",type:{name:"string"},required:!0}}};const snap_settings_card=SnapSettingsCard},"./ui/components/app/srp-quiz-modal/SRPQuiz/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>SRPQuiz});var react=__webpack_require__("./node_modules/react/index.js"),react_router=__webpack_require__("./node_modules/react-router/esm/react-router.js"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),contexts_metametrics=__webpack_require__("./ui/contexts/metametrics.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),zendesk_url=__webpack_require__("./ui/helpers/constants/zendesk-url.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),component_library=__webpack_require__("./ui/components/component-library/index.js");function QuizContent({icon,image,content,moreContent,buttons}){const t=(0,useI18nContext.C)();return react.createElement(react.Fragment,null,icon&&react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,alignItems:design_system.g1.center,justifyContent:design_system.E0.center},icon),image&&react.createElement(component_library.xu,{display:design_system.sS.Flex,margin:"auto",textAlign:design_system.PH.Center},react.createElement("img",{src:image,alt:t("srpSecurityQuizImgAlt"),width:"300",style:{maxWidth:"100%"}})),react.createElement(component_library.xv,{variant:design_system.rK.bodyLgMedium,textAlign:design_system.PH.Center,color:null==icon?void 0:icon.props.color},content),moreContent&&react.createElement(component_library.xv,{variant:design_system.rK.bodyMd,textAlign:design_system.PH.Center},moreContent),buttons.map(((btn,idx)=>react.createElement(component_library.zx,{key:idx,size:btn.size,onClick:btn.onClick,label:btn.label,variant:btn.variant,width:design_system.Sw.Full,"data-testid":btn["data-testid"]},btn.label))))}try{QuizContent.displayName="QuizContent",QuizContent.__docgenInfo={description:"",displayName:"QuizContent",props:{icon:{defaultValue:null,description:"The icon to display in the modal should use <Icon /> component",name:"icon",required:!1,type:{name:"any"}},image:{defaultValue:null,description:"The image to display in the modal",name:"image",required:!1,type:{name:"string"}},content:{defaultValue:null,description:"The text content to go inside of the <Text /> component",name:"content",required:!0,type:{name:"string"}},moreContent:{defaultValue:null,description:"More text content to go inside of the <Text /> component",name:"moreContent",required:!1,type:{name:"string"}},buttons:{defaultValue:null,description:"Array of <Button /> component props",name:"buttons",required:!0,type:{name:"{ onClick: () => void; label: string; variant: string; size?: string | undefined; 'data-testid'?: string | undefined; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/srp-quiz-modal/QuizContent/QuizContent.tsx#QuizContent"]={docgenInfo:QuizContent.__docgenInfo,name:"QuizContent",path:"ui/components/app/srp-quiz-modal/QuizContent/QuizContent.tsx#QuizContent"})}catch(__react_docgen_typescript_loader_error){}let QuizStage=function(QuizStage){return QuizStage.introduction="introduction",QuizStage.questionOne="question_one",QuizStage.wrongAnswerQuestionOne="wrong_answer_question_one",QuizStage.rightAnswerQuestionOne="right_answer_question_one",QuizStage.questionTwo="question_two",QuizStage.wrongAnswerQuestionTwo="wrong_answer_question_two",QuizStage.rightAnswerQuestionTwo="right_answer_question_two",QuizStage}({});const wrongAnswerIcon=react.createElement(component_library.JO,{size:component_library.Jh.Xl,name:component_library.uH.Warning,color:design_system.EY.errorDefault,textAlign:design_system.PH.Center,width:design_system.Sw.OneTwelfth}),rightAnswerIcon=react.createElement(component_library.JO,{size:component_library.Jh.Xl,name:component_library.uH.Confirmation,color:design_system.EY.successDefault,textAlign:design_system.PH.Center,width:design_system.Sw.OneTwelfth}),openSupportArticle=()=>{__webpack_require__.g.platform.openTab({url:zendesk_url.Z.PASSWORD_AND_SRP_ARTICLE})};function SRPQuiz(props){const[stage,setStage]=(0,react.useState)(QuizStage.introduction),trackEvent=(0,react.useContext)(contexts_metametrics.Wd),history=(0,react_router.k6)(),t=(0,useI18nContext.C)();let title="";const stages={};stages[QuizStage.introduction]=()=>(title=t("srpSecurityQuizTitle"),react.createElement(QuizContent,{image:"images/reveal-srp.png",content:t("srpSecurityQuizIntroduction"),buttons:[{label:t("srpSecurityQuizGetStarted"),onClick:()=>setStage(QuizStage.questionOne),variant:component_library.RN.PRIMARY,size:component_library.Gt.LG,"data-testid":"srp-quiz-get-started"},{label:t("learnMoreUpperCase"),onClick:openSupportArticle,variant:component_library.RN.LINK,"data-testid":"srp-quiz-learn-more"}]})),stages[QuizStage.questionOne]=()=>(title=`1 ${t("ofTextNofM")} 2`,react.createElement(QuizContent,{content:t("srpSecurityQuizQuestionOneQuestion"),buttons:[{label:t("srpSecurityQuizQuestionOneWrongAnswer"),onClick:()=>setStage(QuizStage.wrongAnswerQuestionOne),variant:component_library.RN.SECONDARY,size:component_library.Gt.LG,"data-testid":"srp-quiz-wrong-answer"},{label:t("srpSecurityQuizQuestionOneRightAnswer"),onClick:()=>setStage(QuizStage.rightAnswerQuestionOne),variant:component_library.RN.SECONDARY,size:component_library.Gt.LG,"data-testid":"srp-quiz-right-answer"},{label:t("learnMoreUpperCase"),onClick:openSupportArticle,variant:component_library.RN.LINK}]})),stages[QuizStage.rightAnswerQuestionOne]=()=>(title=`1 ${t("ofTextNofM")} 2`,react.createElement(QuizContent,{icon:rightAnswerIcon,content:t("srpSecurityQuizQuestionOneRightAnswerTitle"),moreContent:t("srpSecurityQuizQuestionOneRightAnswerDescription"),buttons:[{label:t("continue"),onClick:()=>setStage(QuizStage.questionTwo),variant:component_library.RN.PRIMARY,size:component_library.Gt.LG,"data-testid":"srp-quiz-continue"},{label:t("learnMoreUpperCase"),onClick:openSupportArticle,variant:component_library.RN.LINK}]})),stages[QuizStage.wrongAnswerQuestionOne]=()=>(title=`1 ${t("ofTextNofM")} 2`,react.createElement(QuizContent,{icon:wrongAnswerIcon,content:t("srpSecurityQuizQuestionOneWrongAnswerTitle"),moreContent:t("srpSecurityQuizQuestionOneWrongAnswerDescription"),buttons:[{label:t("tryAgain"),onClick:()=>setStage(QuizStage.questionOne),variant:component_library.RN.PRIMARY,size:component_library.Gt.LG,"data-testid":"srp-quiz-try-again"},{label:t("learnMoreUpperCase"),onClick:openSupportArticle,variant:component_library.RN.LINK}]})),stages[QuizStage.questionTwo]=()=>(title=`2 ${t("ofTextNofM")} 2`,react.createElement(QuizContent,{content:t("srpSecurityQuizQuestionTwoQuestion"),buttons:[{label:t("srpSecurityQuizQuestionTwoRightAnswer"),onClick:()=>setStage(QuizStage.rightAnswerQuestionTwo),variant:component_library.RN.SECONDARY,size:component_library.Gt.LG,"data-testid":"srp-quiz-right-answer"},{label:t("srpSecurityQuizQuestionTwoWrongAnswer"),onClick:()=>setStage(QuizStage.wrongAnswerQuestionTwo),variant:component_library.RN.SECONDARY,size:component_library.Gt.LG,"data-testid":"srp-quiz-wrong-answer"},{label:t("learnMoreUpperCase"),onClick:openSupportArticle,variant:component_library.RN.LINK}]})),stages[QuizStage.rightAnswerQuestionTwo]=()=>(title=`2 ${t("ofTextNofM")} 2`,react.createElement(QuizContent,{icon:rightAnswerIcon,content:t("srpSecurityQuizQuestionTwoRightAnswerTitle"),moreContent:t("srpSecurityQuizQuestionTwoRightAnswerDescription"),buttons:[{label:t("continue"),onClick:()=>history.push(routes.ow),variant:component_library.RN.PRIMARY,size:component_library.Gt.LG,"data-testid":"srp-quiz-continue"},{label:t("learnMoreUpperCase"),onClick:openSupportArticle,variant:component_library.RN.LINK}]})),stages[QuizStage.wrongAnswerQuestionTwo]=()=>(title=`2 ${t("ofTextNofM")} 2`,react.createElement(QuizContent,{icon:wrongAnswerIcon,content:t("srpSecurityQuizQuestionTwoWrongAnswerTitle"),moreContent:t("srpSecurityQuizQuestionTwoWrongAnswerDescription"),buttons:[{label:t("tryAgain"),onClick:()=>setStage(QuizStage.questionTwo),variant:component_library.RN.PRIMARY,size:component_library.Gt.LG,"data-testid":"srp-quiz-try-again"},{label:t("learnMoreUpperCase"),onClick:openSupportArticle,variant:component_library.RN.LINK}]}));const trackEventSrp=(0,react.useCallback)((location=>{trackEvent({category:metametrics.ci.Keys,event:metametrics.AW.KeyExportSelected,properties:{key_type:metametrics.Dv.Srp,location}},{})}),[]);(0,react.useEffect)((()=>{trackEventSrp(`stage_${stage}`)}),[stage]);const quizContent=stages[stage]();return react.createElement(component_library.u_,{isOpen:props.isOpen,onClose:props.onClose},react.createElement(component_library.ZA,null),react.createElement(component_library.hz,{modalDialogProps:{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,gap:4}},react.createElement(component_library.xB,{onClose:props.onClose,"data-testid":"srp-quiz-header"},title),react.createElement("span",{"data-testid":`srp_stage_${stage}`}),quizContent))}try{SRPQuiz.displayName="SRPQuiz",SRPQuiz.__docgenInfo={description:"",displayName:"SRPQuiz",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/srp-quiz-modal/SRPQuiz/SRPQuiz.tsx#SRPQuiz"]={docgenInfo:SRPQuiz.__docgenInfo,name:"SRPQuiz",path:"ui/components/app/srp-quiz-modal/SRPQuiz/SRPQuiz.tsx#SRPQuiz"})}catch(__react_docgen_typescript_loader_error){}},"./ui/components/app/tab-bar/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>tab_bar});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),component_library=__webpack_require__("./ui/components/component-library/index.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");const TabBar=props=>{const{tabs=[],onSelect,isActive}=props;return react.createElement("div",{className:"tab-bar"},tabs.map((({key,content,icon})=>react.createElement(box.ZP,{as:"button",key,paddingTop:5,paddingBottom:5,paddingLeft:4,paddingRight:4,className:classnames_default()("tab-bar__tab pointer",{"tab-bar__tab--active":isActive(key,content)}),onClick:()=>onSelect(key)},isActive(key,content)&&react.createElement(box.ZP,{className:"tab-bar__tab__selected-indicator",borderRadius:design_system.cM.pill,backgroundColor:design_system.Il.primaryDefault,display:[design_system.bA.NONE,design_system.bA.BLOCK]}),react.createElement("div",{className:"tab-bar__tab__content"},react.createElement("div",{className:"tab-bar__tab__content__icon"},icon),react.createElement("div",{className:"tab-bar__tab__content__title"},content)),react.createElement(component_library.JO,{name:component_library.uH.ArrowRight,size:component_library.Jh.Sm,className:"tab-bar__tab__caret"})))))};TabBar.propTypes={isActive:prop_types_default().func.isRequired,tabs:prop_types_default().array,onSelect:prop_types_default().func},TabBar.__docgenInfo={description:"",methods:[],displayName:"TabBar",props:{isActive:{description:"",type:{name:"func"},required:!0},tabs:{description:"",type:{name:"array"},required:!1},onSelect:{description:"",type:{name:"func"},required:!1}}};const tab_bar=TabBar},"./ui/components/ui/icon/search-icon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);const SearchIcon=({size=24,color="currentColor",ariaLabel,className})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:size,height:size,fill:color,className,"aria-label":ariaLabel,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"m235 427c-51 0-100-21-136-57-36-36-56-84-56-135 0-26 5-51 14-74 10-23 24-44 42-62 18-18 39-32 62-42 23-9 48-14 74-14 25 0 50 5 73 14 23 10 45 24 62 42 18 18 32 39 42 62 10 23 15 48 15 74 0 43-15 86-42 119l78 79c2 2 4 4 5 7 1 2 1 5 1 8 0 3 0 6-1 8-1 3-3 5-5 7-2 2-4 4-7 5-2 1-5 1-8 1-3 0-6 0-8-1-3-1-5-3-7-5l-79-78c-33 27-76 42-119 42z m0-43c82 0 149-67 149-149 0-83-67-150-149-150-83 0-150 67-150 150 0 82 67 149 150 149z"}));SearchIcon.propTypes={size:prop_types__WEBPACK_IMPORTED_MODULE_1___default().number,color:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string,ariaLabel:prop_types__WEBPACK_IMPORTED_MODULE_1___default().string},SearchIcon.__docgenInfo={description:"@deprecated This has been deprecated in favor of the `<Icon />` component in ./ui/components/component-library/icon/icon.js\nSee storybook documentation for Icon here https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-icon--default-story#icon",methods:[],displayName:"SearchIcon",props:{size:{defaultValue:{value:"24",computed:!1},description:"The size of the Icon follows an 8px grid 2 = 16px, 3 = 24px etc",type:{name:"number"},required:!1},color:{defaultValue:{value:"'currentColor'",computed:!1},description:"The color of the icon accepts design token css variables",type:{name:"string"},required:!1},className:{description:"An additional className to assign the Icon",type:{name:"string"},required:!1},ariaLabel:{description:"The aria-label of the icon for accessibility purposes",type:{name:"string"},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=SearchIcon},"./ui/hooks/usePrevious.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>usePrevious});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function usePrevious(value){const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{ref.current=value}),[value]),ref.current}},"./ui/pages/settings/alerts-tab/alerts-tab.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_shared_constants_alerts__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./shared/constants/alerts.ts"),_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/tooltip/index.js"),_components_ui_toggle_button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/ui/toggle-button/index.js"),_store_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/store/actions.ts"),_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/ducks/metamask/metamask.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/hooks/useI18nContext.js"),_helpers_utils_settings_search__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/helpers/utils/settings-search.js"),_components_component_library__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/components/component-library/index.js");const AlertSettingsEntry=({alertId,description,title})=>{const t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_7__.C)(),settingsRefs=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{(0,_helpers_utils_settings_search__WEBPACK_IMPORTED_MODULE_8__.n4)(t,t("alerts"),settingsRefs)}),[settingsRefs,t]);const isEnabled=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((state=>(0,_ducks_metamask_metamask__WEBPACK_IMPORTED_MODULE_6__.ww)(state)[alertId]));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:settingsRefs,className:"alerts-tab__item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"alerts-tab__description-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_3__.Z,{position:"top",title:description,wrapperClassName:"alerts-tab__description"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_9__.JO,{name:_components_component_library__WEBPACK_IMPORTED_MODULE_9__.uH.Info,className:"alerts-tab__description__icon"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_toggle_button__WEBPACK_IMPORTED_MODULE_4__.Z,{offLabel:t("off"),onLabel:t("on"),onToggle:()=>(0,_store_actions__WEBPACK_IMPORTED_MODULE_5__.wmw)(alertId,!isEnabled),value:isEnabled}))))};AlertSettingsEntry.propTypes={alertId:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,description:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string.isRequired};const AlertsTab=()=>{const t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_7__.C)(),alertConfig={[_shared_constants_alerts__WEBPACK_IMPORTED_MODULE_2__.d_.unconnectedAccount]:{title:t("alertSettingsUnconnectedAccount"),description:t("alertSettingsUnconnectedAccountDescription")},[_shared_constants_alerts__WEBPACK_IMPORTED_MODULE_2__.d_.web3ShimUsage]:{title:t("alertSettingsWeb3ShimUsage"),description:t("alertSettingsWeb3ShimUsageDescription")}};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"alerts-tab__body"},Object.entries(alertConfig).map((([alertId,{title,description}],_)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(AlertSettingsEntry,{alertId,description,key:alertId,title}))))};AlertsTab.__docgenInfo={description:"",methods:[],displayName:"AlertsTab"};const __WEBPACK_DEFAULT_EXPORT__=AlertsTab},"./ui/pages/settings/networks-tab/custom-content-search/custom-content-search.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>CustomContentSearch});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),fuse_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/fuse.js/dist/fuse.js"),fuse_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(fuse_js__WEBPACK_IMPORTED_MODULE_1__),_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@material-ui/core/esm/InputAdornment/InputAdornment.js"),_components_ui_text_field__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/ui/text-field/index.js"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/contexts/i18n.js"),_components_ui_icon_search_icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/ui/icon/search-icon.js"),_components_component_library__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/component-library/index.js");function CustomContentSearch({onSearch,error,networksList,searchQueryInput}){const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_3__.OO),[searchIconColor,setSearchIconColor]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("var(--color-icon-muted)"),networksListArray=Object.values(networksList),networksSearchFuse=new(fuse_js__WEBPACK_IMPORTED_MODULE_1___default())(networksListArray,{shouldSort:!0,threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["label","labelKey"]}),handleSearch=async searchQuery=>{setSearchIconColor(""===searchQuery?"var(--color-icon-muted)":"var(--color-icon-alternative)");const fuseSearchResult=networksSearchFuse.search(searchQuery),results=searchQuery?[...fuseSearchResult]:networksListArray;await onSearch({searchQuery,results})};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_text_field__WEBPACK_IMPORTED_MODULE_2__.Z,{id:"search-networks","data-testid":"search-networks",placeholder:t("customContentSearch"),type:"text",value:searchQueryInput,onChange:e=>handleSearch(e.target.value),error,fullWidth:!0,autoFocus:!0,autoComplete:"off",classes:{inputRoot:"networks-tab__networks-list__custom-search-network"},startAdornment:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_6__.Z,{position:"start"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_icon_search_icon__WEBPACK_IMPORTED_MODULE_4__.Z,{color:searchIconColor})),endAdornment:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,searchQueryInput&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_6__.Z,{className:"imageclosectn",position:"end",onClick:()=>handleSearch("")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_5__.JO,{name:_components_component_library__WEBPACK_IMPORTED_MODULE_5__.uH.Close,className:"networks-tab__imageclose"})))})}CustomContentSearch.propTypes={onSearch:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func,error:prop_types__WEBPACK_IMPORTED_MODULE_7___default().string,networksList:prop_types__WEBPACK_IMPORTED_MODULE_7___default().array,searchQueryInput:prop_types__WEBPACK_IMPORTED_MODULE_7___default().string},CustomContentSearch.__docgenInfo={description:"",methods:[],displayName:"CustomContentSearch",props:{onSearch:{description:"The function searches the list of networks depending on\nthe entered parameter and returns the entire list of\nnetworks when the user clicks on 'X' on the search tab",type:{name:"func"},required:!1},error:{description:"An error message is displayed when a user searches for a specific\nnetwork on the search tab and that network does not exist\nin the networks list",type:{name:"string"},required:!1},networksList:{description:"The list of networks available for search.",type:{name:"array"},required:!1},searchQueryInput:{description:"Search for a specific network(s) by label or labelKey",type:{name:"string"},required:!1}}}},"./ui/pages/settings/networks-tab/networks-list/networks-list.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>networks_list});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),custom_content_search=__webpack_require__("./ui/pages/settings/networks-tab/custom-content-search/custom-content-search.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),networks_list_item=__webpack_require__("./ui/pages/settings/networks-tab/networks-list-item/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.js");const NetworksList=({networkIsSelected,networksToRender,networkDefaultedToProvider,selectedNetworkConfigurationId})=>{const t=(0,useI18nContext.C)(),[searchedNetworks,setSearchedNetworks]=(0,react.useState)([]),[searchQuery,setSearchQuery]=(0,react.useState)(""),searchedNetworksToRender=0===searchedNetworks.length&&""===searchQuery?networksToRender:searchedNetworks,searchedNetworksToRenderThatAreNotTestNetworks=searchedNetworksToRender.filter((network=>!network.isATestNetwork)),searchedNetworksToRenderThatAreTestNetworks=searchedNetworksToRender.filter((network=>network.isATestNetwork));return react.createElement("div",{className:classnames_default()("networks-tab__networks-list",{"networks-tab__networks-list--selection":networkIsSelected&&!networkDefaultedToProvider})},react.createElement(custom_content_search.Z,{onSearch:({searchQuery:newSearchQuery="",results:newResults=[]})=>{setSearchedNetworks(newResults),setSearchQuery(newSearchQuery)},error:0===searchedNetworksToRender.length?t("settingsSearchMatchingNotFound"):null,networksList:networksToRender,searchQueryInput:searchQuery}),searchedNetworksToRenderThatAreNotTestNetworks.map(((network,_)=>react.createElement(networks_list_item.Z,{key:`settings-network-list:${network.rpcUrl}`,network,networkIsSelected,selectedNetworkConfigurationId,setSearchQuery,setSearchedNetworks}))),""===searchQuery&&react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",marginTop:4,color:design_system.Il.textAlternative,className:"networks-tab__networks-list__label"},t("testNetworks")),searchedNetworksToRenderThatAreTestNetworks.map(((network,_)=>react.createElement(networks_list_item.Z,{key:`settings-network-list:${network.rpcUrl}`,network,networkIsSelected,selectedNetworkConfigurationId,setSearchQuery,setSearchedNetworks}))))};NetworksList.propTypes={networkDefaultedToProvider:prop_types_default().bool,networkIsSelected:prop_types_default().bool,networksToRender:prop_types_default().arrayOf(prop_types_default().object).isRequired,selectedNetworkConfigurationId:prop_types_default().string},NetworksList.__docgenInfo={description:"",methods:[],displayName:"NetworksList",props:{networkDefaultedToProvider:{description:"",type:{name:"bool"},required:!1},networkIsSelected:{description:"",type:{name:"bool"},required:!1},networksToRender:{description:"",type:{name:"arrayOf",value:{name:"object"}},required:!0},selectedNetworkConfigurationId:{description:"",type:{name:"string"},required:!1}}};const networks_list=NetworksList},"./ui/pages/settings/networks-tab/networks-tab.constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>defaultNetworksData});var _shared_constants_network__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./shared/constants/network.ts");const defaultNetworksData=[{labelKey:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.MAINNET,iconColor:"#29B6AF",providerType:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.MAINNET,rpcUrl:(0,_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.RM)({network:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.MAINNET,excludeProjectId:!0}),chainId:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.vo.MAINNET,ticker:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.CE.ETH,blockExplorerUrl:"https://etherscan.io"},{labelKey:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.GOERLI,iconColor:"#3099f2",providerType:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.GOERLI,rpcUrl:(0,_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.RM)({network:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.GOERLI,excludeProjectId:!0}),chainId:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.vo.GOERLI,ticker:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.VL[_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.GOERLI],blockExplorerUrl:"https://goerli.etherscan.io"},{labelKey:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.SEPOLIA,iconColor:"#CFB5F0",providerType:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.SEPOLIA,rpcUrl:(0,_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.RM)({network:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.SEPOLIA,excludeProjectId:!0}),chainId:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.vo.SEPOLIA,ticker:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.VL[_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.SEPOLIA],blockExplorerUrl:"https://sepolia.etherscan.io"},{labelKey:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.LINEA_GOERLI,iconColor:"#61dfff",providerType:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.LINEA_GOERLI,rpcUrl:(0,_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.RM)({network:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.LINEA_GOERLI,excludeProjectId:!0}),chainId:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.vo.LINEA_GOERLI,ticker:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.VL[_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.LINEA_GOERLI],blockExplorerUrl:"https://goerli.lineascan.build"},{labelKey:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.LINEA_MAINNET,iconColor:"#121212",providerType:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.LINEA_MAINNET,rpcUrl:(0,_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.RM)({network:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.Qv.LINEA_MAINNET,excludeProjectId:!0}),chainId:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.vo.LINEA_MAINNET,ticker:_shared_constants_network__WEBPACK_IMPORTED_MODULE_0__.CE.ETH,blockExplorerUrl:"https://lineascan.build"}]},"./ui/pages/settings/settings-search/settings-search.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>SettingsSearch});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),fuse_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/fuse.js/dist/fuse.js"),fuse_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(fuse_js__WEBPACK_IMPORTED_MODULE_2__),_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@material-ui/core/esm/InputAdornment/InputAdornment.js"),_components_ui_text_field__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/components/ui/text-field/index.js"),_contexts_i18n__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/contexts/i18n.js"),_components_ui_icon_search_icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/icon/search-icon.js"),_shared_modules_string_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./shared/modules/string-utils.ts"),_components_component_library__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/component-library/index.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_selectors__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/selectors/index.js");function SettingsSearch({onSearch,error,settingsRoutesList}){const t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_i18n__WEBPACK_IMPORTED_MODULE_4__.OO),[searchQuery,setSearchQuery]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[searchIconColor,setSearchIconColor]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("var(--color-icon-muted)"),settingsRoutesListArray=Object.values(settingsRoutesList),snaps=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_8__.Xux);settingsRoutesListArray.push(...snaps);const settingsSearchFuse=new(fuse_js__WEBPACK_IMPORTED_MODULE_2___default())(settingsRoutesListArray,{shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["tabMessage","sectionMessage","descriptionMessage"],getFn:(routeObject,path)=>routeObject[path](t)}),handleSearch=_searchQuery=>{const sanitizedSearchQuery=_searchQuery.replace(/[^A-Za-z0-9\s&_]/gu,"").trimStart();setSearchQuery(sanitizedSearchQuery),setSearchIconColor(""===sanitizedSearchQuery?"var(--color-icon-muted)":"var(--color-icon-default)");const fuseSearchResult=settingsSearchFuse.search(sanitizedSearchQuery),results=[...settingsRoutesListArray.filter((routes=>routes.tabMessage&&sanitizedSearchQuery&&(0,_shared_modules_string_utils__WEBPACK_IMPORTED_MODULE_9__.J)(routes.tab,sanitizedSearchQuery))),...fuseSearchResult];onSearch({searchQuery:sanitizedSearchQuery,results})};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_text_field__WEBPACK_IMPORTED_MODULE_3__.Z,{id:"search-settings",placeholder:t("search"),type:"text",value:searchQuery,onChange:e=>handleSearch(e.target.value),error,fullWidth:!0,autoFocus:!0,autoComplete:"off",startAdornment:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_10__.Z,{position:"start",style:{marginRight:"12px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_icon_search_icon__WEBPACK_IMPORTED_MODULE_5__.Z,{color:searchIconColor})),endAdornment:react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,searchQuery&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_material_ui_core_InputAdornment__WEBPACK_IMPORTED_MODULE_10__.Z,{className:"imageclosectn",position:"end",onClick:()=>handleSearch(""),style:{cursor:"pointer"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_6__.JO,{name:_components_component_library__WEBPACK_IMPORTED_MODULE_6__.uH.Close,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_7__.EY.iconDefault})))})}SettingsSearch.propTypes={onSearch:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,error:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,settingsRoutesList:prop_types__WEBPACK_IMPORTED_MODULE_11___default().array},SettingsSearch.__docgenInfo={description:"",methods:[],displayName:"SettingsSearch",props:{onSearch:{description:"",type:{name:"func"},required:!1},error:{description:"",type:{name:"string"},required:!1},settingsRoutesList:{description:"",type:{name:"array"},required:!1}}}},"./ui/pages/settings/snaps/snaps-list-tab/snap-list-tab.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),react_router_dom__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/react-router/esm/react-router.js"),_components_app_snaps_snap_settings_card__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/components/app/snaps/snap-settings-card/index.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/hooks/useI18nContext.js"),_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/helpers/constants/design-system.ts"),_components_ui_box__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/components/ui/box/index.js"),_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/helpers/constants/routes.ts"),_selectors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/selectors/index.js"),_helpers_utils_settings_search__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/helpers/utils/settings-search.js"),_components_component_library__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/components/component-library/index.js");const SnapListTab=()=>{const t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_3__.C)(),history=(0,react_router_dom__WEBPACK_IMPORTED_MODULE_10__.k6)(),settingsRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{(0,_helpers_utils_settings_search__WEBPACK_IMPORTED_MODULE_8__.n4)(t,t("snaps"),settingsRef)}),[settingsRef,t]);const snapsList=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((state=>(0,_selectors__WEBPACK_IMPORTED_MODULE_7__.W16)(state)));return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"snap-list-tab",ref:settingsRef},snapsList.length?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"snap-list-tab__body"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"snap-list-tab__wrapper"},snapsList.map((snap=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_app_snaps_snap_settings_card__WEBPACK_IMPORTED_MODULE_2__.Z,{className:"snap-settings-card",key:snap.key,packageName:snap.packageName,name:snap.name,onClick:()=>{(snap=>{history.push(`${_helpers_constants_routes__WEBPACK_IMPORTED_MODULE_6__.ou}/${encodeURIComponent(snap.id)}`)})(snap)},snapId:snap.id}))))):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box__WEBPACK_IMPORTED_MODULE_5__.ZP,{className:"snap-list-tab__container--no-snaps",width:"full",height:"full",alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.g1.center,flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.uM.COLUMN},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box__WEBPACK_IMPORTED_MODULE_5__.ZP,{className:"snap-list-tab__container--no-snaps_inner",width:"full",height:"full",flexDirection:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.uM.COLUMN,justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.E0.center,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.g1.center},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_9__.JO,{name:_components_component_library__WEBPACK_IMPORTED_MODULE_9__.uH.Snaps,color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.EY.iconMuted,className:"snap-list-tab__no-snaps_icon",size:_components_component_library__WEBPACK_IMPORTED_MODULE_9__.Jh.Inherit}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_9__.xv,{color:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.Il.textMuted,align:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.I8.CENTER,marginTop:4},t("noSnaps"))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ui_box__WEBPACK_IMPORTED_MODULE_5__.ZP,{className:"snap-list-tab__container--no-snaps_banner-tip",width:"full",justifyContent:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.E0.center,alignItems:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.g1.flexEnd,paddingLeft:4,paddingRight:4,paddingBottom:4},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_9__.nh,{logoType:_components_component_library__WEBPACK_IMPORTED_MODULE_9__.ZO.Greeting,title:t("exploreMetaMaskSnaps"),description:t("extendWalletWithSnaps")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_component_library__WEBPACK_IMPORTED_MODULE_9__.ZP,{size:_helpers_constants_design_system__WEBPACK_IMPORTED_MODULE_4__.$u.auto,href:"https://metamask.io/snaps/",target:"_blank"},`${t("learnMoreUpperCase")}`)))))};SnapListTab.__docgenInfo={description:"",methods:[],displayName:"SnapListTab"};const __WEBPACK_DEFAULT_EXPORT__=SnapListTab},"./node_modules/valid-url/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{!function(module){"use strict";module.exports.is_uri=is_iri,module.exports.is_http_uri=is_http_iri,module.exports.is_https_uri=is_https_iri,module.exports.is_web_uri=is_web_iri,module.exports.isUri=is_iri,module.exports.isHttpUri=is_http_iri,module.exports.isHttpsUri=is_https_iri,module.exports.isWebUri=is_web_iri;var splitUri=function(uri){return uri.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function is_iri(value){if(value&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(value)&&!/%[^0-9a-f]/i.test(value)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(value)){var splitted,authority,path,query,fragment,scheme="",out="";if(scheme=(splitted=splitUri(value))[1],authority=splitted[2],path=splitted[3],query=splitted[4],fragment=splitted[5],scheme&&scheme.length&&path.length>=0){if(authority&&authority.length){if(0!==path.length&&!/^\//.test(path))return}else if(/^\/\//.test(path))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(scheme.toLowerCase()))return out+=scheme+":",authority&&authority.length&&(out+="//"+authority),out+=path,query&&query.length&&(out+="?"+query),fragment&&fragment.length&&(out+="#"+fragment),out}}}function is_http_iri(value,allowHttps){if(is_iri(value)){var splitted,path,query,fragment,scheme="",authority="",port="",out="";if(scheme=(splitted=splitUri(value))[1],authority=splitted[2],path=splitted[3],query=splitted[4],fragment=splitted[5],scheme){if(allowHttps){if("https"!=scheme.toLowerCase())return}else if("http"!=scheme.toLowerCase())return;if(authority)return/:(\d+)$/.test(authority)&&(port=authority.match(/:(\d+)$/)[0],authority=authority.replace(/:\d+$/,"")),out+=scheme+":",out+="//"+authority,port&&(out+=port),out+=path,query&&query.length&&(out+="?"+query),fragment&&fragment.length&&(out+="#"+fragment),out}}}function is_https_iri(value){return is_http_iri(value,!0)}function is_web_iri(value){return is_http_iri(value)||is_https_iri(value)}}(module=__webpack_require__.nmd(module))}}]);