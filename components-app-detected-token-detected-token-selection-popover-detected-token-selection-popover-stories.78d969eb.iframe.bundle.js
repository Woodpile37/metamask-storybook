"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[8828],{"./ui/components/app/detected-token/detected-token-selection-popover/detected-token-selection-popover.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _DefaultStory$paramet,_DefaultStory$paramet2,_DefaultStory$paramet3,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_storybook_test_data__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/test-data.js"),_store_store__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/store/store.ts"),_detected_token_selection_popover__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./ui/components/app/detected-token/detected-token-selection-popover/detected-token-selection-popover.js");const store=(0,_store_store__WEBPACK_IMPORTED_MODULE_3__.Z)(_storybook_test_data__WEBPACK_IMPORTED_MODULE_2__.default),__WEBPACK_DEFAULT_EXPORT__={title:"Components/App/DetectedToken/DetectedTokenSelectionPopover",decorators:[story=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.zt,{store},story())],argTypes:{selectedTokens:{control:"array"},handleTokenSelection:{control:"func"},onImport:{control:"func"},onIgnoreAll:{control:"func"},sortingBasedOnTokenSelection:{control:"func"}},args:{tokensListDetected:{"0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f":{token:{name:"Synthetix Network",address:"0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f",symbol:"SNX",decimals:18,iconUrl:"https://assets.coingecko.com/coins/images/3406/large/SNX.png",aggregators:["aave","bancor","cmc","cryptocom","coinGecko","oneInch","paraswap","pmm","synthetix","zapper","zerion","zeroEx"]},selected:!0},"0x514910771af9ca656af840dff83e8264ecf986ca":{token:{name:"ChainLink Token",address:"0x514910771af9ca656af840dff83e8264ecf986ca",symbol:"LINK",decimals:18,iconUrl:"https://crypto.com/price/coin-data/icon/LINK/color_icon.png",aggregators:["coinGecko","oneInch","paraswap","zapper","zerion"]},selected:!0}},sortingBasedOnTokenSelection:()=>[]}},DefaultStory=(args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_detected_token_selection_popover__WEBPACK_IMPORTED_MODULE_4__.Z,args)).bind({});DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => {\n  return <DetectedTokenSelectionPopover {...args} />;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet3=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet3?void 0:_DefaultStory$paramet3.source}}};const __namedExportsOrder=["DefaultStory"]},"./ui/components/app/detected-token/detected-token-selection-popover/detected-token-selection-popover.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-redux/es/index.js"),_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./ui/hooks/useI18nContext.js"),_contexts_metametrics__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./ui/contexts/metametrics.js"),_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./shared/constants/metametrics.ts"),_selectors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./ui/selectors/index.js"),_ui_popover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./ui/components/ui/popover/index.js"),_ui_box__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./ui/components/ui/box/index.js"),_ui_button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./ui/components/ui/button/index.js"),_detected_token_details_detected_token_details__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./ui/components/app/detected-token/detected-token-details/detected-token-details.js");const DetectedTokenSelectionPopover=({tokensListDetected,handleTokenSelection,onImport,onIgnoreAll,setShowDetectedTokens,sortingBasedOnTokenSelection})=>{const t=(0,_hooks_useI18nContext__WEBPACK_IMPORTED_MODULE_2__.C)(),trackEvent=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_contexts_metametrics__WEBPACK_IMPORTED_MODULE_3__.Wd),chainId=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_5__.BVZ),detectedTokens=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)(_selectors__WEBPACK_IMPORTED_MODULE_5__.Tl8),{selected:selectedTokens=[]}=sortingBasedOnTokenSelection(tokensListDetected),numOfTokensImporting=selectedTokens.length===detectedTokens.length?"All":`(${selectedTokens.length})`,footer=react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_button__WEBPACK_IMPORTED_MODULE_8__.Z,{className:"detected-token-selection-popover__ignore-button",type:"secondary",onClick:()=>onIgnoreAll()},t("ignoreAll")),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_button__WEBPACK_IMPORTED_MODULE_8__.Z,{className:"detected-token-selection-popover__import-button",type:"primary",onClick:onImport,disabled:0===selectedTokens.length},t("importWithCount",[numOfTokensImporting])));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_popover__WEBPACK_IMPORTED_MODULE_6__.Z,{className:"detected-token-selection-popover",title:1===detectedTokens.length?t("tokenFoundTitle"):t("tokensFoundTitle",[detectedTokens.length]),onClose:()=>{setShowDetectedTokens(!1);const eventTokensDetails=detectedTokens.map((({address,symbol})=>`${symbol} - ${address}`));trackEvent({event:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_4__.AW.TokenImportCanceled,category:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_4__.ci.Wallet,properties:{source_connection_method:_shared_constants_metametrics__WEBPACK_IMPORTED_MODULE_4__.iL.Detected,chain_id:chainId,tokens:eventTokensDetails}})},footer},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ui_box__WEBPACK_IMPORTED_MODULE_7__.ZP,{margin:3},detectedTokens.map(((token,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_detected_token_details_detected_token_details__WEBPACK_IMPORTED_MODULE_9__.Z,{key:index,token,handleTokenSelection,tokensListDetected})))))};DetectedTokenSelectionPopover.propTypes={tokensListDetected:prop_types__WEBPACK_IMPORTED_MODULE_10___default().object,handleTokenSelection:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired,onIgnoreAll:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired,onImport:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired,setShowDetectedTokens:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired,sortingBasedOnTokenSelection:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func.isRequired},DetectedTokenSelectionPopover.__docgenInfo={description:"",methods:[],displayName:"DetectedTokenSelectionPopover",props:{tokensListDetected:{description:"",type:{name:"object"},required:!1},handleTokenSelection:{description:"",type:{name:"func"},required:!0},onIgnoreAll:{description:"",type:{name:"func"},required:!0},onImport:{description:"",type:{name:"func"},required:!0},setShowDetectedTokens:{description:"",type:{name:"func"},required:!0},sortingBasedOnTokenSelection:{description:"",type:{name:"func"},required:!0}}};const __WEBPACK_DEFAULT_EXPORT__=DetectedTokenSelectionPopover}}]);