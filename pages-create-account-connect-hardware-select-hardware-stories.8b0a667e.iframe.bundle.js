"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[7270],{"./ui/pages/create-account/connect-hardware/select-hardware.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BrowserNotSupported:()=>BrowserNotSupported,DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>select_hardware_stories});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),hardware_wallets=__webpack_require__("./shared/constants/hardware-wallets.ts"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),component_library=__webpack_require__("./ui/components/component-library/index.ts"),logo_ledger=__webpack_require__("./ui/components/ui/logo/logo-ledger.js"),logo_qr_based=__webpack_require__("./ui/components/ui/logo/logo-qr-based.js"),logo_trezor=__webpack_require__("./ui/components/ui/logo/logo-trezor.js"),logo_lattice=__webpack_require__("./ui/components/ui/logo/logo-lattice.js"),zendesk_url=__webpack_require__("./ui/helpers/constants/zendesk-url.js"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),webextension_polyfill=__webpack_require__("./ui/__mocks__/webextension-polyfill.js");const isManifestV3=3===__webpack_require__.n(webextension_polyfill)().runtime.getManifest().manifest_version,openWindow=(url,target)=>{window.open(url,target||"_blank","noopener")};var _DefaultStory$paramet,_DefaultStory$paramet2,_BrowserNotSupported$,_BrowserNotSupported$2,design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),process=__webpack_require__("./node_modules/process/browser.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SelectHardware extends react.Component{constructor(...args){super(...args),_defineProperty(this,"state",{selectedDevice:null}),_defineProperty(this,"connect",(()=>(this.state.selectedDevice&&this.props.connectToHardwareWallet(this.state.selectedDevice),null)))}shouldShowConnectButton(){return!isManifestV3||process.env.HARDWARE_WALLETS_MV3}renderConnectToTrezorButton(){return react.createElement("button",{className:classnames_default()("hw-connect__btn",{selected:this.state.selectedDevice===hardware_wallets._2.trezor}),onClick:_=>this.setState({selectedDevice:hardware_wallets._2.trezor})},react.createElement(logo_trezor.Z,{className:"hw-connect__btn__img",ariaLabel:"Trezor"}))}renderConnectToLatticeButton(){return react.createElement("button",{className:classnames_default()("hw-connect__btn",{selected:this.state.selectedDevice===hardware_wallets._2.lattice}),onClick:_=>this.setState({selectedDevice:hardware_wallets._2.lattice})},react.createElement(logo_lattice.Z,{className:"hw-connect__btn__img",ariaLabel:"Lattice"}))}renderConnectToLedgerButton(){return react.createElement("button",{className:classnames_default()("hw-connect__btn",{selected:this.state.selectedDevice===hardware_wallets._2.ledger}),onClick:_=>this.setState({selectedDevice:hardware_wallets._2.ledger})},react.createElement(logo_ledger.Z,{className:"hw-connect__btn__img",ariaLabel:"Ledger"}))}renderConnectToQRButton(){return react.createElement("button",{className:classnames_default()("hw-connect__btn",{selected:this.state.selectedDevice===hardware_wallets._2.qr}),onClick:_=>this.setState({selectedDevice:hardware_wallets._2.qr})},react.createElement(logo_qr_based.Z,{className:"hw-connect__btn__img",ariaLabel:"QRCode"}))}renderButtons(){return react.createElement(react.Fragment,null,react.createElement("div",{className:"hw-connect__btn-wrapper"},this.renderConnectToLedgerButton(),this.renderConnectToTrezorButton()),react.createElement("div",{className:"hw-connect__btn-wrapper",style:{margin:"10px 0 0 0"}},this.shouldShowConnectButton()&&this.renderConnectToLatticeButton(),this.renderConnectToQRButton()))}renderContinueButton(){return react.createElement(component_library.zx,{variant:component_library.RN.PRIMARY,size:component_library.Gt.LG,className:"hw-connect__connect-btn",onClick:this.connect,disabled:!this.state.selectedDevice},this.context.t("continue"))}renderFooter(){return react.createElement(component_library.xv,{color:design_system.d9.textAlternative,variant:design_system.rK.bodySm,textAlign:design_system.PH.Center,as:"h6",marginTop:4,className:"new-external-account-form footer"},this.context.t("hardwareWalletsInfo"))}renderUnsupportedBrowser(){return react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.center,alignItems:design_system.g1.center,className:"new-external-account-form unsupported-browser"},react.createElement(component_library.xu,{className:"hw-connect",display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,alignItems:design_system.g1.center},react.createElement(component_library.xv,{className:"hw-connect__title",variant:design_system.rK.headingMd,as:"h3",fontWeight:design_system.U9.Bold,marginTop:6,marginBottom:3},this.context.t("browserNotSupported")),react.createElement(component_library.xv,{className:"hw-connect__msg",variant:design_system.rK.bodyMd,as:"h5",marginTop:3,marginBottom:5},this.context.t("chromeRequiredForHardwareWallets"))),react.createElement(component_library.zx,{variant:component_library.RN.PRIMARY,size:component_library.Gt.LG,onClick:()=>__webpack_require__.g.platform.openTab({url:"https://google.com/chrome"})},this.context.t("downloadGoogleChrome")))}renderHeader(){return react.createElement(component_library.xu,{className:"hw-connect__header",display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,alignItems:design_system.g1.center},react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,justifyContent:design_system.E0.center,alignItems:design_system.g1.center,className:"hw-connect__header__title-wrapper",marginTop:6},react.createElement(component_library.xv,{variant:design_system.rK.headingMd,as:"h3",fontWeight:design_system.U9.Bold,marginLeft:"auto"},this.context.t("hardwareWallets")),react.createElement(component_library.Ei,{iconName:component_library.uH.Close,ariaLabel:this.context.t("close"),onClick:this.props.onCancel,size:component_library.hp.Sm,marginLeft:"auto","data-testid":"hardware-connect-close-btn"})),react.createElement(component_library.xv,{className:"hw-connect__header__msg",variant:design_system.rK.bodyMd,as:"h5",marginTop:5,marginBottom:3},this.context.t("hardwareWalletsMsg")))}renderTutorialSteps(){switch(this.state.selectedDevice){case hardware_wallets._2.ledger:return this.renderLedgerTutorialSteps();case hardware_wallets._2.trezor:return this.renderTrezorTutorialSteps();case hardware_wallets._2.lattice:return this.renderLatticeTutorialSteps();case hardware_wallets._2.qr:return this.renderQRHardwareWalletSteps();default:return""}}renderLedgerTutorialSteps(){const steps=[];return this.props.ledgerTransportType===hardware_wallets.fR.live&&steps.push({renderButtons:!1,title:this.context.t("step1LedgerWallet"),message:this.context.t("step1LedgerWalletMsg",[react.createElement("a",{className:"hw-connect__msg-link",href:"https://www.ledger.com/ledger-live",rel:"noopener noreferrer",target:"_blank",key:"ledger-live-app-link"},this.context.t("ledgerLiveApp"))])}),steps.push({renderButtons:!0,asset:"plug-in-wallet",dimensions:{width:"225px",height:"75px"},title:this.context.t("step2LedgerWallet"),message:this.context.t("step2LedgerWalletMsg",[react.createElement("a",{className:"hw-connect__msg-link",href:zendesk_url.Z.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"ledger-support-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}),react.createElement("div",{className:"hw-tutorial"},steps.map(((step,index)=>react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,alignItems:design_system.g1.center,className:"hw-connect",key:index},react.createElement("h3",{className:"hw-connect__title"},step.title),step.renderButtons?react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,justifyContent:design_system.E0.center,marginBottom:2},react.createElement(component_library.zx,{className:"hw-connect__external-btn-first",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked Ledger Buy Now"}),openWindow(hardware_wallets.gJ.ledger)}},this.context.t("buyNow")),react.createElement(component_library.zx,{className:"hw-connect__external-btn",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked Ledger Tutorial"}),openWindow(hardware_wallets.HT.ledger)}},this.context.t("tutorial"))):null,react.createElement("p",{className:"hw-connect__msg"},step.message),step.asset&&react.createElement("img",_extends({className:"hw-connect__step-asset",src:`images/${step.asset}.svg`},step.dimensions,{alt:""}))))))}renderLatticeTutorialSteps(){const steps=[{asset:"connect-lattice",dimensions:{width:"225px",height:"75px"},title:this.context.t("step1LatticeWallet"),message:this.context.t("step1LatticeWalletMsg",[react.createElement("a",{className:"hw-connect__msg-link",href:zendesk_url.Z.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"lattice-setup-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}];return react.createElement("div",{className:"hw-tutorial"},steps.map(((step,index)=>react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,alignItems:design_system.g1.center,className:"hw-connect",key:index},react.createElement("h3",{className:"hw-connect__title"},step.title),react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,justifyContent:design_system.E0.center,marginBottom:2},react.createElement(component_library.zx,{className:"hw-connect__external-btn-first",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked GridPlus Buy Now"}),openWindow(hardware_wallets.gJ.gridplus)}},this.context.t("buyNow")),react.createElement(component_library.zx,{className:"hw-connect__external-btn",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked GidPlus Tutorial"}),openWindow(hardware_wallets.HT.gridplus)}},this.context.t("tutorial"))),react.createElement("p",{className:"hw-connect__msg"},step.message),step.asset&&react.createElement("img",_extends({className:"hw-connect__step-asset",src:`images/${step.asset}.svg`},step.dimensions,{alt:""}))))))}renderTrezorTutorialSteps(){const steps=[{asset:"plug-in-wallet",dimensions:{width:"225px",height:"75px"},title:this.context.t("step1TrezorWallet"),message:this.context.t("step1TrezorWalletMsg",[react.createElement("a",{className:"hw-connect__msg-link",href:zendesk_url.Z.HARDWARE_CONNECTION,rel:"noopener noreferrer",target:"_blank",key:"trezor-support-link"},this.context.t("hardwareWalletSupportLinkConversion"))])}];return react.createElement("div",{className:"hw-tutorial"},steps.map(((step,index)=>react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,alignItems:design_system.g1.center,className:"hw-connect",key:index},react.createElement("h3",{className:"hw-connect__title"},step.title),react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,justifyContent:design_system.E0.center,marginBottom:2},react.createElement(component_library.zx,{className:"hw-connect__external-btn-first",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked Trezor Buy Now"}),openWindow(hardware_wallets.gJ.trezor)}},this.context.t("buyNow")),react.createElement(component_library.zx,{className:"hw-connect__external-btn",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked Trezor Tutorial"}),openWindow(hardware_wallets.HT.trezor)}},this.context.t("tutorial"))),react.createElement("p",{className:"hw-connect__msg"},step.message),step.asset&&react.createElement("img",_extends({className:"hw-connect__step-asset",src:`images/${step.asset}.svg`},step.dimensions,{alt:""}))))))}renderQRHardwareWalletSteps(){const steps=[];return steps.push({title:this.context.t("QRHardwareWalletSteps1Title"),message:this.context.t("QRHardwareWalletSteps1Description")},{message:react.createElement(react.Fragment,null,react.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("keystone")),react.createElement(component_library.zx,{className:"hw-connect__external-btn-first",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked Keystone Learn More"}),openWindow(hardware_wallets.gJ.keystone)}},this.context.t("learnMoreKeystone")),react.createElement(component_library.zx,{className:"hw-connect__external-btn",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked Keystone Tutorial"}),openWindow(hardware_wallets.HT.keystone)}},this.context.t("tutorial")))},{message:react.createElement(react.Fragment,null,react.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("airgapVault")),react.createElement(component_library.zx,{className:"hw-connect__external-btn-first",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked AirGap Vault Buy Now"}),openWindow(hardware_wallets.gJ.airgap)}},this.context.t("downloadNow")),react.createElement(component_library.zx,{className:"hw-connect__external-btn",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked AirGap Vault Tutorial"}),openWindow(hardware_wallets.HT.airgap)}},this.context.t("tutorial")))},{message:react.createElement(react.Fragment,null,react.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("coolWallet")),react.createElement(component_library.zx,{className:"hw-connect__external-btn-first",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked CoolWallet Buy Now"}),openWindow(hardware_wallets.gJ.coolwallet)}},this.context.t("buyNow")),react.createElement(component_library.zx,{className:"hw-connect__external-btn",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked CoolWallet Tutorial"}),openWindow(hardware_wallets.HT.coolwallet)}},this.context.t("tutorial")))},{message:react.createElement(react.Fragment,null,react.createElement("p",{className:"hw-connect__QR-subtitle"},this.context.t("dcent")),react.createElement(component_library.zx,{className:"hw-connect__external-btn-first",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked DCent Buy Now"}),openWindow(hardware_wallets.gJ.dcent)}},this.context.t("buyNow")),react.createElement(component_library.zx,{className:"hw-connect__external-btn",variant:component_library.RN.SECONDARY,onClick:()=>{this.context.trackEvent({category:metametrics.ci.Navigation,event:"Clicked DCent Tutorial"}),openWindow(hardware_wallets.HT.dcent)}},this.context.t("tutorial")))},{message:this.context.t("QRHardwareWalletSteps2Description")},{asset:"qrcode-wallet-demo",dimensions:{width:"225px",height:"75px"}}),react.createElement("div",{className:"hw-tutorial"},steps.map(((step,index)=>react.createElement("div",{className:"hw-connect",key:index},step.title&&react.createElement("h3",{className:"hw-connect__title"},step.title),react.createElement("div",{className:"hw-connect__msg"},step.message),step.asset&&react.createElement("img",_extends({className:"hw-connect__step-asset",src:`images/${step.asset}.svg`},step.dimensions,{alt:""}))))))}renderConnectScreen(){return react.createElement(component_library.xu,{className:"new-external-account-form",display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,alignItems:design_system.g1.center,justifyContent:design_system.E0.center},this.renderHeader(),this.renderButtons(),this.state.selectedDevice?this.renderTutorialSteps():null,this.renderContinueButton(),this.renderFooter())}render(){return this.props.browserSupported?this.renderConnectScreen():this.renderUnsupportedBrowser()}}_defineProperty(SelectHardware,"contextTypes",{t:prop_types_default().func,trackEvent:prop_types_default().func}),_defineProperty(SelectHardware,"propTypes",{onCancel:prop_types_default().func.isRequired,connectToHardwareWallet:prop_types_default().func.isRequired,browserSupported:prop_types_default().bool.isRequired,ledgerTransportType:prop_types_default().oneOf(Object.values(hardware_wallets.fR))}),SelectHardware.__docgenInfo={description:"",methods:[{name:"shouldShowConnectButton",docblock:null,modifiers:[],params:[],returns:null},{name:"connect",docblock:null,modifiers:[],params:[],returns:null},{name:"renderConnectToTrezorButton",docblock:null,modifiers:[],params:[],returns:null},{name:"renderConnectToLatticeButton",docblock:null,modifiers:[],params:[],returns:null},{name:"renderConnectToLedgerButton",docblock:null,modifiers:[],params:[],returns:null},{name:"renderConnectToQRButton",docblock:null,modifiers:[],params:[],returns:null},{name:"renderButtons",docblock:null,modifiers:[],params:[],returns:null},{name:"renderContinueButton",docblock:null,modifiers:[],params:[],returns:null},{name:"renderFooter",docblock:null,modifiers:[],params:[],returns:null},{name:"renderUnsupportedBrowser",docblock:null,modifiers:[],params:[],returns:null},{name:"renderHeader",docblock:null,modifiers:[],params:[],returns:null},{name:"renderTutorialSteps",docblock:null,modifiers:[],params:[],returns:null},{name:"renderLedgerTutorialSteps",docblock:null,modifiers:[],params:[],returns:null},{name:"renderLatticeTutorialSteps",docblock:null,modifiers:[],params:[],returns:null},{name:"renderTrezorTutorialSteps",docblock:null,modifiers:[],params:[],returns:null},{name:"renderQRHardwareWalletSteps",docblock:null,modifiers:[],params:[],returns:null},{name:"renderConnectScreen",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SelectHardware",props:{onCancel:{description:"",type:{name:"func"},required:!0},connectToHardwareWallet:{description:"",type:{name:"func"},required:!0},browserSupported:{description:"",type:{name:"bool"},required:!0},ledgerTransportType:{description:"",type:{name:"enum",computed:!0,value:"Object.values(LedgerTransportTypes)"},required:!1}},context:{t:{type:{name:"func"},required:!1},trackEvent:{type:{name:"func"},required:!1}}};const select_hardware_stories={title:"Pages/CreateAccount/ConnectHardware/SelectHardware"},DefaultStory=()=>react.createElement(SelectHardware,{onCancel:()=>null,browserSupported:!0,connectToHardwareWallet:selectedDevice=>(0,dist.aD)(`Continue connect to ${selectedDevice}`)(),ledgerTransportType:hardware_wallets.fR.live});DefaultStory.storyName="Default";const BrowserNotSupported=()=>react.createElement(SelectHardware,{onCancel:()=>null,browserSupported:!1,connectToHardwareWallet:()=>{},ledgerTransportType:hardware_wallets.fR.live});DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"() => {\n  return <SelectHardware onCancel={() => null} browserSupported connectToHardwareWallet={selectedDevice => action(`Continue connect to ${selectedDevice}`)()} ledgerTransportType={LedgerTransportTypes.live} />;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}},BrowserNotSupported.parameters={...BrowserNotSupported.parameters,docs:{...null===(_BrowserNotSupported$=BrowserNotSupported.parameters)||void 0===_BrowserNotSupported$?void 0:_BrowserNotSupported$.docs,source:{originalSource:"() => {\n  return <SelectHardware onCancel={() => null} browserSupported={false} connectToHardwareWallet={() => undefined} ledgerTransportType={LedgerTransportTypes.live} />;\n}",...null===(_BrowserNotSupported$2=BrowserNotSupported.parameters)||void 0===_BrowserNotSupported$2||null===(_BrowserNotSupported$2=_BrowserNotSupported$2.docs)||void 0===_BrowserNotSupported$2?void 0:_BrowserNotSupported$2.source}}};const __namedExportsOrder=["DefaultStory","BrowserNotSupported"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"},BrowserNotSupported.__docgenInfo={description:"",methods:[],displayName:"BrowserNotSupported"}}}]);