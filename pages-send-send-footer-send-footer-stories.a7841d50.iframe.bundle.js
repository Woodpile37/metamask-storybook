"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[8067],{"./ui/pages/send/send-footer/send-footer.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>send_footer_stories});var _DefaultStory$paramet,_DefaultStory$paramet2,react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),page_container_footer=__webpack_require__("./ui/components/ui/page-container/page-container-footer/index.js"),routes=__webpack_require__("./ui/helpers/constants/routes.ts"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),send=__webpack_require__("./ui/ducks/send/index.js"),send_constants=__webpack_require__("./ui/pages/send/send.constants.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SendFooter extends react.Component{onCancel(){const{cancelTx,draftTransactionID,history,mostRecentOverviewPage,resetSendState,sendStage}=this.props;draftTransactionID&&cancelTx({id:draftTransactionID}),resetSendState();const nextRoute=sendStage===send.JM.EDIT?routes.QO:mostRecentOverviewPage;history.push(nextRoute)}async onSubmit(event){event.preventDefault();const{sign,history}=this.props,{trackEvent}=this.context,promise=sign();Promise.resolve(promise).then((()=>{trackEvent({category:metametrics.ci.Transactions,event:"Complete",properties:{action:"Edit Screen",legacy_event:!0}}),history.push(routes.zq)}))}componentDidUpdate(prevProps){const{sendErrors}=this.props,{trackEvent}=this.context;if(Object.keys(sendErrors).length>0&&!1===(0,lodash.isEqual)(sendErrors,prevProps.sendErrors)){const errorField=Object.keys(sendErrors).find((key=>sendErrors[key])),errorMessage=sendErrors[errorField];trackEvent({category:metametrics.ci.Transactions,event:"Error",properties:{action:"Edit Screen",legacy_event:!0,errorField,errorMessage}})}}render(){const{t}=this.context,{sendStage,sendErrors}=this.props;return react.createElement(page_container_footer.Z,{onCancel:()=>this.onCancel(),onSubmit:e=>this.onSubmit(e),disabled:this.props.disabled&&sendErrors.gasFee!==send_constants.uu,cancelText:sendStage===send.JM.EDIT?t("reject"):t("cancel")})}}_defineProperty(SendFooter,"propTypes",{resetSendState:prop_types_default().func,disabled:prop_types_default().bool.isRequired,history:prop_types_default().object,sign:prop_types_default().func,sendStage:prop_types_default().string,sendErrors:prop_types_default().object,mostRecentOverviewPage:prop_types_default().string.isRequired,cancelTx:prop_types_default().func,draftTransactionID:prop_types_default().string}),_defineProperty(SendFooter,"contextTypes",{t:prop_types_default().func,trackEvent:prop_types_default().func}),SendFooter.__docgenInfo={description:"",methods:[{name:"onCancel",docblock:null,modifiers:[],params:[],returns:null},{name:"onSubmit",docblock:null,modifiers:["async"],params:[{name:"event",type:null}],returns:null}],displayName:"SendFooter",props:{resetSendState:{description:"",type:{name:"func"},required:!1},disabled:{description:"",type:{name:"bool"},required:!0},history:{description:"",type:{name:"object"},required:!1},sign:{description:"",type:{name:"func"},required:!1},sendStage:{description:"",type:{name:"string"},required:!1},sendErrors:{description:"",type:{name:"object"},required:!1},mostRecentOverviewPage:{description:"",type:{name:"string"},required:!0},cancelTx:{description:"",type:{name:"func"},required:!1},draftTransactionID:{description:"",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!1},trackEvent:{type:{name:"func"},required:!1}}};const send_footer_stories={title:"Pages/Send/SendFooter",argTypes:{clearSend:{action:"clearSend"},sign:{action:"sign"},from:{control:"object"},disabled:{control:"boolean"},mostRecentOverviewPage:{control:"text"},sendErrors:{control:"object"},history:{action:"history"},resetSendState:{action:"resetSendState"}}},DefaultStory=args=>react.createElement(SendFooter,args);DefaultStory.storyName="Default",DefaultStory.args={from:{address:""},disabled:!1,mostRecentOverviewPage:"",sendErrors:{}},DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => {\n  return <SendFooter {...args} />;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}},"./ui/components/ui/page-container/page-container-footer/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>PageContainerFooter});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),ui_button=__webpack_require__("./ui/components/ui/button/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class PageContainerFooter extends react.Component{render(){const{children,onCancel,cancelText,onSubmit,submitText,disabled,submitButtonType,hideCancel,cancelButtonType,buttonSizeLarge=!1,footerClassName,footerButtonClassName}=this.props;return react.createElement("div",{className:classnames_default()("page-container__footer",footerClassName)},react.createElement("footer",null,!hideCancel&&react.createElement(ui_button.Z,{type:cancelButtonType||"secondary",large:buttonSizeLarge,className:classnames_default()("page-container__footer-button","page-container__footer-button__cancel",footerButtonClassName),onClick:e=>onCancel(e),"data-testid":"page-container-footer-cancel"},cancelText||this.context.t("cancel")),react.createElement(ui_button.Z,{type:submitButtonType||"primary",large:buttonSizeLarge,className:classnames_default()("page-container__footer-button",footerButtonClassName),disabled,onClick:e=>onSubmit(e),"data-testid":"page-container-footer-next"},submitText||this.context.t("next"))),children&&react.createElement("div",{className:"page-container__footer-secondary"},children))}}_defineProperty(PageContainerFooter,"propTypes",{children:prop_types_default().node,onCancel:prop_types_default().func,cancelText:prop_types_default().string,cancelButtonType:prop_types_default().string,onSubmit:prop_types_default().func,submitText:prop_types_default().string,disabled:prop_types_default().bool,submitButtonType:prop_types_default().string,hideCancel:prop_types_default().bool,buttonSizeLarge:prop_types_default().bool,footerClassName:prop_types_default().string,footerButtonClassName:prop_types_default().string}),_defineProperty(PageContainerFooter,"contextTypes",{t:prop_types_default().func}),PageContainerFooter.__docgenInfo={description:"",methods:[],displayName:"PageContainerFooter",props:{children:{description:"",type:{name:"node"},required:!1},onCancel:{description:"",type:{name:"func"},required:!1},cancelText:{description:"",type:{name:"string"},required:!1},cancelButtonType:{description:"",type:{name:"string"},required:!1},onSubmit:{description:"",type:{name:"func"},required:!1},submitText:{description:"",type:{name:"string"},required:!1},disabled:{description:"",type:{name:"bool"},required:!1},submitButtonType:{description:"",type:{name:"string"},required:!1},hideCancel:{description:"",type:{name:"bool"},required:!1},buttonSizeLarge:{description:"",type:{name:"bool"},required:!1},footerClassName:{description:"",type:{name:"string"},required:!1},footerButtonClassName:{description:"",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!1}}}}}]);