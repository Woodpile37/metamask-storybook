"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[632],{"./ui/components/app/snaps/keyring-snap-removal-warning/keyring-snap-removal-warning.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>keyring_snap_removal_warning_stories});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/@metamask/etherscan-link/dist/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),deprecated=__webpack_require__("./ui/components/component-library/modal-content/deprecated/index.ts"),modal_header_deprecated=__webpack_require__("./ui/components/component-library/modal-header/deprecated/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),info_tooltip=__webpack_require__("./ui/components/ui/info-tooltip/index.js"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),hexstring_utils=__webpack_require__("./shared/modules/hexstring-utils.ts");const KeyringAccountListItem=({account,snapUrl})=>{const t=(0,useI18nContext.C)();return react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Row,justifyContent:design_system.E0.spaceBetween,borderRadius:design_system.cM.MD,borderColor:design_system.kf.borderDefault,padding:3,width:design_system.Sw.Full,"data-testid":"keyring-account-list-item"},react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,width:design_system.Sw.TenTwelfths},react.createElement(component_library.xu,{flexDirection:design_system.Qb.Column,marginBottom:2},react.createElement(component_library.xv,{color:design_system.d9.textMuted},t("keyringAccountName")),react.createElement(component_library.xv,null,account.name)),react.createElement(component_library.xu,{flexDirection:design_system.Qb.Column},react.createElement(component_library.xv,{color:design_system.d9.textMuted},t("keyringAccountPublicAddress")),react.createElement(component_library.xv,{overflowWrap:design_system.mn.Anywhere},(0,hexstring_utils.QG)(account.address)))),react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,justifyContent:design_system.E0.center},react.createElement(component_library.Ei,{ariaLabel:"snap-url-export","data-testid":"keyring-account-link",iconName:component_library.uH.Export,color:design_system.EY.primaryDefault,onClick:()=>{__webpack_require__.g.platform.openTab({url:snapUrl})}})))};try{KeyringAccountListItem.displayName="KeyringAccountListItem",KeyringAccountListItem.__docgenInfo={description:"",displayName:"KeyringAccountListItem",props:{account:{defaultValue:null,description:"",name:"account",required:!0,type:{name:"{ name: string; address: string; }"}},snapUrl:{defaultValue:null,description:"",name:"snapUrl",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/snaps/keyring-snap-removal-warning/keyring-account-list-item.tsx#KeyringAccountListItem"]={docgenInfo:KeyringAccountListItem.__docgenInfo,name:"KeyringAccountListItem",path:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-account-list-item.tsx#KeyringAccountListItem"})}catch(__react_docgen_typescript_loader_error){}function KeyringRemovalSnapWarning({snap,keyringAccounts,onCancel,onClose,onSubmit,onBack,isOpen}){const t=(0,useI18nContext.C)(),[showConfirmation,setShowConfirmation]=(0,react.useState)(!1),[confirmedRemoval,setConfirmedRemoval]=(0,react.useState)(!1),[confirmationInput,setConfirmationInput]=(0,react.useState)(""),[error,setError]=(0,react.useState)(!1),{chainId}=(0,es.v9)(metamask.Vu);(0,react.useEffect)((()=>{setShowConfirmation(0===keyringAccounts.length)}),[keyringAccounts]);return react.createElement(react.Fragment,null,react.createElement(component_library.u_,{isOpen,onClose},react.createElement(component_library.ZA,null),react.createElement(deprecated.h,{modalDialogProps:{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,gap:4}},react.createElement(modal_header_deprecated.x,{onBack:()=>{showConfirmation?setShowConfirmation(!1):onBack()},onClose:()=>{setShowConfirmation(!1),onClose()}},t("removeSnap")),!1===showConfirmation?react.createElement(react.Fragment,null,react.createElement(component_library.wB,{severity:component_library.eV.Warning,className:""},t("backupKeyringSnapReminder")),react.createElement(component_library.xu,{display:design_system.sS.Flex,justifyContent:design_system.E0.spaceBetween},react.createElement(component_library.xv,null,t("removeKeyringSnap")),react.createElement(info_tooltip.Z,{contentText:t("removeKeyringSnapToolTip"),position:"top"})),keyringAccounts.map(((account,index)=>react.createElement(KeyringAccountListItem,{key:index,account,snapUrl:(0,dist.getAccountLink)(account.address,chainId)})))):react.createElement(react.Fragment,null,react.createElement(component_library.xu,{display:design_system.sS.Flex,flexDirection:design_system.Qb.Column,marginTop:6},react.createElement(component_library.wB,{severity:component_library.eV.Warning,className:"",marginBottom:4},t("backupKeyringSnapReminder")),react.createElement(component_library.xv,{marginBottom:4},t("keyringSnapRemoveConfirmation",[react.createElement(component_library.xv,{key:"keyringSnapRemoveConfirmation2",fontWeight:design_system.U9.Bold,as:"span"},snap.manifest.proposedName)])),react.createElement(component_library.nv,{marginBottom:4,value:confirmationInput,onChange:e=>{var input;setConfirmationInput(e.target.value),setConfirmedRemoval((input=e.target.value,setError(!1),input===snap.manifest.proposedName||(setError(!0),!1)))},error,inputProps:{"data-testid":"remove-snap-confirmation-input"}}))),react.createElement(component_library.xu,{width:design_system.Sw.Full,display:design_system.sS.Flex,gap:4},react.createElement(component_library.zx,{block:!0,variant:component_library.Wu.Secondary,size:component_library.qE.Lg,onClick:onCancel},t("cancel")),react.createElement(component_library.zx,{block:!0,size:component_library.qE.Lg,id:"popoverRemoveSnapButton",danger:showConfirmation,disabled:showConfirmation&&!confirmedRemoval,onClick:async()=>{showConfirmation?confirmedRemoval&&onSubmit():setShowConfirmation(!0)}},t(showConfirmation?"removeSnap":"continue"))))))}try{keyringsnapremovalwarning.displayName="keyringsnapremovalwarning",keyringsnapremovalwarning.__docgenInfo={description:"",displayName:"keyringsnapremovalwarning",props:{snap:{defaultValue:null,description:"",name:"snap",required:!0,type:{name:"Snap"}},keyringAccounts:{defaultValue:null,description:"",name:"keyringAccounts",required:!0,type:{name:"{ name: string; address: string; }[]"}},onCancel:{defaultValue:null,description:"",name:"onCancel",required:!0,type:{name:"() => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"() => void"}},onBack:{defaultValue:null,description:"",name:"onBack",required:!0,type:{name:"() => void"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["ui/components/app/snaps/keyring-snap-removal-warning/keyring-snap-removal-warning.tsx#keyringsnapremovalwarning"]={docgenInfo:keyringsnapremovalwarning.__docgenInfo,name:"keyringsnapremovalwarning",path:"ui/components/app/snaps/keyring-snap-removal-warning/keyring-snap-removal-warning.tsx#keyringsnapremovalwarning"})}catch(__react_docgen_typescript_loader_error){}var _DefaultStory$paramet,_DefaultStory$paramet2;const keyring_snap_removal_warning_stories={title:"Components/App/Snaps/KeyringSnapRemovalWarning",component:KeyringRemovalSnapWarning,argTypes:{onCancel:{action:"onCancel"},onSubmit:{action:"onSubmit"},snapName:{control:"text"},snapUrl:{control:"text"},isOpen:{control:"boolean"},keyringAccounts:{control:"array"}},args:{snapName:"ABC Snap",snapUrl:"mock-url",isOpen:!0,keyringAccounts:[{address:"0xec1adf982415d2ef5ec55899b9bfb8bc0f29251b",name:"Test Account 2"}]}},DefaultStory=args=>react.createElement(KeyringRemovalSnapWarning,args);DefaultStory.storyName="Default",DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => <KeyringSnapRemovalWarning {...args} />",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}};const __namedExportsOrder=["DefaultStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"}}}]);