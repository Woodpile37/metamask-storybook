"use strict";(globalThis.webpackChunkmetamask_crx=globalThis.webpackChunkmetamask_crx||[]).push([[1608],{"./ui/pages/send/send-content/send-content.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultStory:()=>DefaultStory,NftStory:()=>NftStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>send_content_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),mock_state=__webpack_require__("./test/data/mock-state.json"),transaction=__webpack_require__("./shared/constants/transaction.ts"),store=__webpack_require__("./ui/store/store.ts"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);class PageContainerContent extends react.Component{render(){return react.createElement("div",{className:"page-container__content"},this.props.children)}}!function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(PageContainerContent,"propTypes",{children:prop_types_default().node.isRequired}),PageContainerContent.__docgenInfo={description:"",methods:[],displayName:"PageContainerContent",props:{children:{description:"",type:{name:"node"},required:!0}}};var dialog=__webpack_require__("./ui/components/ui/dialog/index.js"),actionable_message=__webpack_require__("./ui/components/ui/actionable-message/index.js"),error_keys=__webpack_require__("./ui/helpers/constants/error-keys.js"),common=__webpack_require__("./ui/helpers/constants/common.ts"),i18n=__webpack_require__("./ui/contexts/i18n.js"),gasFee=__webpack_require__("./ui/contexts/gasFee.js"),user_preferenced_currency_display=__webpack_require__("./ui/components/app/user-preferenced-currency-display/index.js"),typography=__webpack_require__("./ui/components/ui/typography/index.js"),ui_button=__webpack_require__("./ui/components/ui/button/index.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),loading_heartbeat=__webpack_require__("./ui/components/ui/loading-heartbeat/index.js"),transaction_detail_item=__webpack_require__("./ui/components/app/transaction-detail-item/index.js"),confirm_gas_display=__webpack_require__("./ui/components/app/confirm-gas-display/index.js"),network=__webpack_require__("./shared/constants/network.ts"),transaction_detail=__webpack_require__("./ui/components/app/transaction-detail/index.js"),selectors=__webpack_require__("./ui/selectors/index.js"),send_constants=__webpack_require__("./ui/pages/send/send.constants.js"),send=__webpack_require__("./ui/ducks/send/index.js"),metamask=__webpack_require__("./ui/ducks/metamask/metamask.js"),actions=__webpack_require__("./ui/store/actions.ts"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts"),metametrics=__webpack_require__("./shared/constants/metametrics.ts"),contexts_metametrics=__webpack_require__("./ui/contexts/metametrics.js"),useRamps=__webpack_require__("./ui/hooks/experiences/useRamps.ts");function GasDisplay({gasError}){var _draftTransaction$amo,_draftTransaction$gas,_editingTransaction$t,_draftTransaction$gas2,_editingTransaction$t2,_editingTransaction$t3,_draftTransaction$gas3,_editingTransaction$t4,_editingTransaction$t5,_draftTransaction$gas4,_draftTransaction$amo2,_draftTransaction$ass,_draftTransaction$ass2,_draftTransaction$ass4;const t=(0,react.useContext)(i18n.OO),dispatch=(0,es.I0)(),{estimateUsed}=(0,gasFee.YJ)(),trackEvent=(0,react.useContext)(contexts_metametrics.Wd),{openBuyCryptoInPdapp}=(0,useRamps.Z)(),providerConfig=(0,es.v9)(metamask.Vu),isTestnet=(0,es.v9)(selectors.$2z),isBuyableChain=(0,es.v9)(selectors.R9W),draftTransaction=(0,es.v9)(send.aP),useCurrencyRateCheck=(0,es.v9)(selectors.nsI),{showFiatInTestnets,useNativeCurrencyAsPrimaryCurrency}=(0,es.v9)(selectors.Izy),unapprovedTxs=(0,es.v9)(selectors.fvg),nativeCurrency=(0,es.v9)(metamask.JK),{chainId}=providerConfig,networkName=network.kW[chainId],isInsufficientTokenError=(null==draftTransaction||null===(_draftTransaction$amo=draftTransaction.amount)||void 0===_draftTransaction$amo?void 0:_draftTransaction$amo.error)===send_constants.pS,editingTransaction=unapprovedTxs[draftTransaction.id],currentNetworkName=networkName||providerConfig.nickname,transactionData={txParams:{gasPrice:null===(_draftTransaction$gas=draftTransaction.gas)||void 0===_draftTransaction$gas?void 0:_draftTransaction$gas.gasPrice,gas:null!=editingTransaction&&editingTransaction.userEditedGasLimit?null==editingTransaction||null===(_editingTransaction$t=editingTransaction.txParams)||void 0===_editingTransaction$t?void 0:_editingTransaction$t.gas:null===(_draftTransaction$gas2=draftTransaction.gas)||void 0===_draftTransaction$gas2?void 0:_draftTransaction$gas2.gasLimit,maxFeePerGas:null!=editingTransaction&&null!==(_editingTransaction$t2=editingTransaction.txParams)&&void 0!==_editingTransaction$t2&&_editingTransaction$t2.maxFeePerGas?null==editingTransaction||null===(_editingTransaction$t3=editingTransaction.txParams)||void 0===_editingTransaction$t3?void 0:_editingTransaction$t3.maxFeePerGas:null===(_draftTransaction$gas3=draftTransaction.gas)||void 0===_draftTransaction$gas3?void 0:_draftTransaction$gas3.maxFeePerGas,maxPriorityFeePerGas:null!=editingTransaction&&null!==(_editingTransaction$t4=editingTransaction.txParams)&&void 0!==_editingTransaction$t4&&_editingTransaction$t4.maxPriorityFeePerGas?null==editingTransaction||null===(_editingTransaction$t5=editingTransaction.txParams)||void 0===_editingTransaction$t5?void 0:_editingTransaction$t5.maxPriorityFeePerGas:null===(_draftTransaction$gas4=draftTransaction.gas)||void 0===_draftTransaction$gas4?void 0:_draftTransaction$gas4.maxPriorityFeePerGas,value:null===(_draftTransaction$amo2=draftTransaction.amount)||void 0===_draftTransaction$amo2?void 0:_draftTransaction$amo2.value,type:draftTransaction.transactionType},userFeeLevel:null==editingTransaction?void 0:editingTransaction.userFeeLevel},{hexMaximumTransactionFee,hexTransactionTotal}=(0,es.v9)((state=>(0,selectors.nfL)(state,transactionData)));let title;var _draftTransaction$ass3;if((null==draftTransaction||null===(_draftTransaction$ass=draftTransaction.asset.details)||void 0===_draftTransaction$ass?void 0:_draftTransaction$ass.standard)===transaction.Yn.ERC721||(null==draftTransaction||null===(_draftTransaction$ass2=draftTransaction.asset.details)||void 0===_draftTransaction$ass2?void 0:_draftTransaction$ass2.standard)===transaction.Yn.ERC1155)title=null==draftTransaction||null===(_draftTransaction$ass3=draftTransaction.asset.details)||void 0===_draftTransaction$ass3?void 0:_draftTransaction$ass3.name;else if((null==draftTransaction||null===(_draftTransaction$ass4=draftTransaction.asset.details)||void 0===_draftTransaction$ass4?void 0:_draftTransaction$ass4.standard)===transaction.Yn.ERC20){var _draftTransaction$ass5;title=`${(0,conversion_utils.Cx)(draftTransaction.amount.value)} ${null==draftTransaction||null===(_draftTransaction$ass5=draftTransaction.asset.details)||void 0===_draftTransaction$ass5?void 0:_draftTransaction$ass5.symbol}`}const primaryTotalTextOverrideMaxAmount=`${title} + ${Number((0,conversion_utils.Cx)(hexMaximumTransactionFee))} ${nativeCurrency}`,showCurrencyRateCheck=useCurrencyRateCheck&&(!isTestnet||showFiatInTestnets);let detailTotal,maxAmount;return"NATIVE"===(null==draftTransaction?void 0:draftTransaction.asset.type)?(detailTotal=react.createElement(box.ZP,{height:design_system.D8.MAX,display:design_system.bA.FLEX,flexDirection:design_system.uM.COLUMN,className:"gas-display__total-value"},react.createElement(loading_heartbeat.Z,{estimateUsed:null==transactionData?void 0:transactionData.userFeeLevel}),react.createElement(user_preferenced_currency_display.Z,{type:common._8,key:"total-detail-value",value:hexTransactionTotal,hideLabel:!useNativeCurrencyAsPrimaryCurrency})),maxAmount=react.createElement(user_preferenced_currency_display.Z,{type:common._8,key:"total-max-amount",value:(0,conversion_utils.Mc)(draftTransaction.amount.value,hexMaximumTransactionFee),hideLabel:!useNativeCurrencyAsPrimaryCurrency})):useNativeCurrencyAsPrimaryCurrency&&(detailTotal=primaryTotalTextOverrideMaxAmount,maxAmount=primaryTotalTextOverrideMaxAmount),react.createElement(react.Fragment,null,react.createElement(box.ZP,{className:"gas-display"},react.createElement(transaction_detail.Z,{userAcknowledgedGasMissing:!1,rows:[react.createElement(confirm_gas_display.D,{key:"gas-display"}),(gasError||isInsufficientTokenError)&&react.createElement(transaction_detail_item.Z,{key:"gas-display-total-item",detailTitle:t("total"),detailText:showCurrencyRateCheck&&react.createElement(box.ZP,{height:design_system.D8.MAX,display:design_system.bA.FLEX,flexDirection:design_system.uM.COLUMN,className:"gas-display__total-value"},react.createElement(loading_heartbeat.Z,{estimateUsed:null==transactionData?void 0:transactionData.userFeeLevel}),react.createElement(user_preferenced_currency_display.Z,{type:common.Vb,key:"total-detail-text",value:hexTransactionTotal,hideLabel:Boolean(useNativeCurrencyAsPrimaryCurrency)})),detailTotal,subTitle:t("transactionDetailGasTotalSubtitle"),subText:react.createElement(box.ZP,{height:design_system.D8.MAX,display:design_system.bA.FLEX,flexDirection:design_system.uM.COLUMN,className:"gas-display__total-amount"},react.createElement(loading_heartbeat.Z,{estimateUsed:(null==transactionData?void 0:transactionData.userFeeLevel)??estimateUsed}),react.createElement("strong",{key:"editGasSubTextAmountLabel"},t("editGasSubTextAmountLabel"))," ",maxAmount)})]})),(gasError||isInsufficientTokenError)&&currentNetworkName&&react.createElement(box.ZP,{className:"gas-display__warning-message","data-testid":"gas-warning-message"},react.createElement(box.ZP,{paddingTop:0,paddingRight:4,paddingBottom:4,paddingLeft:4,className:"gas-display__confirm-approve-content__warning"},react.createElement(actionable_message.Z,{message:isBuyableChain&&"NATIVE"===draftTransaction.asset.type?react.createElement(typography.Z,{variant:design_system.TypographyVariant.H7,align:"left"},t("insufficientCurrencyBuyOrReceive",[nativeCurrency,currentNetworkName,react.createElement(ui_button.Z,{type:"inline",className:"confirm-page-container-content__link",onClick:()=>{openBuyCryptoInPdapp(),trackEvent({event:metametrics.AW.NavBuyButtonClicked,category:metametrics.ci.Navigation,properties:{location:"Gas Warning Insufficient Funds",text:"Buy"}})},key:`${nativeCurrency}-buy-button`},t("buyAsset",[nativeCurrency])),react.createElement(ui_button.Z,{type:"inline",className:"gas-display__link",onClick:()=>dispatch((0,actions.K4b)({name:"ACCOUNT_DETAILS"})),key:"receive-button"},t("deposit"))])):react.createElement(typography.Z,{variant:design_system.TypographyVariant.H7,align:"left"},t("insufficientCurrencyBuyOrReceive",[nativeCurrency,currentNetworkName,`${t("buyAsset",[nativeCurrency])}`,react.createElement(ui_button.Z,{type:"inline",className:"gas-display__link",onClick:()=>dispatch((0,actions.K4b)({name:"ACCOUNT_DETAILS"})),key:"receive-button"},t("deposit"))])),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger"}))))}GasDisplay.propTypes={gasError:prop_types_default().string},GasDisplay.__docgenInfo={description:"",methods:[],displayName:"GasDisplay",props:{gasError:{description:"",type:{name:"string"},required:!1}}};var send_row_wrapper=__webpack_require__("./ui/pages/send/send-content/send-row-wrapper/index.js"),user_preferenced_currency_input_container=__webpack_require__("./ui/components/app/user-preferenced-currency-input/user-preferenced-currency-input.container.js"),user_preferenced_token_input_component=__webpack_require__("./ui/components/app/user-preferenced-token-input/user-preferenced-token-input.component.js");const UserPreferencedTokenInputContainer=(0,es.$j)((state=>{const{useNativeCurrencyAsPrimaryCurrency}=(0,selectors.Izy)(state);return{useNativeCurrencyAsPrimaryCurrency}}))(user_preferenced_token_input_component.Z);UserPreferencedTokenInputContainer.propTypes={token:prop_types_default().shape({address:prop_types_default().string.isRequired,decimals:prop_types_default().number,symbol:prop_types_default().string}).isRequired};const user_preferenced_token_input_container=UserPreferencedTokenInputContainer;var component_library=__webpack_require__("./ui/components/component-library/index.ts"),unit_input=__webpack_require__("./ui/components/ui/unit-input/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js");function AmountMaxButton(){const isDraftTransactionInvalid=(0,es.v9)(send.G1),maxModeOn=(0,es.v9)(send.Lt),dispatch=(0,es.I0)(),trackEvent=(0,react.useContext)(contexts_metametrics.Wd),t=(0,useI18nContext.C)(),disabled=isDraftTransactionInvalid;return react.createElement("button",{className:"send-v2__amount-max",disabled,onClick:()=>{trackEvent({event:'Clicked "Amount Max"',category:metametrics.ci.Transactions,properties:{action:"Edit Screen",legacy_event:!0}}),dispatch((0,send.pq)())}},react.createElement("input",{type:"checkbox",checked:maxModeOn,readOnly:!0}),react.createElement("div",{className:classnames_default()("send-v2__amount-max__button",{"send-v2__amount-max__button__disabled":disabled})},t("max")))}function send_amount_row_component_defineProperty(obj,key,value){return(key=function send_amount_row_component_toPropertyKey(arg){var key=function send_amount_row_component_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}AmountMaxButton.__docgenInfo={description:"",methods:[],displayName:"AmountMaxButton"};class SendAmountRow extends react.Component{constructor(...args){super(...args),send_amount_row_component_defineProperty(this,"handleChange",(newAmount=>{this.props.updateSendAmount(newAmount)}))}renderInput(){const{amount,inError,asset}=this.props;return asset.type===transaction.h3.token?react.createElement(user_preferenced_token_input_container,{error:inError,onChange:this.handleChange,token:asset.details,value:amount}):react.createElement(user_preferenced_currency_input_container.Z,{error:inError,onChange:this.handleChange,hexValue:amount})}render(){const{inError,asset}=this.props;return asset.type===transaction.h3.NFT&&asset.details.standard===transaction.Yn.ERC721?null:asset.type===transaction.h3.NFT&&asset.details.standard===transaction.Yn.ERC1155?react.createElement(component_library.xu,null,react.createElement(send_row_wrapper.Z,{label:`${this.context.t("amount")}:`,showError:inError,errorType:"amount"},react.createElement(unit_input.Z,{onChange:this.handleChange,type:"number",min:"0"},react.createElement(component_library.xu,{className:"currency-input__conversion-component"},`${this.context.t("balance")}:`," ",`${asset.details.balance} `,`${this.context.t("tokens").toLowerCase()}`,asset.details.symbol??"")))):react.createElement(send_row_wrapper.Z,{label:`${this.context.t("amount")}:`,showError:inError,errorType:"amount"},react.createElement(AmountMaxButton,{inError}),this.renderInput())}}send_amount_row_component_defineProperty(SendAmountRow,"propTypes",{amount:prop_types_default().string,inError:prop_types_default().bool,asset:prop_types_default().object,updateSendAmount:prop_types_default().func}),send_amount_row_component_defineProperty(SendAmountRow,"contextTypes",{t:prop_types_default().func}),SendAmountRow.__docgenInfo={description:"",methods:[{name:"handleChange",docblock:null,modifiers:[],params:[{name:"newAmount",type:null}],returns:null},{name:"renderInput",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SendAmountRow",props:{amount:{description:"",type:{name:"string"},required:!1},inError:{description:"",type:{name:"bool"},required:!1},asset:{description:"",type:{name:"object"},required:!1},updateSendAmount:{description:"",type:{name:"func"},required:!1}},context:{t:{type:{name:"func"},required:!1}}};const send_amount_row_container=(0,es.$j)((function send_amount_row_container_mapStateToProps(state){return{amount:(0,send.KQ)(state),inError:(0,send.MH)(state),asset:(0,send.$K)(state)}}),(function mapDispatchToProps(dispatch){return{updateSendAmount:newAmount=>dispatch((0,send.xY)(newAmount))}}))(SendAmountRow);var send_hex_data_row_component=__webpack_require__("./ui/pages/send/send-content/send-hex-data-row/send-hex-data-row.component.js");const send_hex_data_row_container=(0,es.$j)((function send_hex_data_row_container_mapStateToProps(state){return{data:(0,send.AW)(state)}}),(function send_hex_data_row_container_mapDispatchToProps(dispatch){return{updateSendHexData:data=>dispatch((0,send.J4)(data))}}))(send_hex_data_row_component.Z);var send_asset_row_component=__webpack_require__("./ui/pages/send/send-content/send-asset-row/send-asset-row.component.js");const send_asset_row_container=(0,es.$j)((function send_asset_row_container_mapStateToProps(state){return{tokens:state.metamask.tokens,selectedAddress:state.metamask.selectedAddress,nfts:(0,metamask.J8)(state),collections:(0,metamask._B)(state),sendAsset:(0,send.$K)(state),accounts:(0,selectors.Dh7)(state),nativeCurrency:(0,metamask.JK)(state),nativeCurrencyImage:(0,selectors.XqD)(state)}}),(function send_asset_row_container_mapDispatchToProps(dispatch){return{updateSendAsset:({type,details})=>dispatch((0,send.Uq)({type,details}))}}))(send_asset_row_component.Z);var _DefaultStory$paramet,_DefaultStory$paramet2,_NftStory$parameters,_NftStory$parameters2,send_gas_row=__webpack_require__("./ui/pages/send/send-content/send-gas-row/index.js");function send_content_component_defineProperty(obj,key,value){return(key=function send_content_component_toPropertyKey(arg){var key=function send_content_component_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SendContent extends react.Component{render(){const{warning,error,gasIsExcessive,isEthGasPrice,noGasPrice,networkOrAccountNotSupports1559,asset,assetError,recipient,recipientWarningAcknowledged,isMultiLayerFeeNetwork}=this.props;let gasError;gasIsExcessive?gasError=error_keys.y4:noGasPrice&&(gasError=error_keys.Vk);const showHexData=this.props.showHexData&&asset.type!==transaction.h3.token&&asset.type!==transaction.h3.NFT,showKnownRecipientWarning="knownAddressRecipient"===recipient.warning;return react.createElement(PageContainerContent,null,react.createElement("div",{className:"send-v2__form"},assetError?this.renderError(assetError):null,isEthGasPrice?this.renderWarning(error_keys.Tb):null,error?this.renderError(error):null,warning?this.renderWarning():null,showKnownRecipientWarning&&!recipientWarningAcknowledged?this.renderRecipientWarning():null,react.createElement(send_asset_row_container,null),react.createElement(send_amount_row_container,null),networkOrAccountNotSupports1559?react.createElement(send_gas_row.Z,null):null,showHexData?react.createElement(send_hex_data_row_container,null):null,!isMultiLayerFeeNetwork&&react.createElement(GasDisplay,{gasError})))}renderWarning(gasWarning=""){const{t}=this.context,{warning}=this.props;return react.createElement(dialog.Z,{type:"warning",className:"send__error-dialog"},t(""===gasWarning?warning:gasWarning))}renderRecipientWarning(){const{acknowledgeRecipientWarning}=this.props,{t}=this.context;return react.createElement("div",{className:"send__warning-container","data-testid":"send-warning"},react.createElement(actionable_message.Z,{type:"danger",useIcon:!0,iconFillColor:"var(--color-error-default)",primaryActionV2:{label:t("tooltipApproveButton"),onClick:acknowledgeRecipientWarning},message:t("sendingToTokenContractWarning",[react.createElement("a",{key:"contractWarningSupport",target:"_blank",rel:"noopener noreferrer",className:"send__warning-container__link",href:common.mx},t("learnMoreUpperCase"))]),roundedButtons:!0}))}renderError(error){const{t}=this.context;return react.createElement(dialog.Z,{type:"error",className:"send__error-dialog"},t(error))}}send_content_component_defineProperty(SendContent,"contextTypes",{t:prop_types_default().func}),send_content_component_defineProperty(SendContent,"propTypes",{showHexData:prop_types_default().bool,warning:prop_types_default().string,error:prop_types_default().string,gasIsExcessive:prop_types_default().bool.isRequired,isEthGasPrice:prop_types_default().bool,noGasPrice:prop_types_default().bool,networkOrAccountNotSupports1559:prop_types_default().bool,asset:prop_types_default().object,assetError:prop_types_default().string,recipient:prop_types_default().object,acknowledgeRecipientWarning:prop_types_default().func,recipientWarningAcknowledged:prop_types_default().bool,isMultiLayerFeeNetwork:prop_types_default().bool}),SendContent.__docgenInfo={description:"",methods:[{name:"renderWarning",docblock:null,modifiers:[],params:[{name:"gasWarning",type:null}],returns:null},{name:"renderRecipientWarning",docblock:null,modifiers:[],params:[],returns:null},{name:"renderError",docblock:null,modifiers:[],params:[{name:"error",type:null}],returns:null}],displayName:"SendContent",props:{showHexData:{description:"",type:{name:"bool"},required:!1},warning:{description:"",type:{name:"string"},required:!1},error:{description:"",type:{name:"string"},required:!1},gasIsExcessive:{description:"",type:{name:"bool"},required:!0},isEthGasPrice:{description:"",type:{name:"bool"},required:!1},noGasPrice:{description:"",type:{name:"bool"},required:!1},networkOrAccountNotSupports1559:{description:"",type:{name:"bool"},required:!1},asset:{description:"",type:{name:"object"},required:!1},assetError:{description:"",type:{name:"string"},required:!1},recipient:{description:"",type:{name:"object"},required:!1},acknowledgeRecipientWarning:{description:"",type:{name:"func"},required:!1},recipientWarningAcknowledged:{description:"",type:{name:"bool"},required:!1},isMultiLayerFeeNetwork:{description:"",type:{name:"bool"},required:!1}},context:{t:{type:{name:"func"},required:!1}}};const send_content_stories_store=(0,store.Z)({...mock_state,send:{currentTransactionUUID:"1-tx",draftTransactions:{"1-tx":{asset:{balance:"0x1158e460913d00000",details:{name:"Catnip Spicywright From The Artist Known As",tokenId:"1124157112415711241571124157112415711241571124157",address:"0x06012c8cf97bead5deae237070f9587f8e7a266d",image:"./catnip-spicywright.png",imageThumbnail:"https://www.cryptokitties.co/.../1124157",description:"Good day. My name is Catnip Spicywight, which got me teased a lot in high school. If I want to put low fat mayo all over my hamburgers, I shouldn't have to answer to anyone about it, am I right? One time I beat Arlene in an arm wrestle.",lastSale:{event_timestamp:"2023-01-18T21:51:23",total_price:"4900000000000000",payment_token:{symbol:"ETH"}}},error:null,type:transaction.h3.NFT},fromAccount:{address:"0x000000"}}}}}),send_content_stories={title:"Pages/Send/SendContent",argsTypes:{showHexData:{control:"boolean"},isOwnedAccount:{control:"boolean"},contact:{control:"object"},noGasPrice:{control:"boolean"},isEthGasPrice:{control:"boolean"},gasIsExcessive:{control:"boolean"},networkOrAccountNotSupports1559:{control:"boolean"},getIsBalanceInsufficient:{control:"boolean"},error:{control:"text"},warning:{control:"text"},to:{control:"text"},assetError:{control:"text"},asset:{control:"object"},recipient:{control:"object"}}},DefaultStory=args=>react.createElement("div",{style:{width:"400px"}},react.createElement(SendContent,args));DefaultStory.storyName="Default",DefaultStory.args={showHexData:!1,isOwnedAccount:!0,noGasPrice:!1,isEthGasPrice:!1,gasIsExcessive:!1,error:"connecting",warning:"connecting",asset:{type:"NATIVE"},recipient:{mode:"CONTACT_LIST",userInput:"0x31A2764925BD47CCBd57b2F277702dB46e9C5F66",address:"0x31A2764925BD47CCBd57b2F277702dB46e9C5F66",nickname:"John Doe",error:null,warning:null},contact:{name:"testName"},networkOrAccountNotSupports1559:!1,getIsBalanceInsufficient:!1,to:"string to",assetError:null};const NftStory=args=>react.createElement("div",{style:{width:"400px"}},react.createElement(SendContent,args));NftStory.storyName="NFT",NftStory.decorators=[story=>react.createElement(es.zt,{store:send_content_stories_store},story())],NftStory.args={showHexData:!1,isOwnedAccount:!0,noGasPrice:!1,isEthGasPrice:!1,gasIsExcessive:!1,error:"connecting",warning:"connecting",asset:{type:"NFT"},recipient:{mode:"CONTACT_LIST",userInput:"0x31A2764925BD47CCBd57b2F277702dB46e9C5F66",address:"0x31A2764925BD47CCBd57b2F277702dB46e9C5F66",nickname:"John Doe",error:null,warning:null},sendAsset:{balance:"0x1",details:{address:"0xDc7382Eb0Bc9C352A4CbA23c909bDA01e0206414",tokenId:"2",standard:"ERC721",tokenURI:"data:application/json;base64,eyJuYW1lIjogIlRlc3QgRGFwcCBDb2xsZWN0aWJsZXMgIzIiLCAiZGVzY3JpcHRpb24iOiAiVGVzdCBEYXBwIENvbGxlY3RpYmxlcyBmb3IgdGVzdGluZy4iLCAiaW1hZ2UiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCb1pXbG5hSFE5SWpNMU1DSWdkMmxrZEdnOUlqTTFNQ0lnZG1sbGQwSnZlRDBpTUNBd0lERXdNQ0F4TURBaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK1BHUmxabk0rUEhCaGRHZ2dhV1E5SWsxNVVHRjBhQ0lnWm1sc2JEMGlibTl1WlNJZ2MzUnliMnRsUFNKeVpXUWlJR1E5SWsweE1DdzVNQ0JST1RBc09UQWdPVEFzTkRVZ1VUa3dMREV3SURVd0xERXdJRkV4TUN3eE1DQXhNQ3cwTUNCUk1UQXNOekFnTkRVc056QWdVVGN3TERjd0lEYzFMRFV3SWlBdlBqd3ZaR1ZtY3o0OGRHVjRkRDQ4ZEdWNGRGQmhkR2dnYUhKbFpqMGlJMDE1VUdGMGFDSStVWFZwWTJzZ1luSnZkMjRnWm05NElHcDFiWEJ6SUc5MlpYSWdkR2hsSUd4aGVua2daRzluTGp3dmRHVjRkRkJoZEdnK1BDOTBaWGgwUGp3dmMzWm5QZz09IiwgImF0dHJpYnV0ZXMiOiBbeyJ0cmFpdF90eXBlIjogIlRva2VuIElkIiwgInZhbHVlIjogIjIifV19",symbol:"TDC",name:"TestDappCollectibles",image:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjM1MCIgd2lkdGg9IjM1MCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdGggaWQ9Ik15UGF0aCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZWQiIGQ9Ik0xMCw5MCBROTAsOTAgOTAsNDUgUTkwLDEwIDUwLDEwIFExMCwxMCAxMCw0MCBRMTAsNzAgNDUsNzAgUTcwLDcwIDc1LDUwIiAvPjwvZGVmcz48dGV4dD48dGV4dFBhdGggaHJlZj0iI015UGF0aCI+UXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nLjwvdGV4dFBhdGg+PC90ZXh0Pjwvc3ZnPg=="},error:null,type:"NFT"},contact:{name:"testName"},networkOrAccountNotSupports1559:!1,getIsBalanceInsufficient:!1,to:"string to",assetError:null},DefaultStory.parameters={...DefaultStory.parameters,docs:{...null===(_DefaultStory$paramet=DefaultStory.parameters)||void 0===_DefaultStory$paramet?void 0:_DefaultStory$paramet.docs,source:{originalSource:"args => {\n  return <div style={{\n    width: '400px'\n  }}>\n      <SendContent {...args} />\n    </div>;\n}",...null===(_DefaultStory$paramet2=DefaultStory.parameters)||void 0===_DefaultStory$paramet2||null===(_DefaultStory$paramet2=_DefaultStory$paramet2.docs)||void 0===_DefaultStory$paramet2?void 0:_DefaultStory$paramet2.source}}},NftStory.parameters={...NftStory.parameters,docs:{...null===(_NftStory$parameters=NftStory.parameters)||void 0===_NftStory$parameters?void 0:_NftStory$parameters.docs,source:{originalSource:"args => {\n  return <div style={{\n    width: '400px'\n  }}>\n      <SendContent {...args} />\n    </div>;\n}",...null===(_NftStory$parameters2=NftStory.parameters)||void 0===_NftStory$parameters2||null===(_NftStory$parameters2=_NftStory$parameters2.docs)||void 0===_NftStory$parameters2?void 0:_NftStory$parameters2.source}}};const __namedExportsOrder=["DefaultStory","NftStory"];DefaultStory.__docgenInfo={description:"",methods:[],displayName:"DefaultStory"},NftStory.__docgenInfo={description:"",methods:[],displayName:"NftStory"}},"./ui/components/app/confirm-gas-display/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>_confirm_gas_display__WEBPACK_IMPORTED_MODULE_0__.Z});var _confirm_gas_display__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/app/confirm-gas-display/confirm-gas-display.js")},"./ui/components/app/transaction-detail/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_transaction_detail_component__WEBPACK_IMPORTED_MODULE_0__.Z});var _transaction_detail_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/app/transaction-detail/transaction-detail.component.js")},"./ui/components/app/transaction-detail/transaction-detail.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>TransactionDetail});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),gasFee=__webpack_require__("./ui/contexts/gasFee.js"),useI18nContext=__webpack_require__("./ui/hooks/useI18nContext.js"),box=__webpack_require__("./ui/components/ui/box/index.js"),gas=__webpack_require__("./shared/constants/gas.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts"),constants_gas=__webpack_require__("./ui/helpers/constants/gas.js"),useTransactionEventFragment=__webpack_require__("./ui/hooks/useTransactionEventFragment.js"),transaction_modal=__webpack_require__("./ui/contexts/transaction-modal.js"),info_tooltip=__webpack_require__("./ui/components/ui/info-tooltip/info-tooltip.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts");function EditGasFeeButton({userAcknowledgedGasMissing}){const t=(0,useI18nContext.C)(),{editGasMode,gasLimit,hasSimulationError,estimateUsed,maxFeePerGas,maxPriorityFeePerGas,supportsEIP1559,transaction}=(0,gasFee.YJ)(),{updateTransactionEventFragment}=(0,useTransactionEventFragment.s)(),{openModal}=(0,transaction_modal.y8)();if(!supportsEIP1559||!estimateUsed||!(!hasSimulationError||!0===userAcknowledgedGasMissing))return null;let icon=estimateUsed,title=estimateUsed;estimateUsed===gas.o7.high&&editGasMode===gas.G_.swaps?(icon="swapSuggested",title="swapSuggested"):estimateUsed===gas.o7.tenPercentIncreased&&(icon=void 0,title="tenPercentIncreased");return react.createElement("div",{className:"edit-gas-fee-button"},react.createElement("button",{onClick:()=>{updateTransactionEventFragment({gas_edit_attempted:"basic"}),openModal("editGasFee")},"data-testid":"edit-gas-fee-button"},icon&&react.createElement("span",{className:"edit-gas-fee-button__icon"},constants_gas.K7[icon]),react.createElement("span",{className:"edit-gas-fee-button__label"},t(title)),react.createElement(component_library.JO,{name:component_library.uH.ArrowRight,color:design_system.Il.primaryDefault,size:component_library.Jh.Xs})),"custom"===estimateUsed&&react.createElement("button",{onClick:()=>{updateTransactionEventFragment({gas_edit_attempted:"advanced"}),openModal("advancedGasFee")}},t("edit")),"dappSuggested"===estimateUsed&&react.createElement(info_tooltip.Z,{contentText:react.createElement("div",{className:"edit-gas-fee-button__tooltip"},(null==transaction?void 0:transaction.origin)&&react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6",color:design_system.d9.textAlternative},t("dappSuggestedTooltip",[transaction.origin])),react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6"},react.createElement("b",null,t("maxBaseFee"))," ",maxFeePerGas),react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6"},react.createElement("b",null,t("maxPriorityFee"))," ",maxPriorityFeePerGas),react.createElement(component_library.xv,{variant:design_system.rK.bodySm,as:"h6"},react.createElement("b",null,t("gasLimit"))," ",gasLimit)),position:"top"}))}EditGasFeeButton.propTypes={userAcknowledgedGasMissing:prop_types_default().bool},EditGasFeeButton.__docgenInfo={description:"",methods:[],displayName:"EditGasFeeButton",props:{userAcknowledgedGasMissing:{description:"",type:{name:"bool"},required:!1}}};var transaction_detail_item_component=__webpack_require__("./ui/components/app/transaction-detail-item/transaction-detail-item.component.js");function TransactionDetail({rows=[],onEdit,userAcknowledgedGasMissing=!1,disableEditGasFeeButton=!1}){const t=(0,useI18nContext.C)(),{supportsEIP1559}=(0,gasFee.YJ)();return react.createElement("div",{className:"transaction-detail"},supportsEIP1559&&!disableEditGasFeeButton&&react.createElement(box.ZP,{display:"flex",justifyContent:"flex-end",paddingTop:5},react.createElement(EditGasFeeButton,{userAcknowledgedGasMissing})),!supportsEIP1559&&onEdit&&react.createElement("div",{className:"transaction-detail-edit"},react.createElement("button",{onClick:onEdit},t("edit"))),react.createElement("div",{className:"transaction-detail-rows"},rows))}TransactionDetail.propTypes={rows:prop_types_default().arrayOf(transaction_detail_item_component.Z).isRequired,onEdit:prop_types_default().func,userAcknowledgedGasMissing:prop_types_default().bool,disableEditGasFeeButton:prop_types_default().bool},TransactionDetail.__docgenInfo={description:"",methods:[],displayName:"TransactionDetail",props:{rows:{defaultValue:{value:"[]",computed:!1},description:"Show item content for transaction detail. Array of TransactionDetailItem components",type:{name:"arrayOf",value:{name:"custom",raw:"TransactionDetailItem"}},required:!1},userAcknowledgedGasMissing:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},disableEditGasFeeButton:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onEdit:{description:"onClick handler for the Edit link",type:{name:"func"},required:!1}}}},"./ui/components/ui/actionable-message/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>_actionable_message__WEBPACK_IMPORTED_MODULE_0__.Z});var _actionable_message__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./ui/components/ui/actionable-message/actionable-message.js")},"./ui/components/ui/dialog/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>Dialog});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);function Dialog(props){const{children,type,className,onClick}=props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:classnames__WEBPACK_IMPORTED_MODULE_1___default()("dialog",className,{"dialog--message":"message"===type,"dialog--error":"error"===type,"dialog--warning":"warning"===type}),"data-testid":"dialog-message",onClick},children)}Dialog.propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,children:prop_types__WEBPACK_IMPORTED_MODULE_2___default().node,type:prop_types__WEBPACK_IMPORTED_MODULE_2___default().oneOf(["message","error","warning"]),onClick:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func},Dialog.__docgenInfo={description:"@deprecated The `<Dialog />` component has been deprecated in favor of the new `<BannerAlert>` component from the component-library.\nPlease update your code to use the new `<BannerAlert>` component instead, which can be found at ui/components/component-library/banner-alert/banner-alert.js.\nYou can find documentation for the new `BannerAlert` component in the MetaMask Storybook:\n{@link https://metamask.github.io/metamask-storybook/?path=/docs/components-componentlibrary-banneralert--docs}\nIf you would like to help with the replacement of the old `Dialog` component, please submit a pull request against this GitHub issue:\n{@link https://github.com/MetaMask/metamask-extension/issues/20463}",methods:[],displayName:"Dialog",props:{className:{description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"node"},required:!1},type:{description:"",type:{name:"enum",value:[{value:"'message'",computed:!1},{value:"'error'",computed:!1},{value:"'warning'",computed:!1}]},required:!1},onClick:{description:"",type:{name:"func"},required:!1}}}},"./ui/components/ui/loading-heartbeat/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>LoadingHeartBeat});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("./node_modules/react/index.js"),gas=__webpack_require__("./ui/helpers/utils/gas.js"),app=__webpack_require__("./ui/ducks/app/app.ts"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),useGasFeeEstimates=__webpack_require__("./ui/hooks/useGasFeeEstimates.js");var process=__webpack_require__("./node_modules/process/browser.js");const LOADING_CLASS="loading-heartbeat--active";function LoadingHeartBeat({estimateUsed,backgroundColor="var(--color-background-default)"}){!function useShouldAnimateGasEstimations(){const{isGasEstimatesLoading,gasFeeEstimates}=(0,useGasFeeEstimates.a)(),dispatch=(0,es.I0)(),isGasLoadingAnimationActive=(0,es.v9)(app.Jl),lastGasEstimates=(0,react.useRef)(gasFeeEstimates),gasEstimatesChanged=!(0,lodash.isEqual)(lastGasEstimates.current,gasFeeEstimates),gasJustLoaded=(0,lodash.isEqual)(lastGasEstimates.current,{});gasEstimatesChanged&&(lastGasEstimates.current=gasFeeEstimates);const showLoadingAnimation=isGasEstimatesLoading||gasEstimatesChanged&&!gasJustLoaded;(0,react.useEffect)((()=>{!1===isGasLoadingAnimationActive&&!0===showLoadingAnimation&&dispatch((0,app.nh)(!0))}),[dispatch,isGasLoadingAnimationActive,showLoadingAnimation]),(0,react.useEffect)((()=>{let timer;return isGasLoadingAnimationActive&&!showLoadingAnimation&&(timer=setTimeout((()=>{dispatch((0,app.nh)(!1))}),2e3)),()=>{timer&&clearTimeout(timer)}}),[dispatch,isGasLoadingAnimationActive,showLoadingAnimation])}();const active=(0,es.v9)(app.Jl);return process.env.IN_TEST||estimateUsed&&!(0,gas.DW)(estimateUsed)?null:react.createElement("div",{className:classnames_default()("loading-heartbeat",{[LOADING_CLASS]:active}),onClick:e=>{e.preventDefault(),e.stopPropagation()},style:{backgroundColor}})}LoadingHeartBeat.propTypes={backgroundColor:prop_types_default().string,estimateUsed:prop_types_default().string},LoadingHeartBeat.__docgenInfo={description:"",methods:[],displayName:"LoadingHeartBeat",props:{backgroundColor:{defaultValue:{value:"'var(--color-background-default)'",computed:!1},description:"",type:{name:"string"},required:!1},estimateUsed:{description:"",type:{name:"string"},required:!1}}}},"./ui/pages/send/send-content/send-gas-row/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>send_gas_row_container});var es=__webpack_require__("./node_modules/react-redux/es/index.js"),send=__webpack_require__("./ui/ducks/send/index.js"),gas_duck=__webpack_require__("./ui/ducks/gas/gas.duck.js"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts"),send_gas_row_component=__webpack_require__("./ui/pages/send/send-content/send-gas-row/send-gas-row.component.js");const send_gas_row_container=(0,es.$j)((function mapStateToProps(state){const gasPrice=(0,send.o3)(state),gasLimit=(0,send.C7)(state),minimumGasLimit=(0,send.Qy)(state);return{minimumGasLimit:(0,conversion_utils.Z8)(minimumGasLimit),gasFeeError:(0,send.o7)(state),gasLoadingError:(0,send.yo)(state),gasInputMode:(0,send.Ll)(state),gasPrice,gasLimit,insufficientBalance:(0,send.G0)(state)}}),(function mapDispatchToProps(dispatch){return{updateGasPrice:gasPrice=>{dispatch((0,send.dy)(gasPrice)),dispatch((0,gas_duck.Li)(gasPrice))},updateGasLimit:newLimit=>{dispatch((0,send.OQ)(newLimit)),dispatch((0,gas_duck.BH)(newLimit))}}}))(send_gas_row_component.Z)},"./ui/pages/send/send-content/send-gas-row/send-gas-row.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SendGasRow});var react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),send_row_wrapper=__webpack_require__("./ui/pages/send/send-content/send-row-wrapper/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),send_constants=__webpack_require__("./ui/pages/send/send.constants.js"),conversion_utils=__webpack_require__("./shared/modules/conversion.utils.ts"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),tooltip=__webpack_require__("./ui/components/ui/tooltip/index.js"),component_library=__webpack_require__("./ui/components/component-library/index.ts"),design_system=__webpack_require__("./ui/helpers/constants/design-system.ts");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class AdvancedGasInputs extends react.Component{constructor(props){super(props),_defineProperty(this,"onChangeGasLimit",(e=>{this.setState({gasLimit:e.target.value}),this.changeGasLimit({target:{value:e.target.value}})})),_defineProperty(this,"changeGasLimit",(e=>{this.props.updateCustomGasLimit(Number(e.target.value))})),_defineProperty(this,"onChangeGasPrice",(e=>{this.setState({gasPrice:e.target.value}),this.changeGasPrice({target:{value:e.target.value}})})),_defineProperty(this,"changeGasPrice",(e=>{this.props.updateCustomGasPrice(Number(e.target.value))})),this.state={gasPrice:this.props.customGasPrice,gasLimit:this.props.customGasLimit},this.changeGasPrice=(0,lodash.debounce)(this.changeGasPrice,500),this.changeGasLimit=(0,lodash.debounce)(this.changeGasLimit,500)}componentDidUpdate(prevProps){const{customGasPrice:prevCustomGasPrice,customGasLimit:prevCustomGasLimit}=prevProps,{customGasPrice,customGasLimit}=this.props,{gasPrice,gasLimit}=this.state;customGasPrice!==prevCustomGasPrice&&customGasPrice!==gasPrice&&this.setState({gasPrice:customGasPrice}),customGasLimit!==prevCustomGasLimit&&customGasLimit!==gasLimit&&this.setState({gasLimit:customGasLimit})}gasPriceError({insufficientBalance,customPriceIsSafe,isSpeedUp,gasPrice,customPriceIsExcessive}){const{t}=this.context;return insufficientBalance?{errorText:t("insufficientBalance"),errorType:"error"}:isSpeedUp&&0===gasPrice?{errorText:t("zeroGasPriceOnSpeedUpError"),errorType:"error"}:customPriceIsSafe?customPriceIsExcessive?{errorText:t("gasPriceExcessiveInput"),errorType:"error"}:{}:{errorText:t("gasPriceExtremelyLow"),errorType:"warning"}}gasLimitError({insufficientBalance,gasLimit,minimumGasLimit}){const{t}=this.context;return insufficientBalance?{errorText:t("insufficientBalance"),errorType:"error"}:gasLimit<minimumGasLimit?{errorText:t("gasLimitTooLowWithDynamicFee",[minimumGasLimit]),errorType:"error"}:{}}renderGasInput({value,onChange,errorComponent,errorType,label,testId,customMessageComponent,tooltipTitle,disabled}){return react.createElement("div",{className:"advanced-gas-inputs__gas-edit-row"},react.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__label"},label,react.createElement(tooltip.Z,{title:tooltipTitle,position:"top",arrow:!0},react.createElement(component_library.JO,{name:component_library.uH.Info,color:design_system.EY.iconAlternative,className:"info-circle"}))),react.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-wrapper"},react.createElement("input",{className:classnames_default()("advanced-gas-inputs__gas-edit-row__input",{"advanced-gas-inputs__gas-edit-row__input--error":"error"===errorType,"advanced-gas-inputs__gas-edit-row__input--warning":"warning"===errorType}),type:"number",min:"0",value,onChange,disabled,"data-testid":testId}),react.createElement("div",{className:classnames_default()("advanced-gas-inputs__gas-edit-row__input-arrows",{"advanced-gas-inputs__gas-edit-row__input--error":"error"===errorType,"advanced-gas-inputs__gas-edit-row__input--warning":"warning"===errorType,"advanced-gas-inputs__gas-edit-row__input-arrows--hidden":disabled})},react.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-arrows__i-wrap",onClick:()=>!disabled&&onChange({target:{value:value+1}})},react.createElement("i",{className:"fa fa-sm fa-angle-up"})),react.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-arrows__i-wrap",onClick:()=>!disabled&&onChange({target:{value:Math.max(value-1,0)}})},react.createElement("i",{className:"fa fa-sm fa-angle-down"}))),errorComponent||customMessageComponent))}render(){const{insufficientBalance,customPriceIsSafe,isSpeedUp,customGasLimitMessage,minimumGasLimit,customPriceIsExcessive}=this.props,{gasPrice,gasLimit}=this.state,{errorText:gasPriceErrorText,errorType:gasPriceErrorType}=this.gasPriceError({insufficientBalance,customPriceIsSafe,isSpeedUp,gasPrice,customPriceIsExcessive}),gasPriceErrorComponent=gasPriceErrorType?react.createElement("div",{className:`advanced-gas-inputs__gas-edit-row__${gasPriceErrorType}-text`},gasPriceErrorText):null,{errorText:gasLimitErrorText,errorType:gasLimitErrorType}=this.gasLimitError({insufficientBalance,gasLimit,minimumGasLimit}),gasLimitErrorComponent=gasLimitErrorType?react.createElement("div",{className:`advanced-gas-inputs__gas-edit-row__${gasLimitErrorType}-text`},gasLimitErrorText):null,gasLimitCustomMessageComponent=customGasLimitMessage?react.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__custom-text"},customGasLimitMessage):null;return react.createElement("div",{className:"advanced-gas-inputs__gas-edit-rows"},this.renderGasInput({label:this.context.t("gasPrice"),testId:"gas-price",tooltipTitle:this.context.t("gasPriceInfoTooltipContent"),value:this.state.gasPrice,onChange:this.onChangeGasPrice,errorComponent:gasPriceErrorComponent,errorType:gasPriceErrorType}),this.renderGasInput({label:this.context.t("gasLimit"),testId:"gas-limit",tooltipTitle:this.context.t("gasLimitInfoTooltipContent"),value:this.state.gasLimit,onChange:this.onChangeGasLimit,errorComponent:gasLimitErrorComponent,customMessageComponent:gasLimitCustomMessageComponent,errorType:gasLimitErrorType}))}}function convertMinimumGasLimitForInputs(minimumGasLimit=send_constants.Ei){return parseInt(minimumGasLimit,10)}_defineProperty(AdvancedGasInputs,"contextTypes",{t:prop_types_default().func}),_defineProperty(AdvancedGasInputs,"propTypes",{updateCustomGasPrice:prop_types_default().func,updateCustomGasLimit:prop_types_default().func,customGasPrice:prop_types_default().number.isRequired,customGasLimit:prop_types_default().number.isRequired,insufficientBalance:prop_types_default().bool,customPriceIsSafe:prop_types_default().bool,isSpeedUp:prop_types_default().bool,customGasLimitMessage:prop_types_default().string,minimumGasLimit:prop_types_default().number,customPriceIsExcessive:prop_types_default().bool}),_defineProperty(AdvancedGasInputs,"defaultProps",{customPriceIsExcessive:!1}),AdvancedGasInputs.__docgenInfo={description:"",methods:[{name:"onChangeGasLimit",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"changeGasLimit",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onChangeGasPrice",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"changeGasPrice",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"gasPriceError",docblock:null,modifiers:[],params:[{name:"{\n  insufficientBalance,\n  customPriceIsSafe,\n  isSpeedUp,\n  gasPrice,\n  customPriceIsExcessive,\n}",type:null}],returns:null},{name:"gasLimitError",docblock:null,modifiers:[],params:[{name:"{ insufficientBalance, gasLimit, minimumGasLimit }",type:null}],returns:null},{name:"renderGasInput",docblock:null,modifiers:[],params:[{name:"{\n  value,\n  onChange,\n  errorComponent,\n  errorType,\n  label,\n  testId,\n  customMessageComponent,\n  tooltipTitle,\n  disabled,\n}",type:null}],returns:null}],displayName:"AdvancedGasInputs",props:{customPriceIsExcessive:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},updateCustomGasPrice:{description:"",type:{name:"func"},required:!1},updateCustomGasLimit:{description:"",type:{name:"func"},required:!1},customGasPrice:{description:"",type:{name:"number"},required:!0},customGasLimit:{description:"",type:{name:"number"},required:!0},insufficientBalance:{description:"",type:{name:"bool"},required:!1},customPriceIsSafe:{description:"",type:{name:"bool"},required:!1},isSpeedUp:{description:"",type:{name:"bool"},required:!1},customGasLimitMessage:{description:"",type:{name:"string"},required:!1},minimumGasLimit:{description:"",type:{name:"number"},required:!1}},context:{t:{type:{name:"func"},required:!1}}};const advanced_gas_inputs_container=(0,es.$j)(void 0,null,(function mergeProps(stateProps,dispatchProps,ownProps){const{customGasPrice,customGasLimit,updateCustomGasPrice,updateCustomGasLimit,minimumGasLimit}=ownProps;return{...ownProps,...stateProps,...dispatchProps,customGasPrice:(gasPriceInHexWEI=customGasPrice,Number((0,conversion_utils.Yg)(gasPriceInHexWEI))),customGasLimit:(gasLimitInHexWEI=customGasLimit,parseInt(gasLimitInHexWEI,16)||0),minimumGasLimit:convertMinimumGasLimitForInputs(minimumGasLimit),updateCustomGasPrice:price=>updateCustomGasPrice((0,conversion_utils.Kn)(price)),updateCustomGasLimit:limit=>updateCustomGasLimit((0,conversion_utils.X0)(limit))};var gasLimitInHexWEI,gasPriceInHexWEI}))(AdvancedGasInputs);var send=__webpack_require__("./ui/ducks/send/index.js");function send_gas_row_component_defineProperty(obj,key,value){return(key=function send_gas_row_component_toPropertyKey(arg){var key=function send_gas_row_component_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SendGasRow extends react.Component{render(){const{updateGasPrice,updateGasLimit,gasPrice,gasLimit,insufficientBalance,minimumGasLimit,gasInputMode}=this.props;return gasInputMode!==send.jd.INLINE?null:react.createElement(send_row_wrapper.Z,null,react.createElement(advanced_gas_inputs_container,{updateCustomGasPrice:updateGasPrice,updateCustomGasLimit:updateGasLimit,customGasPrice:gasPrice,customGasLimit:gasLimit,insufficientBalance,minimumGasLimit,customPriceIsSafe:!0,isSpeedUp:!1}))}}send_gas_row_component_defineProperty(SendGasRow,"propTypes",{updateGasPrice:prop_types_default().func,updateGasLimit:prop_types_default().func,gasInputMode:prop_types_default().oneOf(Object.values(send.jd)),gasPrice:prop_types_default().string,gasLimit:prop_types_default().string,insufficientBalance:prop_types_default().bool,minimumGasLimit:prop_types_default().string}),send_gas_row_component_defineProperty(SendGasRow,"contextTypes",{t:prop_types_default().func,trackEvent:prop_types_default().func}),SendGasRow.__docgenInfo={description:"",methods:[],displayName:"SendGasRow",props:{updateGasPrice:{description:"",type:{name:"func"},required:!1},updateGasLimit:{description:"",type:{name:"func"},required:!1},gasInputMode:{description:"",type:{name:"enum",computed:!0,value:"Object.values(GAS_INPUT_MODES)"},required:!1},gasPrice:{description:"",type:{name:"string"},required:!1},gasLimit:{description:"",type:{name:"string"},required:!1},insufficientBalance:{description:"",type:{name:"bool"},required:!1},minimumGasLimit:{description:"",type:{name:"string"},required:!1}},context:{t:{type:{name:"func"},required:!1},trackEvent:{type:{name:"func"},required:!1}}}},"./ui/pages/send/send-content/send-hex-data-row/send-hex-data-row.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SendHexDataRow});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__),_send_row_wrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./ui/pages/send/send-content/send-row-wrapper/index.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class SendHexDataRow extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(...args){super(...args),_defineProperty(this,"onInput",(event=>{const{updateSendHexData}=this.props;updateSendHexData(event.target.value.replace(/\n/gu,"")||null)}))}render(){const{inError,data}=this.props,{t}=this.context;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_send_row_wrapper__WEBPACK_IMPORTED_MODULE_1__.Z,{label:`${t("hexData")}:`,showError:inError,errorType:"amount"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{onInput:this.onInput,placeholder:t("optional"),className:"send-v2__hex-data__input",defaultValue:data||""}))}}_defineProperty(SendHexDataRow,"propTypes",{inError:prop_types__WEBPACK_IMPORTED_MODULE_2___default().bool,data:prop_types__WEBPACK_IMPORTED_MODULE_2___default().string,updateSendHexData:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func.isRequired}),_defineProperty(SendHexDataRow,"contextTypes",{t:prop_types__WEBPACK_IMPORTED_MODULE_2___default().func}),SendHexDataRow.__docgenInfo={description:"",methods:[{name:"onInput",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"SendHexDataRow",props:{inError:{description:"",type:{name:"bool"},required:!1},data:{description:"",type:{name:"string"},required:!1},updateSendHexData:{description:"",type:{name:"func"},required:!0}},context:{t:{type:{name:"func"},required:!1}}}}}]);